!function(e){var r={};function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(r){return e[r]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=17)}([function(e,r,t){(function(r,n,i){var o=function(e){var o,a=void 0!==(e=e||{})?e:{},s={};for(o in a)a.hasOwnProperty(o)&&(s[o]=a[o]);var u=[],c=!1,f=!1,l=!1,d=!1,m=!1;c="object"==typeof window,f="function"==typeof importScripts,d="object"==typeof r&&"object"==typeof r.versions&&"string"==typeof r.versions.node,l=d&&!c&&!f,m=!c&&!l&&!f;var p,h,g,v,y="";function b(e){return a.locateFile?a.locateFile(e,y):y+e}l?(y=n+"/",p=function(e,r){var n;return g||(g=t(14)),v||(v=t(15)),e=v.normalize(e),n=g.readFileSync(e),r?n:n.toString()},h=function(e){var r=p(e,!0);return r.buffer||(r=new Uint8Array(r)),k(r.buffer),r},r.argv.length>1&&r.argv[1].replace(/\\/g,"/"),u=r.argv.slice(2),r.on("uncaughtException",(function(e){if(!(e instanceof Gf))throw e})),r.on("unhandledRejection",ye),a.inspect=function(){return"[Emscripten Module object]"}):m?("undefined"!=typeof read&&(p=function(e){return read(e)}),h=function(e){var r;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(k("object"==typeof(r=read(e,"binary"))),r)},"undefined"!=typeof scriptArgs?u=scriptArgs:void 0!==arguments&&(u=arguments),"function"==typeof quit&&function(e){quit(e)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(c||f)&&(f?y=self.location.href:document.currentScript&&(y=document.currentScript.src),y=0!==y.indexOf("blob:")?y.substr(0,y.lastIndexOf("/")+1):"",p=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},f&&(h=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),function(e,r,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?r(n.response):t()},n.onerror=t,n.send(null)});var _=a.print||console.log.bind(console),w=a.printErr||console.warn.bind(console);for(o in s)s.hasOwnProperty(o)&&(a[o]=s[o]);s=null,a.arguments&&(u=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&a.quit;function E(e,r,t){return t?+(e>>>0)+4294967296*+(r>>>0):+(e>>>0)+4294967296*+(0|r)}var x,A,T=function(e){e};a.wasmBinary&&(x=a.wasmBinary),a.noExitRuntime&&a.noExitRuntime,"object"!=typeof WebAssembly&&w("no native wasm support detected");var P=new WebAssembly.Table({initial:1629,maximum:1629,element:"anyfunc"}),S=!1;function k(e,r){e||ye("Assertion failed: "+r)}var B="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,r,t){for(var n=r+t,i=r;e[i]&&!(i>=n);)++i;if(i-r>16&&e.subarray&&B)return B.decode(e.subarray(r,i));for(var o="";r<i;){var a=e[r++];if(128&a){var s=63&e[r++];if(192!=(224&a)){var u=63&e[r++];if((a=224==(240&a)?(15&a)<<12|s<<6|u:(7&a)<<18|s<<12|u<<6|63&e[r++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|s)}else o+=String.fromCharCode(a)}return o}function M(e,r){return e?C(U,e,r):""}function D(e,r,t,n){if(!(n>0))return 0;for(var i=t,o=t+n-1,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(s<=127){if(t>=o)break;r[t++]=s}else if(s<=2047){if(t+1>=o)break;r[t++]=192|s>>6,r[t++]=128|63&s}else if(s<=65535){if(t+2>=o)break;r[t++]=224|s>>12,r[t++]=128|s>>6&63,r[t++]=128|63&s}else{if(t+3>=o)break;r[t++]=240|s>>18,r[t++]=128|s>>12&63,r[t++]=128|s>>6&63,r[t++]=128|63&s}}return r[t]=0,t-i}function I(e,r,t){return D(e,U,r,t)}function F(e){for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++t)),n<=127?++r:r+=n<=2047?2:n<=65535?3:4}return r}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var R,L,U,G,O,N,$,V,j,W=16384,z=65536;function q(e,r){return e%r>0&&(e+=r-e%r),e}function X(e){R=e,a.HEAP8=L=new Int8Array(e),a.HEAP16=G=new Int16Array(e),a.HEAP32=N=new Int32Array(e),a.HEAPU8=U=new Uint8Array(e),a.HEAPU16=O=new Uint16Array(e),a.HEAPU32=$=new Uint32Array(e),a.HEAPF32=V=new Float32Array(e),a.HEAPF64=j=new Float64Array(e)}var Q=5847984,Y=604944,H=a.TOTAL_MEMORY||16777216;function K(e){for(;e.length>0;){var r=e.shift();if("function"!=typeof r){var t=r.func;"number"==typeof t?void 0===r.arg?a.dynCall_v(t):a.dynCall_vi(t,r.arg):t(void 0===r.arg?null:r.arg)}else r()}}(A=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:H/z}))&&(R=A.buffer),H=R.byteLength,X(R),N[Y>>2]=Q;var Z=[],J=[],ee=[],re=[],te=[];function ne(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)se(a.preRun.shift());K(Z)}function ie(){!0,a.noFSInit||Ue.init.initialized||Ue.init(),Re.init(),K(J)}function oe(){Ue.ignorePermissions=!1,K(ee)}function ae(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)ue(a.postRun.shift());K(te)}function se(e){Z.unshift(e)}function ue(e){te.unshift(e)}var ce=Math.abs,fe=Math.ceil,le=Math.floor,de=Math.min,me=0,pe=null,he=null;function ge(e){me++,a.monitorRunDependencies&&a.monitorRunDependencies(me)}function ve(e){if(me--,a.monitorRunDependencies&&a.monitorRunDependencies(me),0==me&&(null!==pe&&(clearInterval(pe),pe=null),he)){var r=he;he=null,r()}}function ye(e){throw a.onAbort&&a.onAbort(e),_(e+=""),w(e),S=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}a.preloadedImages={},a.preloadedAudios={};var be="data:application/octet-stream;base64,";function _e(e){return String.prototype.startsWith?e.startsWith(be):0===e.indexOf(be)}var we,Ee,xe="filament.wasm";function Ae(){try{if(x)return new Uint8Array(x);if(h)return h(xe);throw"both async and sync fetching of the wasm failed"}catch(e){ye(e)}}function Te(){return x||!c&&!f||"function"!=typeof fetch?new Promise((function(e,r){e(Ae())})):fetch(xe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+xe+"'";return e.arrayBuffer()})).catch((function(){return Ae()}))}function Pe(){var e={env:Mf,wasi_unstable:Mf};function r(e,r){var t=e.exports;a.asm=t,ve()}function t(e){r(e.instance)}function n(r){return Te().then((function(r){return WebAssembly.instantiate(r,e)})).then(r,(function(e){w("failed to asynchronously prepare wasm: "+e),ye(e)}))}if(ge(),a.instantiateWasm)try{return a.instantiateWasm(e,r)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(x||"function"!=typeof WebAssembly.instantiateStreaming||_e(xe)||"function"!=typeof fetch)return n(t);fetch(xe,{credentials:"same-origin"}).then((function(r){return WebAssembly.instantiateStreaming(r,e).then(t,(function(e){w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),n(t)}))}))}(),{}}function Se(e){return e.replace(/\b_Z[\w\d_]+/g,(function(e){return e===e?e:e+" ["+e+"]"}))}function ke(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(r){e=r}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function Be(){var e=ke();return a.extraStackTrace&&(e+="\n"+a.extraStackTrace()),Se(e)}function Ce(e,r){re.unshift({func:e,arg:r})}function Me(){return Ce.apply(null,arguments)}_e(xe)||(xe=b(xe)),J.push({func:function(){Ff()}});var De={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,r){for(var t=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:function(e){var r="/"===e.charAt(0),t="/"===e.substr(-1);return(e=De.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||r||(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:function(e){var r=De.splitPath(e),t=r[0],n=r[1];return t||n?(n&&(n=n.substr(0,n.length-1)),t+n):"."},basename:function(e){if("/"===e)return"/";var r=e.lastIndexOf("/");return-1===r?e:e.substr(r+1)},extname:function(e){return De.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return De.normalize(e.join("/"))},join2:function(e,r){return De.normalize(e+"/"+r)}};function Ie(e){return a.___errno_location&&(N[a.___errno_location()>>2]=e),e}var Fe={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:Ue.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r="/"===n.charAt(0)}return(r?"/":"")+(e=De.normalizeArray(e.split("/").filter((function(e){return!!e})),!r).join("/"))||"."},relative:function(e,r){function t(e){for(var r=0;r<e.length&&""===e[r];r++);for(var t=e.length-1;t>=0&&""===e[t];t--);return r>t?[]:e.slice(r,t-r+1)}e=Fe.resolve(e).substr(1),r=Fe.resolve(r).substr(1);for(var n=t(e.split("/")),i=t(r.split("/")),o=Math.min(n.length,i.length),a=o,s=0;s<o;s++)if(n[s]!==i[s]){a=s;break}var u=[];for(s=a;s<n.length;s++)u.push("..");return(u=u.concat(i.slice(a))).join("/")}},Re={ttys:[],init:function(){},shutdown:function(){},register:function(e,r){Re.ttys[e]={input:[],output:[],ops:r},Ue.registerDevice(e,Re.stream_ops)},stream_ops:{open:function(e){var r=Re.ttys[e.node.rdev];if(!r)throw new Ue.ErrnoError(43);e.tty=r,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,r,t,n,i){if(!e.tty||!e.tty.ops.get_char)throw new Ue.ErrnoError(60);for(var o=0,a=0;a<n;a++){var s;try{s=e.tty.ops.get_char(e.tty)}catch(e){throw new Ue.ErrnoError(29)}if(void 0===s&&0===o)throw new Ue.ErrnoError(6);if(null==s)break;o++,r[t+a]=s}return o&&(e.node.timestamp=Date.now()),o},write:function(e,r,t,n,i){if(!e.tty||!e.tty.ops.put_char)throw new Ue.ErrnoError(60);try{for(var o=0;o<n;o++)e.tty.ops.put_char(e.tty,r[t+o])}catch(e){throw new Ue.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var t=null;if(l){var n=i.alloc?i.alloc(256):new i(256),o=0;try{o=g.readSync(r.stdin.fd,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;o=0}t=o>0?n.slice(0,o).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&null!==(t=readline())&&(t+="\n");if(!t)return null;e.input=Cf(t,!0)}return e.input.shift()},put_char:function(e,r){null===r||10===r?(_(C(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(_(C(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,r){null===r||10===r?(w(C(e.output,0)),e.output=[]):0!=r&&e.output.push(r)},flush:function(e){e.output&&e.output.length>0&&(w(C(e.output,0)),e.output=[])}}},Le={ops_table:null,mount:function(e){return Le.createNode(null,"/",16895,0)},createNode:function(e,r,t,n){if(Ue.isBlkdev(t)||Ue.isFIFO(t))throw new Ue.ErrnoError(63);Le.ops_table||(Le.ops_table={dir:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr,lookup:Le.node_ops.lookup,mknod:Le.node_ops.mknod,rename:Le.node_ops.rename,unlink:Le.node_ops.unlink,rmdir:Le.node_ops.rmdir,readdir:Le.node_ops.readdir,symlink:Le.node_ops.symlink},stream:{llseek:Le.stream_ops.llseek}},file:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr},stream:{llseek:Le.stream_ops.llseek,read:Le.stream_ops.read,write:Le.stream_ops.write,allocate:Le.stream_ops.allocate,mmap:Le.stream_ops.mmap,msync:Le.stream_ops.msync}},link:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr,readlink:Le.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr},stream:Ue.chrdev_stream_ops}});var i=Ue.createNode(e,r,t,n);return Ue.isDir(i.mode)?(i.node_ops=Le.ops_table.dir.node,i.stream_ops=Le.ops_table.dir.stream,i.contents={}):Ue.isFile(i.mode)?(i.node_ops=Le.ops_table.file.node,i.stream_ops=Le.ops_table.file.stream,i.usedBytes=0,i.contents=null):Ue.isLink(i.mode)?(i.node_ops=Le.ops_table.link.node,i.stream_ops=Le.ops_table.link.stream):Ue.isChrdev(i.mode)&&(i.node_ops=Le.ops_table.chrdev.node,i.stream_ops=Le.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[r]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var r=[],t=0;t<e.usedBytes;++t)r.push(e.contents[t]);return r}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){r=Math.max(r,t*(t<1048576?2:1.125)|0),0!=t&&(r=Math.max(r,256));var n=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,r){if(e.usedBytes!=r){if(0==r)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var t=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(r)),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),void(e.usedBytes=r)}if(e.contents||(e.contents=[]),e.contents.length>r)e.contents.length=r;else for(;e.contents.length<r;)e.contents.push(0);e.usedBytes=r}},node_ops:{getattr:function(e){var r={};return r.dev=Ue.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,Ue.isDir(e.mode)?r.size=4096:Ue.isFile(e.mode)?r.size=e.usedBytes:Ue.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(e,r){void 0!==r.mode&&(e.mode=r.mode),void 0!==r.timestamp&&(e.timestamp=r.timestamp),void 0!==r.size&&Le.resizeFileStorage(e,r.size)},lookup:function(e,r){throw Ue.genericErrors[44]},mknod:function(e,r,t,n){return Le.createNode(e,r,t,n)},rename:function(e,r,t){if(Ue.isDir(e.mode)){var n;try{n=Ue.lookupNode(r,t)}catch(e){}if(n)for(var i in n.contents)throw new Ue.ErrnoError(55)}delete e.parent.contents[e.name],e.name=t,r.contents[t]=e,e.parent=r},unlink:function(e,r){delete e.contents[r]},rmdir:function(e,r){var t=Ue.lookupNode(e,r);for(var n in t.contents)throw new Ue.ErrnoError(55);delete e.contents[r]},readdir:function(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink:function(e,r,t){var n=Le.createNode(e,r,41471,0);return n.link=t,n},readlink:function(e){if(!Ue.isLink(e.mode))throw new Ue.ErrnoError(28);return e.link}},stream_ops:{read:function(e,r,t,n,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,n);if(a>8&&o.subarray)r.set(o.subarray(i,i+a),t);else for(var s=0;s<a;s++)r[t+s]=o[i+s];return a},write:function(e,r,t,n,i,o){if(!1,!n)return 0;var a=e.node;if(a.timestamp=Date.now(),r.subarray&&(!a.contents||a.contents.subarray)){if(0===a.usedBytes&&0===i)return a.contents=new Uint8Array(r.subarray(t,t+n)),a.usedBytes=n,n;if(i+n<=a.usedBytes)return a.contents.set(r.subarray(t,t+n),i),n}if(Le.expandFileStorage(a,i+n),a.contents.subarray&&r.subarray)a.contents.set(r.subarray(t,t+n),i);else for(var s=0;s<n;s++)a.contents[i+s]=r[t+s];return a.usedBytes=Math.max(a.usedBytes,i+n),n},llseek:function(e,r,t){var n=r;if(1===t?n+=e.position:2===t&&Ue.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new Ue.ErrnoError(28);return n},allocate:function(e,r,t){Le.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap:function(e,r,t,n,i,o,a){if(!Ue.isFile(e.node.mode))throw new Ue.ErrnoError(43);var s,u,c=e.node.contents;if(2&a||c.buffer!==r&&c.buffer!==r.buffer){(i>0||i+n<e.node.usedBytes)&&(c=c.subarray?c.subarray(i,i+n):Array.prototype.slice.call(c,i,i+n)),u=!0;var f=r.buffer==L.buffer;if(!(s=Lf(n)))throw new Ue.ErrnoError(48);(f?L:r).set(c,s)}else u=!1,s=c.byteOffset;return{ptr:s,allocated:u}},msync:function(e,r,t,n,i){if(!Ue.isFile(e.node.mode))throw new Ue.ErrnoError(43);if(2&i)return 0;Le.stream_ops.write(e,r,0,n,t,!1);return 0}}},Ue={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof Ue.ErrnoError))throw e+" : "+Be();return Ie(e.errno)},lookupPath:function(e,r){if(r=r||{},!(e=Fe.resolve(Ue.cwd(),e)))return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};for(var n in t)void 0===r[n]&&(r[n]=t[n]);if(r.recurse_count>8)throw new Ue.ErrnoError(32);for(var i=De.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),o=Ue.root,a="/",s=0;s<i.length;s++){var u=s===i.length-1;if(u&&r.parent)break;if(o=Ue.lookupNode(o,i[s]),a=De.join2(a,i[s]),Ue.isMountpoint(o)&&(!u||u&&r.follow_mount)&&(o=o.mounted.root),!u||r.follow)for(var c=0;Ue.isLink(o.mode);){var f=Ue.readlink(a);if(a=Fe.resolve(De.dirname(a),f),o=Ue.lookupPath(a,{recurse_count:r.recurse_count}).node,c++>40)throw new Ue.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var r;;){if(Ue.isRoot(e)){var t=e.mount.mountpoint;return r?"/"!==t[t.length-1]?t+"/"+r:t+r:t}r=r?e.name+"/"+r:e.name,e=e.parent}},hashName:function(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%Ue.nameTable.length},hashAddNode:function(e){var r=Ue.hashName(e.parent.id,e.name);e.name_next=Ue.nameTable[r],Ue.nameTable[r]=e},hashRemoveNode:function(e){var r=Ue.hashName(e.parent.id,e.name);if(Ue.nameTable[r]===e)Ue.nameTable[r]=e.name_next;else for(var t=Ue.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode:function(e,r){var t=Ue.mayLookup(e);if(t)throw new Ue.ErrnoError(t,e);for(var n=Ue.hashName(e.id,r),i=Ue.nameTable[n];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===r)return i}return Ue.lookup(e,r)},createNode:function(e,r,t,n){if(!Ue.FSNode){Ue.FSNode=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ue.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n},Ue.FSNode.prototype={};Object.defineProperties(Ue.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Ue.isDir(this.mode)}},isDevice:{get:function(){return Ue.isChrdev(this.mode)}}})}var i=new Ue.FSNode(e,r,t,n);return Ue.hashAddNode(i),i},destroyNode:function(e){Ue.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var r=Ue.flagModes[e];if(void 0===r)throw new Error("Unknown file open mode: "+e);return r},flagsToPermissionString:function(e){var r=["r","w","rw"][3&e];return 512&e&&(r+="w"),r},nodePermissions:function(e,r){return Ue.ignorePermissions?0:(-1===r.indexOf("r")||292&e.mode)&&(-1===r.indexOf("w")||146&e.mode)&&(-1===r.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var r=Ue.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate:function(e,r){try{Ue.lookupNode(e,r);return 20}catch(e){}return Ue.nodePermissions(e,"wx")},mayDelete:function(e,r,t){var n;try{n=Ue.lookupNode(e,r)}catch(e){return e.errno}var i=Ue.nodePermissions(e,"wx");if(i)return i;if(t){if(!Ue.isDir(n.mode))return 54;if(Ue.isRoot(n)||Ue.getPath(n)===Ue.cwd())return 10}else if(Ue.isDir(n.mode))return 31;return 0},mayOpen:function(e,r){return e?Ue.isLink(e.mode)?32:Ue.isDir(e.mode)&&("r"!==Ue.flagsToPermissionString(r)||512&r)?31:Ue.nodePermissions(e,Ue.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(e,r){e=e||0,r=r||Ue.MAX_OPEN_FDS;for(var t=e;t<=r;t++)if(!Ue.streams[t])return t;throw new Ue.ErrnoError(33)},getStream:function(e){return Ue.streams[e]},createStream:function(e,r,t){Ue.FSStream||(Ue.FSStream=function(){},Ue.FSStream.prototype={},Object.defineProperties(Ue.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var n=new Ue.FSStream;for(var i in e)n[i]=e[i];e=n;var o=Ue.nextfd(r,t);return e.fd=o,Ue.streams[o]=e,e},closeStream:function(e){Ue.streams[e]=null},chrdev_stream_ops:{open:function(e){var r=Ue.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ue.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,r){return e<<8|r},registerDevice:function(e,r){Ue.devices[e]={stream_ops:r}},getDevice:function(e){return Ue.devices[e]},getMounts:function(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs:function(e,r){"function"==typeof e&&(r=e,e=!1),Ue.syncFSRequests++,Ue.syncFSRequests>1&&console.log("warning: "+Ue.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var t=Ue.getMounts(Ue.root.mount),n=0;function i(e){return Ue.syncFSRequests--,r(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++n>=t.length&&i(null)}t.forEach((function(r){if(!r.type.syncfs)return o(null);r.type.syncfs(r,e,o)}))},mount:function(e,r,t){var n,i="/"===t,o=!t;if(i&&Ue.root)throw new Ue.ErrnoError(10);if(!i&&!o){var a=Ue.lookupPath(t,{follow_mount:!1});if(t=a.path,n=a.node,Ue.isMountpoint(n))throw new Ue.ErrnoError(10);if(!Ue.isDir(n.mode))throw new Ue.ErrnoError(54)}var s={type:e,opts:r,mountpoint:t,mounts:[]},u=e.mount(s);return u.mount=s,s.root=u,i?Ue.root=u:n&&(n.mounted=s,n.mount&&n.mount.mounts.push(s)),u},unmount:function(e){var r=Ue.lookupPath(e,{follow_mount:!1});if(!Ue.isMountpoint(r.node))throw new Ue.ErrnoError(28);var t=r.node,n=t.mounted,i=Ue.getMounts(n);Object.keys(Ue.nameTable).forEach((function(e){for(var r=Ue.nameTable[e];r;){var t=r.name_next;-1!==i.indexOf(r.mount)&&Ue.destroyNode(r),r=t}})),t.mounted=null;var o=t.mount.mounts.indexOf(n);t.mount.mounts.splice(o,1)},lookup:function(e,r){return e.node_ops.lookup(e,r)},mknod:function(e,r,t){var n=Ue.lookupPath(e,{parent:!0}).node,i=De.basename(e);if(!i||"."===i||".."===i)throw new Ue.ErrnoError(28);var o=Ue.mayCreate(n,i);if(o)throw new Ue.ErrnoError(o);if(!n.node_ops.mknod)throw new Ue.ErrnoError(63);return n.node_ops.mknod(n,i,r,t)},create:function(e,r){return r=void 0!==r?r:438,r&=4095,r|=32768,Ue.mknod(e,r,0)},mkdir:function(e,r){return r=void 0!==r?r:511,r&=1023,r|=16384,Ue.mknod(e,r,0)},mkdirTree:function(e,r){for(var t=e.split("/"),n="",i=0;i<t.length;++i)if(t[i]){n+="/"+t[i];try{Ue.mkdir(n,r)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,r,t){return void 0===t&&(t=r,r=438),r|=8192,Ue.mknod(e,r,t)},symlink:function(e,r){if(!Fe.resolve(e))throw new Ue.ErrnoError(44);var t=Ue.lookupPath(r,{parent:!0}).node;if(!t)throw new Ue.ErrnoError(44);var n=De.basename(r),i=Ue.mayCreate(t,n);if(i)throw new Ue.ErrnoError(i);if(!t.node_ops.symlink)throw new Ue.ErrnoError(63);return t.node_ops.symlink(t,n,e)},rename:function(e,r){var t,n,i=De.dirname(e),o=De.dirname(r),a=De.basename(e),s=De.basename(r);try{t=Ue.lookupPath(e,{parent:!0}).node,n=Ue.lookupPath(r,{parent:!0}).node}catch(e){throw new Ue.ErrnoError(10)}if(!t||!n)throw new Ue.ErrnoError(44);if(t.mount!==n.mount)throw new Ue.ErrnoError(75);var u,c=Ue.lookupNode(t,a),f=Fe.relative(e,o);if("."!==f.charAt(0))throw new Ue.ErrnoError(28);if("."!==(f=Fe.relative(r,i)).charAt(0))throw new Ue.ErrnoError(55);try{u=Ue.lookupNode(n,s)}catch(e){}if(c!==u){var l=Ue.isDir(c.mode),d=Ue.mayDelete(t,a,l);if(d)throw new Ue.ErrnoError(d);if(d=u?Ue.mayDelete(n,s,l):Ue.mayCreate(n,s))throw new Ue.ErrnoError(d);if(!t.node_ops.rename)throw new Ue.ErrnoError(63);if(Ue.isMountpoint(c)||u&&Ue.isMountpoint(u))throw new Ue.ErrnoError(10);if(n!==t&&(d=Ue.nodePermissions(t,"w")))throw new Ue.ErrnoError(d);try{Ue.trackingDelegate.willMovePath&&Ue.trackingDelegate.willMovePath(e,r)}catch(t){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+r+"') threw an exception: "+t.message)}Ue.hashRemoveNode(c);try{t.node_ops.rename(c,n,s)}catch(e){throw e}finally{Ue.hashAddNode(c)}try{Ue.trackingDelegate.onMovePath&&Ue.trackingDelegate.onMovePath(e,r)}catch(t){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+r+"') threw an exception: "+t.message)}}},rmdir:function(e){var r=Ue.lookupPath(e,{parent:!0}).node,t=De.basename(e),n=Ue.lookupNode(r,t),i=Ue.mayDelete(r,t,!0);if(i)throw new Ue.ErrnoError(i);if(!r.node_ops.rmdir)throw new Ue.ErrnoError(63);if(Ue.isMountpoint(n))throw new Ue.ErrnoError(10);try{Ue.trackingDelegate.willDeletePath&&Ue.trackingDelegate.willDeletePath(e)}catch(r){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+r.message)}r.node_ops.rmdir(r,t),Ue.destroyNode(n);try{Ue.trackingDelegate.onDeletePath&&Ue.trackingDelegate.onDeletePath(e)}catch(r){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+r.message)}},readdir:function(e){var r=Ue.lookupPath(e,{follow:!0}).node;if(!r.node_ops.readdir)throw new Ue.ErrnoError(54);return r.node_ops.readdir(r)},unlink:function(e){var r=Ue.lookupPath(e,{parent:!0}).node,t=De.basename(e),n=Ue.lookupNode(r,t),i=Ue.mayDelete(r,t,!1);if(i)throw new Ue.ErrnoError(i);if(!r.node_ops.unlink)throw new Ue.ErrnoError(63);if(Ue.isMountpoint(n))throw new Ue.ErrnoError(10);try{Ue.trackingDelegate.willDeletePath&&Ue.trackingDelegate.willDeletePath(e)}catch(r){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+r.message)}r.node_ops.unlink(r,t),Ue.destroyNode(n);try{Ue.trackingDelegate.onDeletePath&&Ue.trackingDelegate.onDeletePath(e)}catch(r){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+r.message)}},readlink:function(e){var r=Ue.lookupPath(e).node;if(!r)throw new Ue.ErrnoError(44);if(!r.node_ops.readlink)throw new Ue.ErrnoError(28);return Fe.resolve(Ue.getPath(r.parent),r.node_ops.readlink(r))},stat:function(e,r){var t=Ue.lookupPath(e,{follow:!r}).node;if(!t)throw new Ue.ErrnoError(44);if(!t.node_ops.getattr)throw new Ue.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(e){return Ue.stat(e,!0)},chmod:function(e,r,t){var n;"string"==typeof e?n=Ue.lookupPath(e,{follow:!t}).node:n=e;if(!n.node_ops.setattr)throw new Ue.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&r|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,r){Ue.chmod(e,r,!0)},fchmod:function(e,r){var t=Ue.getStream(e);if(!t)throw new Ue.ErrnoError(8);Ue.chmod(t.node,r)},chown:function(e,r,t,n){var i;"string"==typeof e?i=Ue.lookupPath(e,{follow:!n}).node:i=e;if(!i.node_ops.setattr)throw new Ue.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,r,t){Ue.chown(e,r,t,!0)},fchown:function(e,r,t){var n=Ue.getStream(e);if(!n)throw new Ue.ErrnoError(8);Ue.chown(n.node,r,t)},truncate:function(e,r){if(r<0)throw new Ue.ErrnoError(28);var t;"string"==typeof e?t=Ue.lookupPath(e,{follow:!0}).node:t=e;if(!t.node_ops.setattr)throw new Ue.ErrnoError(63);if(Ue.isDir(t.mode))throw new Ue.ErrnoError(31);if(!Ue.isFile(t.mode))throw new Ue.ErrnoError(28);var n=Ue.nodePermissions(t,"w");if(n)throw new Ue.ErrnoError(n);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate:function(e,r){var t=Ue.getStream(e);if(!t)throw new Ue.ErrnoError(8);if(0==(2097155&t.flags))throw new Ue.ErrnoError(28);Ue.truncate(t.node,r)},utime:function(e,r,t){var n=Ue.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(r,t)})},open:function(e,r,t,n,i){if(""===e)throw new Ue.ErrnoError(44);var o;if(t=void 0===t?438:t,t=64&(r="string"==typeof r?Ue.modeStringToFlags(r):r)?4095&t|32768:0,"object"==typeof e)o=e;else{e=De.normalize(e);try{o=Ue.lookupPath(e,{follow:!(131072&r)}).node}catch(e){}}var s=!1;if(64&r)if(o){if(128&r)throw new Ue.ErrnoError(20)}else o=Ue.mknod(e,t,0),s=!0;if(!o)throw new Ue.ErrnoError(44);if(Ue.isChrdev(o.mode)&&(r&=-513),65536&r&&!Ue.isDir(o.mode))throw new Ue.ErrnoError(54);if(!s){var u=Ue.mayOpen(o,r);if(u)throw new Ue.ErrnoError(u)}512&r&&Ue.truncate(o,0),r&=-641;var c=Ue.createStream({node:o,path:Ue.getPath(o),flags:r,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},n,i);c.stream_ops.open&&c.stream_ops.open(c),!a.logReadFiles||1&r||(Ue.readFiles||(Ue.readFiles={}),e in Ue.readFiles||(Ue.readFiles[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{if(Ue.trackingDelegate.onOpenFile){var f=0;1!=(2097155&r)&&(f|=Ue.tracking.openFlags.READ),0!=(2097155&r)&&(f|=Ue.tracking.openFlags.WRITE),Ue.trackingDelegate.onOpenFile(e,f)}}catch(r){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+r.message)}return c},close:function(e){if(Ue.isClosed(e))throw new Ue.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ue.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,r,t){if(Ue.isClosed(e))throw new Ue.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ue.ErrnoError(70);if(0!=t&&1!=t&&2!=t)throw new Ue.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read:function(e,r,t,n,i){if(n<0||i<0)throw new Ue.ErrnoError(28);if(Ue.isClosed(e))throw new Ue.ErrnoError(8);if(1==(2097155&e.flags))throw new Ue.ErrnoError(8);if(Ue.isDir(e.node.mode))throw new Ue.ErrnoError(31);if(!e.stream_ops.read)throw new Ue.ErrnoError(28);var o=void 0!==i;if(o){if(!e.seekable)throw new Ue.ErrnoError(70)}else i=e.position;var a=e.stream_ops.read(e,r,t,n,i);return o||(e.position+=a),a},write:function(e,r,t,n,i,o){if(n<0||i<0)throw new Ue.ErrnoError(28);if(Ue.isClosed(e))throw new Ue.ErrnoError(8);if(0==(2097155&e.flags))throw new Ue.ErrnoError(8);if(Ue.isDir(e.node.mode))throw new Ue.ErrnoError(31);if(!e.stream_ops.write)throw new Ue.ErrnoError(28);1024&e.flags&&Ue.llseek(e,0,2);var a=void 0!==i;if(a){if(!e.seekable)throw new Ue.ErrnoError(70)}else i=e.position;var s=e.stream_ops.write(e,r,t,n,i,o);a||(e.position+=s);try{e.path&&Ue.trackingDelegate.onWriteToFile&&Ue.trackingDelegate.onWriteToFile(e.path)}catch(r){console.log("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+r.message)}return s},allocate:function(e,r,t){if(Ue.isClosed(e))throw new Ue.ErrnoError(8);if(r<0||t<=0)throw new Ue.ErrnoError(28);if(0==(2097155&e.flags))throw new Ue.ErrnoError(8);if(!Ue.isFile(e.node.mode)&&!Ue.isDir(e.node.mode))throw new Ue.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ue.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap:function(e,r,t,n,i,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new Ue.ErrnoError(2);if(1==(2097155&e.flags))throw new Ue.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ue.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,i,o,a)},msync:function(e,r,t,n,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,i):0},munmap:function(e){return 0},ioctl:function(e,r,t){if(!e.stream_ops.ioctl)throw new Ue.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile:function(e,r){if((r=r||{}).flags=r.flags||"r",r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var t,n=Ue.open(e,r.flags),i=Ue.stat(e).size,o=new Uint8Array(i);return Ue.read(n,o,0,i,0),"utf8"===r.encoding?t=C(o,0):"binary"===r.encoding&&(t=o),Ue.close(n),t},writeFile:function(e,r,t){(t=t||{}).flags=t.flags||"w";var n=Ue.open(e,t.flags,t.mode);if("string"==typeof r){var i=new Uint8Array(F(r)+1),o=D(r,i,0,i.length);Ue.write(n,i,0,o,void 0,t.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");Ue.write(n,r,0,r.byteLength,void 0,t.canOwn)}Ue.close(n)},cwd:function(){return Ue.currentPath},chdir:function(e){var r=Ue.lookupPath(e,{follow:!0});if(null===r.node)throw new Ue.ErrnoError(44);if(!Ue.isDir(r.node.mode))throw new Ue.ErrnoError(54);var t=Ue.nodePermissions(r.node,"x");if(t)throw new Ue.ErrnoError(t);Ue.currentPath=r.path},createDefaultDirectories:function(){Ue.mkdir("/tmp"),Ue.mkdir("/home"),Ue.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(Ue.mkdir("/dev"),Ue.registerDevice(Ue.makedev(1,3),{read:function(){return 0},write:function(e,r,t,n,i){return n}}),Ue.mkdev("/dev/null",Ue.makedev(1,3)),Re.register(Ue.makedev(5,0),Re.default_tty_ops),Re.register(Ue.makedev(6,0),Re.default_tty1_ops),Ue.mkdev("/dev/tty",Ue.makedev(5,0)),Ue.mkdev("/dev/tty1",Ue.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var r=new Uint8Array(1);e=function(){return crypto.getRandomValues(r),r[0]}}else if(l)try{var n=t(16);e=function(){return n.randomBytes(1)[0]}}catch(e){}e||(e=function(){ye("random_device")}),Ue.createDevice("/dev","random",e),Ue.createDevice("/dev","urandom",e),Ue.mkdir("/dev/shm"),Ue.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ue.mkdir("/proc"),Ue.mkdir("/proc/self"),Ue.mkdir("/proc/self/fd"),Ue.mount({mount:function(){var e=Ue.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,r){var t=+r,n=Ue.getStream(t);if(!n)throw new Ue.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){a.stdin?Ue.createDevice("/dev","stdin",a.stdin):Ue.symlink("/dev/tty","/dev/stdin"),a.stdout?Ue.createDevice("/dev","stdout",null,a.stdout):Ue.symlink("/dev/tty","/dev/stdout"),a.stderr?Ue.createDevice("/dev","stderr",null,a.stderr):Ue.symlink("/dev/tty1","/dev/stderr");Ue.open("/dev/stdin","r"),Ue.open("/dev/stdout","w"),Ue.open("/dev/stderr","w")},ensureErrnoError:function(){Ue.ErrnoError||(Ue.ErrnoError=function(e,r){this.node=r,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ue.ErrnoError.prototype=new Error,Ue.ErrnoError.prototype.constructor=Ue.ErrnoError,[44].forEach((function(e){Ue.genericErrors[e]=new Ue.ErrnoError(e),Ue.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ue.ensureErrnoError(),Ue.nameTable=new Array(4096),Ue.mount(Le,{},"/"),Ue.createDefaultDirectories(),Ue.createDefaultDevices(),Ue.createSpecialDirectories(),Ue.filesystems={MEMFS:Le}},init:function(e,r,t){Ue.init.initialized=!0,Ue.ensureErrnoError(),a.stdin=e||a.stdin,a.stdout=r||a.stdout,a.stderr=t||a.stderr,Ue.createStandardStreams()},quit:function(){Ue.init.initialized=!1;var e=a._fflush;e&&e(0);for(var r=0;r<Ue.streams.length;r++){var t=Ue.streams[r];t&&Ue.close(t)}},getMode:function(e,r){var t=0;return e&&(t|=365),r&&(t|=146),t},joinPath:function(e,r){var t=De.join.apply(null,e);return r&&"/"==t[0]&&(t=t.substr(1)),t},absolutePath:function(e,r){return Fe.resolve(r,e)},standardizePath:function(e){return De.normalize(e)},findObject:function(e,r){var t=Ue.analyzePath(e,r);return t.exists?t.object:(Ie(t.error),null)},analyzePath:function(e,r){try{e=(n=Ue.lookupPath(e,{follow:!r})).path}catch(e){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Ue.lookupPath(e,{parent:!0});t.parentExists=!0,t.parentPath=n.path,t.parentObject=n.node,t.name=De.basename(e),n=Ue.lookupPath(e,{follow:!r}),t.exists=!0,t.path=n.path,t.object=n.node,t.name=n.node.name,t.isRoot="/"===n.path}catch(e){t.error=e.errno}return t},createFolder:function(e,r,t,n){var i=De.join2("string"==typeof e?e:Ue.getPath(e),r),o=Ue.getMode(t,n);return Ue.mkdir(i,o)},createPath:function(e,r,t,n){e="string"==typeof e?e:Ue.getPath(e);for(var i=r.split("/").reverse();i.length;){var o=i.pop();if(o){var a=De.join2(e,o);try{Ue.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,r,t,n,i){var o=De.join2("string"==typeof e?e:Ue.getPath(e),r),a=Ue.getMode(n,i);return Ue.create(o,a)},createDataFile:function(e,r,t,n,i,o){var a=r?De.join2("string"==typeof e?e:Ue.getPath(e),r):e,s=Ue.getMode(n,i),u=Ue.create(a,s);if(t){if("string"==typeof t){for(var c=new Array(t.length),f=0,l=t.length;f<l;++f)c[f]=t.charCodeAt(f);t=c}Ue.chmod(u,146|s);var d=Ue.open(u,"w");Ue.write(d,t,0,t.length,0,o),Ue.close(d),Ue.chmod(u,s)}return u},createDevice:function(e,r,t,n){var i=De.join2("string"==typeof e?e:Ue.getPath(e),r),o=Ue.getMode(!!t,!!n);Ue.createDevice.major||(Ue.createDevice.major=64);var a=Ue.makedev(Ue.createDevice.major++,0);return Ue.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,r,n,i,o){for(var a=0,s=0;s<i;s++){var u;try{u=t()}catch(e){throw new Ue.ErrnoError(29)}if(void 0===u&&0===a)throw new Ue.ErrnoError(6);if(null==u)break;a++,r[n+s]=u}return a&&(e.node.timestamp=Date.now()),a},write:function(e,r,t,i,o){for(var a=0;a<i;a++)try{n(r[t+a])}catch(e){throw new Ue.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),a}}),Ue.mkdev(i,o,a)},createLink:function(e,r,t,n,i){var o=De.join2("string"==typeof e?e:Ue.getPath(e),r);return Ue.symlink(t,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var r=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!p)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Cf(p(e.url),!0),e.usedBytes=e.contents.length}catch(e){r=!1}return r||Ie(29),r},createLazyFile:function(e,r,t,n,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var r=e%this.chunkSize,t=e/this.chunkSize|0;return this.getter(t)[r]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",t,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+t+". Status: "+e.status);var r,n=Number(e.getResponseHeader("Content-length")),i=(r=e.getResponseHeader("Accept-Ranges"))&&"bytes"===r,o=(r=e.getResponseHeader("Content-Encoding"))&&"gzip"===r,a=1048576;i||(a=n);var s=this;s.setDataGetter((function(e){var r=e*a,i=(e+1)*a-1;if(i=Math.min(i,n-1),void 0===s.chunks[e]&&(s.chunks[e]=function(e,r){if(e>r)throw new Error("invalid range ("+e+", "+r+") or no bytes requested!");if(r>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",t,!1),n!==a&&i.setRequestHeader("Range","bytes="+e+"-"+r),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+t+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):Cf(i.responseText||"",!0)}(r,i)),void 0===s.chunks[e])throw new Error("doXHR failed!");return s.chunks[e]})),!o&&n||(a=n=1,n=this.getter(0).length,a=n,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!f)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:a}}else s={isDevice:!1,url:t};var u=Ue.createFile(e,r,s,n,i);s.contents?u.contents=s.contents:s.url&&(u.contents=null,u.url=s.url),Object.defineProperties(u,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(u.stream_ops).forEach((function(e){var r=u.stream_ops[e];c[e]=function(){if(!Ue.forceLoadFile(u))throw new Ue.ErrnoError(29);return r.apply(null,arguments)}})),c.read=function(e,r,t,n,i){if(!Ue.forceLoadFile(u))throw new Ue.ErrnoError(29);var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,n);if(o.slice)for(var s=0;s<a;s++)r[t+s]=o[i+s];else for(s=0;s<a;s++)r[t+s]=o.get(i+s);return a},u.stream_ops=c,u},createPreloadedFile:function(e,r,t,n,i,o,s,u,c,f){Browser.init();var l=r?Fe.resolve(De.join2(e,r)):e;function d(t){function d(t){f&&f(),u||Ue.createDataFile(e,r,t,n,i,c),o&&o(),ve()}var m=!1;a.preloadPlugins.forEach((function(e){m||e.canHandle(l)&&(e.handle(t,l,d,(function(){s&&s(),ve()})),m=!0)})),m||d(t)}ge(),"string"==typeof t?Browser.asyncLoad(t,(function(e){d(e)}),s):d(t)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,r,t){r=r||function(){},t=t||function(){};var n=Ue.indexedDB();try{var i=n.open(Ue.DB_NAME(),Ue.DB_VERSION)}catch(e){return t(e)}i.onupgradeneeded=function(){console.log("creating db"),i.result.createObjectStore(Ue.DB_STORE_NAME)},i.onsuccess=function(){var n=i.result.transaction([Ue.DB_STORE_NAME],"readwrite"),o=n.objectStore(Ue.DB_STORE_NAME),a=0,s=0,u=e.length;function c(){0==s?r():t()}e.forEach((function(e){var r=o.put(Ue.analyzePath(e).object.contents,e);r.onsuccess=function(){++a+s==u&&c()},r.onerror=function(){s++,a+s==u&&c()}})),n.onerror=t},i.onerror=t},loadFilesFromDB:function(e,r,t){r=r||function(){},t=t||function(){};var n=Ue.indexedDB();try{var i=n.open(Ue.DB_NAME(),Ue.DB_VERSION)}catch(e){return t(e)}i.onupgradeneeded=t,i.onsuccess=function(){var n=i.result;try{var o=n.transaction([Ue.DB_STORE_NAME],"readonly")}catch(e){return void t(e)}var a=o.objectStore(Ue.DB_STORE_NAME),s=0,u=0,c=e.length;function f(){0==u?r():t()}e.forEach((function(e){var r=a.get(e);r.onsuccess=function(){Ue.analyzePath(e).exists&&Ue.unlink(e),Ue.createDataFile(De.dirname(e),De.basename(e),r.result,!0,!0,!0),++s+u==c&&f()},r.onerror=function(){u++,s+u==c&&f()}})),o.onerror=t},i.onerror=t}},Ge={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,r){if("/"!==r[0]){var t;if(-100===e)t=Ue.cwd();else{var n=Ue.getStream(e);if(!n)throw new Ue.ErrnoError(8);t=n.path}r=De.join2(t,r)}return r},doStat:function(e,r,t){try{var n=e(r)}catch(e){if(e&&e.node&&De.normalize(r)!==De.normalize(Ue.getPath(e.node)))return-54;throw e}return N[t>>2]=n.dev,N[t+4>>2]=0,N[t+8>>2]=n.ino,N[t+12>>2]=n.mode,N[t+16>>2]=n.nlink,N[t+20>>2]=n.uid,N[t+24>>2]=n.gid,N[t+28>>2]=n.rdev,N[t+32>>2]=0,Ee=[n.size>>>0,(we=n.size,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],N[t+40>>2]=Ee[0],N[t+44>>2]=Ee[1],N[t+48>>2]=4096,N[t+52>>2]=n.blocks,N[t+56>>2]=n.atime.getTime()/1e3|0,N[t+60>>2]=0,N[t+64>>2]=n.mtime.getTime()/1e3|0,N[t+68>>2]=0,N[t+72>>2]=n.ctime.getTime()/1e3|0,N[t+76>>2]=0,Ee=[n.ino>>>0,(we=n.ino,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],N[t+80>>2]=Ee[0],N[t+84>>2]=Ee[1],0},doMsync:function(e,r,t,n){var i=new Uint8Array(U.subarray(e,e+t));Ue.msync(r,i,0,t,n)},doMkdir:function(e,r){return"/"===(e=De.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Ue.mkdir(e,r,0),0},doMknod:function(e,r,t){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Ue.mknod(e,r,t),0},doReadlink:function(e,r,t){if(t<=0)return-28;var n=Ue.readlink(e),i=Math.min(t,F(n)),o=L[r+i];return I(n,r,t+1),L[r+i]=o,i},doAccess:function(e,r){if(-8&r)return-28;var t;if(!(t=Ue.lookupPath(e,{follow:!0}).node))return-44;var n="";return 4&r&&(n+="r"),2&r&&(n+="w"),1&r&&(n+="x"),n&&Ue.nodePermissions(t,n)?-2:0},doDup:function(e,r,t){var n=Ue.getStream(t);return n&&Ue.close(n),Ue.open(e,r,0,t,t).fd},doReadv:function(e,r,t,n){for(var i=0,o=0;o<t;o++){var a=N[r+8*o>>2],s=N[r+(8*o+4)>>2],u=Ue.read(e,L,a,s,n);if(u<0)return-1;if(i+=u,u<s)break}return i},doWritev:function(e,r,t,n){for(var i=0,o=0;o<t;o++){var a=N[r+8*o>>2],s=N[r+(8*o+4)>>2],u=Ue.write(e,L,a,s,n);if(u<0)return-1;i+=u}return i},varargs:0,get:function(e){return Ge.varargs+=4,N[Ge.varargs-4>>2]},getStr:function(){return M(Ge.get())},getStreamFromFD:function(e){void 0===e&&(e=Ge.get());var r=Ue.getStream(e);if(!r)throw new Ue.ErrnoError(8);return r},get64:function(){var e=Ge.get();Ge.get();return e},getZero:function(){Ge.get()}};function Oe(e,r){Ge.varargs=r;try{var t=Ge.getStreamFromFD(),n=Ge.get(),i=Ge.get();return Ue.read(t,L,n,i)}catch(e){return void 0!==Ue&&e instanceof Ue.ErrnoError||ye(e),-e.errno}}function Ne(e,r){Ge.varargs=r;try{var t=Ge.getStr(),n=Ge.get(),i=Ge.get();return Ue.open(t,n,i).fd}catch(e){return void 0!==Ue&&e instanceof Ue.ErrnoError||ye(e),-e.errno}}var $e={};function Ve(e){for(;e.length;){var r=e.pop();e.pop()(r)}}function je(e){return this.fromWireType($[e>>2])}var We={},ze={},qe={},Xe=48,Qe=57;function Ye(e){if(void 0===e)return"_unknown";var r=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return r>=Xe&&r<=Qe?"_"+e:e}function He(e,r){return e=Ye(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(r)}function Ke(e,r){var t=He(r,(function(e){this.name=r,this.message=e;var t=new Error(e).stack;void 0!==t&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},t}var Ze=void 0;function Je(e){throw new Ze(e)}function er(e,r,t){function n(r){var n=t(r);n.length!==e.length&&Je("Mismatched type converter count");for(var i=0;i<e.length;++i)fr(e[i],n[i])}e.forEach((function(e){qe[e]=r}));var i=new Array(r.length),o=[],a=0;r.forEach((function(e,r){ze.hasOwnProperty(e)?i[r]=ze[e]:(o.push(e),We.hasOwnProperty(e)||(We[e]=[]),We[e].push((function(){i[r]=ze[e],++a===o.length&&n(i)})))})),0===o.length&&n(i)}function rr(e){var r=$e[e];delete $e[e];var t=r.elements,n=t.length,i=t.map((function(e){return e.getterReturnType})).concat(t.map((function(e){return e.setterArgumentType}))),o=r.rawConstructor,a=r.rawDestructor;er([e],i,(function(e){return t.forEach((function(r,t){var i=e[t],o=r.getter,a=r.getterContext,s=e[t+n],u=r.setter,c=r.setterContext;r.read=function(e){return i.fromWireType(o(a,e))},r.write=function(e,r){var t=[];u(c,e,s.toWireType(t,r)),Ve(t)}})),[{name:r.name,fromWireType:function(e){for(var r=new Array(n),i=0;i<n;++i)r[i]=t[i].read(e);return a(e),r},toWireType:function(e,i){if(n!==i.length)throw new TypeError("Incorrect number of tuple elements for "+r.name+": expected="+n+", actual="+i.length);for(var s=o(),u=0;u<n;++u)t[u].write(s,i[u]);return null!==e&&e.push(a,s),s},argPackAdvance:8,readValueFromPointer:je,destructorFunction:a}]}))}var tr={};function nr(e){var r=tr[e];delete tr[e];var t=r.rawConstructor,n=r.rawDestructor,i=r.fields;er([e],i.map((function(e){return e.getterReturnType})).concat(i.map((function(e){return e.setterArgumentType}))),(function(e){var o={};return i.forEach((function(r,t){var n=r.fieldName,a=e[t],s=r.getter,u=r.getterContext,c=e[t+i.length],f=r.setter,l=r.setterContext;o[n]={read:function(e){return a.fromWireType(s(u,e))},write:function(e,r){var t=[];f(l,e,c.toWireType(t,r)),Ve(t)}}})),[{name:r.name,fromWireType:function(e){var r={};for(var t in o)r[t]=o[t].read(e);return n(e),r},toWireType:function(e,r){for(var i in o)if(!(i in r))throw new TypeError("Missing field");var a=t();for(i in o)o[i].write(a,r[i]);return null!==e&&e.push(n,a),a},argPackAdvance:8,readValueFromPointer:je,destructorFunction:n}]}))}function ir(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function or(){for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);ar=e}var ar=void 0;function sr(e){for(var r="",t=e;U[t];)r+=ar[U[t++]];return r}var ur=void 0;function cr(e){throw new ur(e)}function fr(e,r,t){if(t=t||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=r.name;if(e||cr('type "'+n+'" must have a positive integer typeid pointer'),ze.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;cr("Cannot register type '"+n+"' twice")}if(ze[e]=r,delete qe[e],We.hasOwnProperty(e)){var i=We[e];delete We[e],i.forEach((function(e){e()}))}}function lr(e,r,t,n,i){var o=ir(t);fr(e,{name:r=sr(r),fromWireType:function(e){return!!e},toWireType:function(e,r){return r?n:i},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===t)n=L;else if(2===t)n=G;else{if(4!==t)throw new TypeError("Unknown boolean type size: "+r);n=N}return this.fromWireType(n[e>>o])},destructorFunction:null})}function dr(e){if(!(this instanceof kr))return!1;if(!(e instanceof kr))return!1;for(var r=this.$$.ptrType.registeredClass,t=this.$$.ptr,n=e.$$.ptrType.registeredClass,i=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return r===n&&t===i}function mr(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function pr(e){cr(e.$$.ptrType.registeredClass.name+" instance already deleted")}var hr=!1;function gr(e){}function vr(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function yr(e){e.count.value-=1,0===e.count.value&&vr(e)}function br(e){return"undefined"==typeof FinalizationGroup?(br=function(e){return e},e):(hr=new FinalizationGroup((function(e){for(var r=e.next();!r.done;r=e.next()){var t=r.value;t.ptr?yr(t):console.warn("object already deleted: "+t.ptr)}})),gr=function(e){hr.unregister(e.$$)},(br=function(e){return hr.register(e,e.$$,e.$$),e})(e))}function _r(){if(this.$$.ptr||pr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=br(Object.create(Object.getPrototypeOf(this),{$$:{value:mr(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function wr(){this.$$.ptr||pr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&cr("Object already scheduled for deletion"),gr(this),yr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Er(){return!this.$$.ptr}var xr=void 0,Ar=[];function Tr(){for(;Ar.length;){var e=Ar.pop();e.$$.deleteScheduled=!1,e.delete()}}function Pr(){return this.$$.ptr||pr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&cr("Object already scheduled for deletion"),Ar.push(this),1===Ar.length&&xr&&xr(Tr),this.$$.deleteScheduled=!0,this}function Sr(){kr.prototype.isAliasOf=dr,kr.prototype.clone=_r,kr.prototype.delete=wr,kr.prototype.isDeleted=Er,kr.prototype.deleteLater=Pr}function kr(){}var Br={};function Cr(e,r,t){if(void 0===e[r].overloadTable){var n=e[r];e[r]=function(){return e[r].overloadTable.hasOwnProperty(arguments.length)||cr("Function '"+t+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[r].overloadTable+")!"),e[r].overloadTable[arguments.length].apply(this,arguments)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}}function Mr(e,r,t){a.hasOwnProperty(e)?((void 0===t||void 0!==a[e].overloadTable&&void 0!==a[e].overloadTable[t])&&cr("Cannot register public name '"+e+"' twice"),Cr(a,e,e),a.hasOwnProperty(t)&&cr("Cannot register multiple overloads of a function with the same number of arguments ("+t+")!"),a[e].overloadTable[t]=r):(a[e]=r,void 0!==t&&(a[e].numArguments=t))}function Dr(e,r,t,n,i,o,a,s){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=i,this.getActualType=o,this.upcast=a,this.downcast=s,this.pureVirtualFunctions=[]}function Ir(e,r,t){for(;r!==t;)r.upcast||cr("Expected null or instance of "+t.name+", got an instance of "+r.name),e=r.upcast(e),r=r.baseClass;return e}function Fr(e,r){if(null===r)return this.isReference&&cr("null is not a valid "+this.name),0;r.$$||cr('Cannot pass "'+At(r)+'" as a '+this.name),r.$$.ptr||cr("Cannot pass deleted object as a pointer of type "+this.name);var t=r.$$.ptrType.registeredClass;return Ir(r.$$.ptr,t,this.registeredClass)}function Rr(e,r){var t;if(null===r)return this.isReference&&cr("null is not a valid "+this.name),this.isSmartPointer?(t=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,t),t):0;r.$$||cr('Cannot pass "'+At(r)+'" as a '+this.name),r.$$.ptr||cr("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&r.$$.ptrType.isConst&&cr("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);var n=r.$$.ptrType.registeredClass;if(t=Ir(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===r.$$.smartPtr&&cr("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:cr("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var i=r.clone();t=this.rawShare(t,yt((function(){i.delete()}))),null!==e&&e.push(this.rawDestructor,t)}break;default:cr("Unsupporting sharing policy")}return t}function Lr(e,r){if(null===r)return this.isReference&&cr("null is not a valid "+this.name),0;r.$$||cr('Cannot pass "'+At(r)+'" as a '+this.name),r.$$.ptr||cr("Cannot pass deleted object as a pointer of type "+this.name),r.$$.ptrType.isConst&&cr("Cannot convert argument of type "+r.$$.ptrType.name+" to parameter type "+this.name);var t=r.$$.ptrType.registeredClass;return Ir(r.$$.ptr,t,this.registeredClass)}function Ur(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function Gr(e){this.rawDestructor&&this.rawDestructor(e)}function Or(e){null!==e&&e.delete()}function Nr(e,r,t){if(r===t)return e;if(void 0===t.baseClass)return null;var n=Nr(e,r,t.baseClass);return null===n?null:t.downcast(n)}function $r(){return Object.keys(zr).length}function Vr(){var e=[];for(var r in zr)zr.hasOwnProperty(r)&&e.push(zr[r]);return e}function jr(e){xr=e,Ar.length&&xr&&xr(Tr)}function Wr(){a.getInheritedInstanceCount=$r,a.getLiveInheritedInstances=Vr,a.flushPendingDeletes=Tr,a.setDelayFunction=jr}var zr={};function qr(e,r){for(void 0===r&&cr("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r}function Xr(e,r){return r=qr(e,r),zr[r]}function Qr(e,r){return r.ptrType&&r.ptr||Je("makeClassHandle requires ptr and ptrType"),!!r.smartPtrType!==!!r.smartPtr&&Je("Both smartPtrType and smartPtr must be specified"),r.count={value:1},br(Object.create(e,{$$:{value:r}}))}function Yr(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=Xr(this.registeredClass,r);if(void 0!==t){if(0===t.$$.count.value)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?Qr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):Qr(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o,a=this.registeredClass.getActualType(r),s=Br[a];if(!s)return i.call(this);o=this.isConst?s.constPointerType:s.pointerType;var u=Nr(r,this.registeredClass,o.registeredClass);return null===u?i.call(this):this.isSmartPointer?Qr(o.registeredClass.instancePrototype,{ptrType:o,ptr:u,smartPtrType:this,smartPtr:e}):Qr(o.registeredClass.instancePrototype,{ptrType:o,ptr:u})}function Hr(){Kr.prototype.getPointee=Ur,Kr.prototype.destructor=Gr,Kr.prototype.argPackAdvance=8,Kr.prototype.readValueFromPointer=je,Kr.prototype.deleteObject=Or,Kr.prototype.fromWireType=Yr}function Kr(e,r,t,n,i,o,a,s,u,c,f){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=i,this.pointeeType=o,this.sharingPolicy=a,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=f,i||void 0!==r.baseClass?this.toWireType=Rr:n?(this.toWireType=Fr,this.destructorFunction=null):(this.toWireType=Lr,this.destructorFunction=null)}function Zr(e,r,t){a.hasOwnProperty(e)||Je("Replacing nonexistant public symbol"),void 0!==a[e].overloadTable&&void 0!==t?a[e].overloadTable[t]=r:(a[e]=r,a[e].argCount=t)}function Jr(e,r){var t;if(e=sr(e),void 0!==a["FUNCTION_TABLE_"+e])t=a["FUNCTION_TABLE_"+e][r];else if("undefined"!=typeof FUNCTION_TABLE)t=FUNCTION_TABLE[r];else{var n=a["dynCall_"+e];void 0===n&&void 0===(n=a["dynCall_"+e.replace(/f/g,"d")])&&cr("No dynCall invoker for signature: "+e),t=function(t){for(var n=[],i=1;i<e.length;++i)n.push("a"+i);var o="return function "+("dynCall_"+e+"_"+r)+"("+n.join(", ")+") {\n";return o+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",o+="};\n",new Function("dynCall","rawFunction",o)(t,r)}(n)}return"function"!=typeof t&&cr("unknown function pointer with signature "+e+": "+r),t}var et=void 0;function rt(e){var r=Uf(e),t=sr(r);return Rf(r),t}function tt(e,r){var t=[],n={};throw r.forEach((function e(r){n[r]||ze[r]||(qe[r]?qe[r].forEach(e):(t.push(r),n[r]=!0))})),new et(e+": "+t.map(rt).join([", "]))}function nt(e,r,t,n,i,o,a,s,u,c,f,l,d){f=sr(f),o=Jr(i,o),s&&(s=Jr(a,s)),c&&(c=Jr(u,c)),d=Jr(l,d);var m=Ye(f);Mr(m,(function(){tt("Cannot construct "+f+" due to unbound types",[n])})),er([e,r,t],n?[n]:[],(function(r){var t,i;r=r[0],i=n?(t=r.registeredClass).instancePrototype:kr.prototype;var a=He(m,(function(){if(Object.getPrototypeOf(this)!==u)throw new ur("Use 'new' to construct "+f);if(void 0===l.constructor_body)throw new ur(f+" has no accessible constructor");var e=l.constructor_body[arguments.length];if(void 0===e)throw new ur("Tried to invoke ctor of "+f+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(l.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),u=Object.create(i,{constructor:{value:a}});a.prototype=u;var l=new Dr(f,a,u,d,t,o,s,c),p=new Kr(f,l,!0,!1,!1),h=new Kr(f+"*",l,!1,!1,!1),g=new Kr(f+" const*",l,!1,!0,!1);return Br[e]={pointerType:h,constPointerType:g},Zr(m,a),[p,h,g]}))}function it(e,r){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var t=He(e.name||"unknownFunctionName",(function(){}));t.prototype=e.prototype;var n=new t,i=e.apply(n,r);return i instanceof Object?i:n}function ot(e,r,t,n,i){var o=r.length;o<2&&cr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==r[1]&&null!==t,s=!1,u=1;u<r.length;++u)if(null!==r[u]&&void 0===r[u].destructorFunction){s=!0;break}var c="void"!==r[0].name,f="",l="";for(u=0;u<o-2;++u)f+=(0!==u?", ":"")+"arg"+u,l+=(0!==u?", ":"")+"arg"+u+"Wired";var d="return function "+Ye(e)+"("+f+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n";s&&(d+="var destructors = [];\n");var m=s?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],h=[cr,n,i,Ve,r[0],r[1]];a&&(d+="var thisWired = classParam.toWireType("+m+", this);\n");for(u=0;u<o-2;++u)d+="var arg"+u+"Wired = argType"+u+".toWireType("+m+", arg"+u+"); // "+r[u+2].name+"\n",p.push("argType"+u),h.push(r[u+2]);if(a&&(l="thisWired"+(l.length>0?", ":"")+l),d+=(c?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",s)d+="runDestructors(destructors);\n";else for(u=a?1:2;u<r.length;++u){var g=1===u?"thisWired":"arg"+(u-2)+"Wired";null!==r[u].destructorFunction&&(d+=g+"_dtor("+g+"); // "+r[u].name+"\n",p.push(g+"_dtor"),h.push(r[u].destructorFunction))}return c&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",p.push(d),it(Function,p).apply(null,h)}function at(e,r){for(var t=[],n=0;n<e;n++)t.push(N[(r>>2)+n]);return t}function st(e,r,t,n,i,o,a){var s=at(t,n);r=sr(r),o=Jr(i,o),er([],[e],(function(e){var n=(e=e[0]).name+"."+r;function i(){tt("Cannot call "+n+" due to unbound types",s)}var u=e.registeredClass.constructor;return void 0===u[r]?(i.argCount=t-1,u[r]=i):(Cr(u,r,n),u[r].overloadTable[t-1]=i),er([],s,(function(e){var i=[e[0],null].concat(e.slice(1)),s=ot(n,i,null,o,a);return void 0===u[r].overloadTable?(s.argCount=t-1,u[r]=s):u[r].overloadTable[t-1]=s,[]})),[]}))}function ut(e,r,t,n,i,o){var a=at(r,t);i=Jr(n,i),er([],[e],(function(e){var t="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[r-1])throw new ur("Cannot register multiple constructors with identical number of parameters ("+(r-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[r-1]=function(){tt("Cannot construct "+e.name+" due to unbound types",a)},er([],a,(function(n){return e.registeredClass.constructor_body[r-1]=function(){arguments.length!==r-1&&cr(t+" called with "+arguments.length+" arguments, expected "+(r-1));var e=[],a=new Array(r);a[0]=o;for(var s=1;s<r;++s)a[s]=n[s].toWireType(e,arguments[s-1]);var u=i.apply(null,a);return Ve(e),n[0].fromWireType(u)},[]})),[]}))}function ct(e,r,t,n,i,o,a,s){var u=at(t,n);r=sr(r),o=Jr(i,o),er([],[e],(function(e){var n=(e=e[0]).name+"."+r;function i(){tt("Cannot call "+n+" due to unbound types",u)}s&&e.registeredClass.pureVirtualFunctions.push(r);var c=e.registeredClass.instancePrototype,f=c[r];return void 0===f||void 0===f.overloadTable&&f.className!==e.name&&f.argCount===t-2?(i.argCount=t-2,i.className=e.name,c[r]=i):(Cr(c,r,n),c[r].overloadTable[t-2]=i),er([],u,(function(i){var s=ot(n,i,e,o,a);return void 0===c[r].overloadTable?(s.argCount=t-2,c[r]=s):c[r].overloadTable[t-2]=s,[]})),[]}))}function ft(e,r,t){return e instanceof Object||cr(t+' with invalid "this": '+e),e instanceof r.registeredClass.constructor||cr(t+' incompatible with "this" of type '+e.constructor.name),e.$$.ptr||cr("cannot call emscripten binding method "+t+" on deleted object"),Ir(e.$$.ptr,e.$$.ptrType.registeredClass,r.registeredClass)}function lt(e,r,t,n,i,o,a,s,u,c){r=sr(r),i=Jr(n,i),er([],[e],(function(e){var n=(e=e[0]).name+"."+r,f={get:function(){tt("Cannot access "+n+" due to unbound types",[t,a])},enumerable:!0,configurable:!0};return f.set=u?function(){tt("Cannot access "+n+" due to unbound types",[t,a])}:function(e){cr(n+" is a read-only property")},Object.defineProperty(e.registeredClass.instancePrototype,r,f),er([],u?[t,a]:[t],(function(t){var a=t[0],f={get:function(){var r=ft(this,e,n+" getter");return a.fromWireType(i(o,r))},enumerable:!0};if(u){u=Jr(s,u);var l=t[1];f.set=function(r){var t=ft(this,e,n+" setter"),i=[];u(c,t,l.toWireType(i,r)),Ve(i)}}return Object.defineProperty(e.registeredClass.instancePrototype,r,f),[]})),[]}))}var dt=[],mt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function pt(e){e>4&&0==--mt[e].refcount&&(mt[e]=void 0,dt.push(e))}function ht(){for(var e=0,r=5;r<mt.length;++r)void 0!==mt[r]&&++e;return e}function gt(){for(var e=5;e<mt.length;++e)if(void 0!==mt[e])return mt[e];return null}function vt(){a.count_emval_handles=ht,a.get_first_emval=gt}function yt(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var r=dt.length?dt.pop():mt.length;return mt[r]={refcount:1,value:e},r}}function bt(e,r){fr(e,{name:r=sr(r),fromWireType:function(e){var r=mt[e].value;return pt(e),r},toWireType:function(e,r){return yt(r)},argPackAdvance:8,readValueFromPointer:je,destructorFunction:null})}function _t(e,r,t){switch(r){case 0:return function(e){var r=t?L:U;return this.fromWireType(r[e])};case 1:return function(e){var r=t?G:O;return this.fromWireType(r[e>>1])};case 2:return function(e){var r=t?N:$;return this.fromWireType(r[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function wt(e,r,t,n){var i=ir(t);function o(){}r=sr(r),o.values={},fr(e,{name:r,constructor:o,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,r){return r.value},argPackAdvance:8,readValueFromPointer:_t(r,i,n),destructorFunction:null}),Mr(r,o)}function Et(e,r){var t=ze[e];return void 0===t&&cr(r+" has unknown type "+rt(e)),t}function xt(e,r,t){var n=Et(e,"enum");r=sr(r);var i=n.constructor,o=Object.create(n.constructor.prototype,{value:{value:t},constructor:{value:He(n.name+"_"+r,(function(){}))}});i.values[t]=o,i[r]=o}function At(e){if(null===e)return"null";var r=typeof e;return"object"===r||"array"===r||"function"===r?e.toString():""+e}function Tt(e,r){switch(r){case 2:return function(e){return this.fromWireType(V[e>>2])};case 3:return function(e){return this.fromWireType(j[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Pt(e,r,t){var n=ir(t);fr(e,{name:r=sr(r),fromWireType:function(e){return e},toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+At(r)+'" to '+this.name);return r},argPackAdvance:8,readValueFromPointer:Tt(r,n),destructorFunction:null})}function St(e,r,t,n,i,o){var a=at(r,t);e=sr(e),i=Jr(n,i),Mr(e,(function(){tt("Cannot call "+e+" due to unbound types",a)}),r-1),er([],a,(function(t){var n=[t[0],null].concat(t.slice(1));return Zr(e,ot(e,n,null,i,o),r-1),[]}))}function kt(e,r,t){switch(r){case 0:return t?function(e){return L[e]}:function(e){return U[e]};case 1:return t?function(e){return G[e>>1]}:function(e){return O[e>>1]};case 2:return t?function(e){return N[e>>2]}:function(e){return $[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function Bt(e,r,t,n,i){r=sr(r),-1===i&&(i=4294967295);var o=ir(t),a=function(e){return e};if(0===n){var s=32-8*t;a=function(e){return e<<s>>>s}}var u=-1!=r.indexOf("unsigned");fr(e,{name:r,fromWireType:a,toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+At(t)+'" to '+this.name);if(t<n||t>i)throw new TypeError('Passing a number "'+At(t)+'" from JS side to C/C++ side to an argument of type "'+r+'", which is outside the valid range ['+n+", "+i+"]!");return u?t>>>0:0|t},argPackAdvance:8,readValueFromPointer:kt(r,o,0!==n),destructorFunction:null})}function Ct(e,r,t){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][r];function i(e){var r=$,t=r[e>>=2],i=r[e+1];return new n(r.buffer,i,t)}fr(e,{name:t=sr(t),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})}function Mt(e,r){var t="std::string"===(r=sr(r));fr(e,{name:r,fromWireType:function(e){var r,n=$[e>>2];if(t){var i=U[e+4+n],o=0;0!=i&&(o=i,U[e+4+n]=0);for(var a=e+4,s=0;s<=n;++s){var u=e+4+s;if(0==U[u]){var c=M(a);void 0===r?r=c:(r+=String.fromCharCode(0),r+=c),a=u+1}}0!=o&&(U[e+4+n]=o)}else{var f=new Array(n);for(s=0;s<n;++s)f[s]=String.fromCharCode(U[e+4+s]);r=f.join("")}return Rf(e),r},toWireType:function(e,r){r instanceof ArrayBuffer&&(r=new Uint8Array(r));var n="string"==typeof r;n||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||cr("Cannot pass non-string to std::string");var i=(t&&n?function(){return F(r)}:function(){return r.length})(),o=Lf(4+i+1);if($[o>>2]=i,t&&n)I(r,o+4,i+1);else if(n)for(var a=0;a<i;++a){var s=r.charCodeAt(a);s>255&&(Rf(o),cr("String has UTF-16 code units that do not fit in 8 bits")),U[o+4+a]=s}else for(a=0;a<i;++a)U[o+4+a]=r[a];return null!==e&&e.push(Rf,o),o},argPackAdvance:8,readValueFromPointer:je,destructorFunction:function(e){Rf(e)}})}function Dt(e,r,t){var n,i;t=sr(t),2===r?(n=function(){return O},i=1):4===r&&(n=function(){return $},i=2),fr(e,{name:t,fromWireType:function(e){for(var r=n(),t=$[e>>2],o=new Array(t),a=e+4>>i,s=0;s<t;++s)o[s]=String.fromCharCode(r[a+s]);return Rf(e),o.join("")},toWireType:function(e,t){var o=t.length,a=Lf(4+o*r),s=n();$[a>>2]=o;for(var u=a+4>>i,c=0;c<o;++c)s[u+c]=t.charCodeAt(c);return null!==e&&e.push(Rf,a),a},argPackAdvance:8,readValueFromPointer:je,destructorFunction:function(e){Rf(e)}})}function It(e,r,t,n,i,o){$e[e]={name:sr(r),rawConstructor:Jr(t,n),rawDestructor:Jr(i,o),elements:[]}}function Ft(e,r,t,n,i,o,a,s,u){$e[e].elements.push({getterReturnType:r,getter:Jr(t,n),getterContext:i,setterArgumentType:o,setter:Jr(a,s),setterContext:u})}function Rt(e,r,t,n,i,o){tr[e]={name:sr(r),rawConstructor:Jr(t,n),rawDestructor:Jr(i,o),fields:[]}}function Lt(e,r,t,n,i,o,a,s,u,c){tr[e].fields.push({fieldName:sr(r),getterReturnType:t,getter:Jr(n,i),getterContext:o,setterArgumentType:a,setter:Jr(s,u),setterContext:c})}function Ut(e,r){fr(e,{isVoid:!0,name:r=sr(r),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,r){}})}function Gt(e){return e||cr("Cannot use deleted val. handle = "+e),mt[e].value}function Ot(e,r,t){e=Gt(e),r=Et(r,"emval::as");var n=[],i=yt(n);return N[t>>2]=i,r.toWireType(n,e)}function Nt(e,r){return yt((e=Gt(e))[r=Gt(r)])}function $t(e){e>4&&(mt[e].refcount+=1)}var Vt={};function jt(e){var r=Vt[e];return void 0===r?sr(e):r}function Wt(e){return yt(jt(e))}function zt(e){Ve(mt[e].value),pt(e)}function qt(e,r){return yt((e=Et(e,"_emval_take_value")).readValueFromPointer(r))}function Xt(){ye()}function Qt(){ye()}function Yt(){return l||"undefined"!=typeof dateNow||"object"==typeof performance&&performance&&"function"==typeof performance.now}function Ht(e,r){var t;if(0===e)t=Date.now();else{if(1!==e||!Yt())return Ie(28),-1;t=Qt()}return N[r>>2]=t/1e3|0,N[r+4>>2]=t%1e3*1e3*1e3|0,0}function Kt(){return L.length}function Zt(){return 604944}var Jt={counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},currentContext:null,offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,init:function(){Jt.miniTempBuffer=new Float32Array(Jt.MINI_TEMP_BUFFER_SIZE);for(var e=0;e<Jt.MINI_TEMP_BUFFER_SIZE;e++)Jt.miniTempBufferViews[e]=Jt.miniTempBuffer.subarray(0,e+1)},recordError:function(e){Jt.lastError||(Jt.lastError=e)},getNewId:function(e){for(var r=Jt.counter++,t=e.length;t<r;t++)e[t]=null;return r},MINI_TEMP_BUFFER_SIZE:256,miniTempBuffer:null,miniTempBufferViews:[0],getSource:function(e,r,t,n){for(var i="",o=0;o<r;++o){var a=n?N[n+4*o>>2]:-1;i+=M(N[t+4*o>>2],a<0?void 0:a)}return i},createContext:function(e,r){var t=r.majorVersion>1?e.getContext("webgl2",r):e.getContext("webgl",r)||e.getContext("experimental-webgl",r);return t?Jt.registerContext(t,r):0},registerContext:function(e,r){var t=Lf(8),n={handle:t,attributes:r,version:r.majorVersion,GLctx:e};function i(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)}return n.supportsWebGL2EntryPoints=n.version>=2&&(!1===i()||i()>=58),e.canvas&&(e.canvas.GLctxObject=n),Jt.contexts[t]=n,(void 0===r.enableExtensionsByDefault||r.enableExtensionsByDefault)&&Jt.initExtensions(n),t},makeContextCurrent:function(e){return Jt.currentContext=Jt.contexts[e],a.ctx=Na=Jt.currentContext&&Jt.currentContext.GLctx,!(e&&!Na)},getContext:function(e){return Jt.contexts[e]},deleteContext:function(e){Jt.currentContext===Jt.contexts[e]&&(Jt.currentContext=null),"object"==typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(Jt.contexts[e].GLctx.canvas),Jt.contexts[e]&&Jt.contexts[e].GLctx.canvas&&(Jt.contexts[e].GLctx.canvas.GLctxObject=void 0),Rf(Jt.contexts[e]),Jt.contexts[e]=null},acquireInstancedArraysExtension:function(e){var r=e.getExtension("ANGLE_instanced_arrays");r&&(e.vertexAttribDivisor=function(e,t){r.vertexAttribDivisorANGLE(e,t)},e.drawArraysInstanced=function(e,t,n,i){r.drawArraysInstancedANGLE(e,t,n,i)},e.drawElementsInstanced=function(e,t,n,i,o){r.drawElementsInstancedANGLE(e,t,n,i,o)})},acquireVertexArrayObjectExtension:function(e){var r=e.getExtension("OES_vertex_array_object");r&&(e.createVertexArray=function(){return r.createVertexArrayOES()},e.deleteVertexArray=function(e){r.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){r.bindVertexArrayOES(e)},e.isVertexArray=function(e){return r.isVertexArrayOES(e)})},acquireDrawBuffersExtension:function(e){var r=e.getExtension("WEBGL_draw_buffers");r&&(e.drawBuffers=function(e,t){r.drawBuffersWEBGL(e,t)})},initExtensions:function(e){if(e||(e=Jt.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var r=e.GLctx;e.version<2&&(Jt.acquireInstancedArraysExtension(r),Jt.acquireVertexArrayObjectExtension(r),Jt.acquireDrawBuffersExtension(r)),r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query");var t=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2"];(r.getSupportedExtensions()||[]).forEach((function(e){-1!=t.indexOf(e)&&r.getExtension(e)}))}},populateUniformTable:function(e){for(var r=Jt.programs[e],t=Jt.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},n=t.uniforms,i=Na.getProgramParameter(r,35718),o=0;o<i;++o){var a=Na.getActiveUniform(r,o),s=a.name;t.maxUniformLength=Math.max(t.maxUniformLength,s.length+1),"]"==s.slice(-1)&&(s=s.slice(0,s.lastIndexOf("[")));var u=Na.getUniformLocation(r,s);if(u){var c=Jt.getNewId(Jt.uniforms);n[s]=[a.size,c],Jt.uniforms[c]=u;for(var f=1;f<a.size;++f){var l=s+"["+f+"]";u=Na.getUniformLocation(r,l),c=Jt.getNewId(Jt.uniforms),Jt.uniforms[c]=u}}}}};function en(e){Na.activeTexture(e)}function rn(e,r){Na.attachShader(Jt.programs[e],Jt.shaders[r])}function tn(e,r){Na.beginQuery(e,Jt.queries[r])}function nn(e,r){Na.disjointTimerQueryExt.beginQueryEXT(e,Jt.timerQueriesEXT[r])}function on(e){Na.beginTransformFeedback(e)}function an(e,r,t){Na.bindAttribLocation(Jt.programs[e],r,M(t))}function sn(e,r){35051==e?Na.currentPixelPackBufferBinding=r:35052==e&&(Na.currentPixelUnpackBufferBinding=r),Na.bindBuffer(e,Jt.buffers[r])}function un(e,r,t){Na.bindBufferBase(e,r,Jt.buffers[t])}function cn(e,r,t,n,i){Na.bindBufferRange(e,r,Jt.buffers[t],n,i)}function fn(e,r){Na.bindFramebuffer(e,Jt.framebuffers[r])}function ln(e,r){Na.bindRenderbuffer(e,Jt.renderbuffers[r])}function dn(e,r){Na.bindSampler(e,Jt.samplers[r])}function mn(e,r){Na.bindTexture(e,Jt.textures[r])}function pn(e,r){Na.bindTransformFeedback(e,Jt.transformFeedbacks[r])}function hn(e){Na.bindVertexArray(Jt.vaos[e])}function gn(e){Na.bindVertexArray(Jt.vaos[e])}function vn(e,r,t,n){Na.blendColor(e,r,t,n)}function yn(e){Na.blendEquation(e)}function bn(e,r){Na.blendEquationSeparate(e,r)}function _n(e,r){Na.blendFunc(e,r)}function wn(e,r,t,n){Na.blendFuncSeparate(e,r,t,n)}function En(e,r,t,n,i,o,a,s,u,c){Na.blitFramebuffer(e,r,t,n,i,o,a,s,u,c)}function xn(e,r,t,n){Jt.currentContext.supportsWebGL2EntryPoints?t?Na.bufferData(e,U,n,t,r):Na.bufferData(e,r,n):Na.bufferData(e,t?U.subarray(t,t+r):r,n)}function An(e,r,t,n){Jt.currentContext.supportsWebGL2EntryPoints?Na.bufferSubData(e,r,U,n,t):Na.bufferSubData(e,r,U.subarray(n,n+t))}function Tn(e){return Na.checkFramebufferStatus(e)}function Pn(e){Na.clear(e)}function Sn(e,r,t,n){Na.clearBufferfi(e,r,t,n)}function kn(e,r,t){Na.clearBufferfv(e,r,V,t>>2)}function Bn(e,r,t){Na.clearBufferiv(e,r,N,t>>2)}function Cn(e,r,t){Na.clearBufferuiv(e,r,$,t>>2)}function Mn(e,r,t,n){Na.clearColor(e,r,t,n)}function Dn(e){Na.clearDepth(e)}function In(e){Na.clearStencil(e)}function Fn(e,r,t,n){n>>>=0;var i=4294967295==(t>>>=0)&&4294967295==n?-1:E(t,n,!0);return Na.clientWaitSync(Jt.syncs[e],r,i)}function Rn(e,r,t,n){Na.colorMask(!!e,!!r,!!t,!!n)}function Ln(e){Na.compileShader(Jt.shaders[e])}function Un(e,r,t,n,i,o,a,s){Jt.currentContext.supportsWebGL2EntryPoints?Na.currentPixelUnpackBufferBinding?Na.compressedTexImage2D(e,r,t,n,i,o,a,s):Na.compressedTexImage2D(e,r,t,n,i,o,U,s,a):Na.compressedTexImage2D(e,r,t,n,i,o,s?U.subarray(s,s+a):null)}function Gn(e,r,t,n,i,o,a,s,u){Jt.currentContext.supportsWebGL2EntryPoints?Na.currentPixelUnpackBufferBinding?Na.compressedTexImage3D(e,r,t,n,i,o,a,s,u):Na.compressedTexImage3D(e,r,t,n,i,o,a,U,u,s):Na.compressedTexImage3D(e,r,t,n,i,o,a,u?U.subarray(u,u+s):null)}function On(e,r,t,n,i,o,a,s,u){Jt.currentContext.supportsWebGL2EntryPoints?Na.currentPixelUnpackBufferBinding?Na.compressedTexSubImage2D(e,r,t,n,i,o,a,s,u):Na.compressedTexSubImage2D(e,r,t,n,i,o,a,U,u,s):Na.compressedTexSubImage2D(e,r,t,n,i,o,a,u?U.subarray(u,u+s):null)}function Nn(e,r,t,n,i,o,a,s,u,c,f){Jt.currentContext.supportsWebGL2EntryPoints?Na.currentPixelUnpackBufferBinding?Na.compressedTexSubImage3D(e,r,t,n,i,o,a,s,u,c,f):Na.compressedTexSubImage3D(e,r,t,n,i,o,a,s,u,U,f,c):Na.compressedTexSubImage3D(e,r,t,n,i,o,a,s,u,f?U.subarray(f,f+c):null)}function $n(e,r,t,n,i){Na.copyBufferSubData(e,r,t,n,i)}function Vn(e,r,t,n,i,o,a,s){Na.copyTexImage2D(e,r,t,n,i,o,a,s)}function jn(e,r,t,n,i,o,a,s){Na.copyTexSubImage2D(e,r,t,n,i,o,a,s)}function Wn(e,r,t,n,i,o,a,s,u){Na.copyTexSubImage3D(e,r,t,n,i,o,a,s,u)}function zn(){var e=Jt.getNewId(Jt.programs),r=Na.createProgram();return r.name=e,Jt.programs[e]=r,e}function qn(e){var r=Jt.getNewId(Jt.shaders);return Jt.shaders[r]=Na.createShader(e),r}function Xn(e){Na.cullFace(e)}function Qn(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2],i=Jt.buffers[n];i&&(Na.deleteBuffer(i),i.name=0,Jt.buffers[n]=null,n==Jt.currArrayBuffer&&(Jt.currArrayBuffer=0),n==Jt.currElementArrayBuffer&&(Jt.currElementArrayBuffer=0),n==Na.currentPixelPackBufferBinding&&(Na.currentPixelPackBufferBinding=0),n==Na.currentPixelUnpackBufferBinding&&(Na.currentPixelUnpackBufferBinding=0))}}function Yn(e,r){for(var t=0;t<e;++t){var n=N[r+4*t>>2],i=Jt.framebuffers[n];i&&(Na.deleteFramebuffer(i),i.name=0,Jt.framebuffers[n]=null)}}function Hn(e){if(e){var r=Jt.programs[e];r?(Na.deleteProgram(r),r.name=0,Jt.programs[e]=null,Jt.programInfos[e]=null):Jt.recordError(1281)}}function Kn(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2],i=Jt.queries[n];i&&(Na.deleteQuery(i),Jt.queries[n]=null)}}function Zn(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2],i=Jt.timerQueriesEXT[n];i&&(Na.disjointTimerQueryExt.deleteQueryEXT(i),Jt.timerQueriesEXT[n]=null)}}function Jn(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2],i=Jt.renderbuffers[n];i&&(Na.deleteRenderbuffer(i),i.name=0,Jt.renderbuffers[n]=null)}}function ei(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2],i=Jt.samplers[n];i&&(Na.deleteSampler(i),i.name=0,Jt.samplers[n]=null)}}function ri(e){if(e){var r=Jt.shaders[e];r?(Na.deleteShader(r),Jt.shaders[e]=null):Jt.recordError(1281)}}function ti(e){if(e){var r=Jt.syncs[e];r?(Na.deleteSync(r),r.name=0,Jt.syncs[e]=null):Jt.recordError(1281)}}function ni(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2],i=Jt.textures[n];i&&(Na.deleteTexture(i),i.name=0,Jt.textures[n]=null)}}function ii(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2],i=Jt.transformFeedbacks[n];i&&(Na.deleteTransformFeedback(i),i.name=0,Jt.transformFeedbacks[n]=null)}}function oi(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2];Na.deleteVertexArray(Jt.vaos[n]),Jt.vaos[n]=null}}function ai(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2];Na.deleteVertexArray(Jt.vaos[n]),Jt.vaos[n]=null}}function si(e){Na.depthFunc(e)}function ui(e){Na.depthMask(!!e)}function ci(e,r){Na.depthRange(e,r)}function fi(e,r){Na.detachShader(Jt.programs[e],Jt.shaders[r])}function li(e){Na.disable(e)}function di(e){Na.disableVertexAttribArray(e)}function mi(e,r,t){Na.drawArrays(e,r,t)}function pi(e,r,t,n){Na.drawArraysInstanced(e,r,t,n)}function hi(e,r,t,n){Na.drawArraysInstanced(e,r,t,n)}function gi(e,r,t,n){Na.drawArraysInstanced(e,r,t,n)}function vi(e,r,t,n){Na.drawArraysInstanced(e,r,t,n)}function yi(e,r,t,n){Na.drawArraysInstanced(e,r,t,n)}var bi=[];function _i(e,r){for(var t=bi[e],n=0;n<e;n++)t[n]=N[r+4*n>>2];Na.drawBuffers(t)}function wi(e,r){for(var t=bi[e],n=0;n<e;n++)t[n]=N[r+4*n>>2];Na.drawBuffers(t)}function Ei(e,r){for(var t=bi[e],n=0;n<e;n++)t[n]=N[r+4*n>>2];Na.drawBuffers(t)}function xi(e,r,t,n){Na.drawElements(e,r,t,n)}function Ai(e,r,t,n,i){Na.drawElementsInstanced(e,r,t,n,i)}function Ti(e,r,t,n,i){Na.drawElementsInstanced(e,r,t,n,i)}function Pi(e,r,t,n,i){Na.drawElementsInstanced(e,r,t,n,i)}function Si(e,r,t,n,i){Na.drawElementsInstanced(e,r,t,n,i)}function ki(e,r,t,n,i){Na.drawElementsInstanced(e,r,t,n,i)}function Bi(e,r,t,n){Na.drawElements(e,r,t,n)}function Ci(e,r,t,n,i,o){Bi(e,n,i,o)}function Mi(e){Na.enable(e)}function Di(e){Na.enableVertexAttribArray(e)}function Ii(e){Na.endQuery(e)}function Fi(e){Na.disjointTimerQueryExt.endQueryEXT(e)}function Ri(){Na.endTransformFeedback()}function Li(e,r){var t=Na.fenceSync(e,r);if(t){var n=Jt.getNewId(Jt.syncs);return t.name=n,Jt.syncs[n]=t,n}return 0}function Ui(){Na.finish()}function Gi(){Na.flush()}function Oi(){w("missing function: emscripten_glFlushMappedBufferRange"),ye(-1)}function Ni(e,r,t,n){Na.framebufferRenderbuffer(e,r,t,Jt.renderbuffers[n])}function $i(e,r,t,n,i){Na.framebufferTexture2D(e,r,t,Jt.textures[n],i)}function Vi(e,r,t,n,i){Na.framebufferTextureLayer(e,r,Jt.textures[t],n,i)}function ji(e){Na.frontFace(e)}function Wi(e,r,t,n){for(var i=0;i<e;i++){var o=Na[t](),a=o&&Jt.getNewId(n);o?(o.name=a,n[a]=o):Jt.recordError(1282),N[r+4*i>>2]=a}}function zi(e,r){Wi(e,r,"createBuffer",Jt.buffers)}function qi(e,r){Wi(e,r,"createFramebuffer",Jt.framebuffers)}function Xi(e,r){Wi(e,r,"createQuery",Jt.queries)}function Qi(e,r){for(var t=0;t<e;t++){var n=Na.disjointTimerQueryExt.createQueryEXT();if(!n){for(Jt.recordError(1282);t<e;)N[r+4*t++>>2]=0;return}var i=Jt.getNewId(Jt.timerQueriesEXT);n.name=i,Jt.timerQueriesEXT[i]=n,N[r+4*t>>2]=i}}function Yi(e,r){Wi(e,r,"createRenderbuffer",Jt.renderbuffers)}function Hi(e,r){Wi(e,r,"createSampler",Jt.samplers)}function Ki(e,r){Wi(e,r,"createTexture",Jt.textures)}function Zi(e,r){Wi(e,r,"createTransformFeedback",Jt.transformFeedbacks)}function Ji(e,r){Wi(e,r,"createVertexArray",Jt.vaos)}function eo(e,r){Wi(e,r,"createVertexArray",Jt.vaos)}function ro(e){Na.generateMipmap(e)}function to(e,r,t,n,i,o,a){e=Jt.programs[e];var s=Na.getActiveAttrib(e,r);if(s){var u=t>0&&a?I(s.name,a,t):0;n&&(N[n>>2]=u),i&&(N[i>>2]=s.size),o&&(N[o>>2]=s.type)}}function no(e,r,t,n,i,o,a){e=Jt.programs[e];var s=Na.getActiveUniform(e,r);if(s){var u=t>0&&a?I(s.name,a,t):0;n&&(N[n>>2]=u),i&&(N[i>>2]=s.size),o&&(N[o>>2]=s.type)}}function io(e,r,t,n,i){e=Jt.programs[e];var o=Na.getActiveUniformBlockName(e,r);if(o)if(i&&t>0){var a=I(o,i,t);n&&(N[n>>2]=a)}else n&&(N[n>>2]=0)}function oo(e,r,t,n){if(n)switch(e=Jt.programs[e],t){case 35393:var i=Na.getActiveUniformBlockName(e,r);return void(N[n>>2]=i.length+1);default:var o=Na.getActiveUniformBlockParameter(e,r,t);if(!o)return;if("number"==typeof o)N[n>>2]=o;else for(var a=0;a<o.length;a++)N[n+4*a>>2]=o[a]}else Jt.recordError(1281)}function ao(e,r,t,n,i){if(i)if(r>0&&0==t)Jt.recordError(1281);else{e=Jt.programs[e];for(var o=[],a=0;a<r;a++)o.push(N[t+4*a>>2]);var s=Na.getActiveUniforms(e,o,n);if(s){var u=s.length;for(a=0;a<u;a++)N[i+4*a>>2]=s[a]}}else Jt.recordError(1281)}function so(e,r,t,n){var i=Na.getAttachedShaders(Jt.programs[e]),o=i.length;o>r&&(o=r),N[t>>2]=o;for(var a=0;a<o;++a){var s=Jt.shaders.indexOf(i[a]);N[n+4*a>>2]=s}}function uo(e,r){return Na.getAttribLocation(Jt.programs[e],M(r))}function co(e,r,t){if(r){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return void(0!=t&&1!=t&&Jt.recordError(1280));case 34814:case 36345:n=0;break;case 34466:var i=Na.getParameter(34467);n=i?i.length:0;break;case 33309:if(Jt.currentContext.version<2)return void Jt.recordError(1282);n=2*(Na.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(Jt.currentContext.version<2)return void Jt.recordError(1280);n=33307==e?3:0}if(void 0===n){var o=Na.getParameter(e);switch(typeof o){case"number":n=o;break;case"boolean":n=o?1:0;break;case"string":return void Jt.recordError(1280);case"object":if(null===o)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 35097:case 36389:case 34068:n=0;break;default:return void Jt.recordError(1280)}else{if(o instanceof Float32Array||o instanceof Uint32Array||o instanceof Int32Array||o instanceof Array){for(var a=0;a<o.length;++a)switch(t){case 0:N[r+4*a>>2]=o[a];break;case 2:V[r+4*a>>2]=o[a];break;case 4:L[r+a>>0]=o[a]?1:0}return}try{n=0|o.name}catch(r){return Jt.recordError(1280),void w("GL_INVALID_ENUM in glGet"+t+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+r+")")}}break;default:return Jt.recordError(1280),void w("GL_INVALID_ENUM in glGet"+t+"v: Native code calling glGet"+t+"v("+e+") and it returns "+o+" of type "+typeof o+"!")}}switch(t){case 1:Ee=[n>>>0,(we=n,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],N[r>>2]=Ee[0],N[r+4>>2]=Ee[1];break;case 0:N[r>>2]=n;break;case 2:V[r>>2]=n;break;case 4:L[r>>0]=n?1:0}}else Jt.recordError(1281)}function fo(e,r){co(e,r,4)}function lo(e,r,t){t?(Ee=[Na.getBufferParameter(e,r)>>>0,(we=Na.getBufferParameter(e,r),+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],N[t>>2]=Ee[0],N[t+4>>2]=Ee[1]):Jt.recordError(1281)}function mo(e,r,t){t?N[t>>2]=Na.getBufferParameter(e,r):Jt.recordError(1281)}function po(){w("missing function: emscripten_glGetBufferPointerv"),ye(-1)}function ho(){var e=Na.getError()||Jt.lastError;return Jt.lastError=0,e}function go(e,r){co(e,r,2)}function vo(e,r){return Na.getFragDataLocation(Jt.programs[e],M(r))}function yo(e,r,t,n){var i=Na.getFramebufferAttachmentParameter(e,r,t);(i instanceof WebGLRenderbuffer||i instanceof WebGLTexture)&&(i=0|i.name),N[n>>2]=i}function bo(e,r,t,n){if(t){var i,o=Na.getIndexedParameter(e,r);switch(typeof o){case"boolean":i=o?1:0;break;case"number":i=o;break;case"object":if(null===o)switch(e){case 35983:case 35368:i=0;break;default:return void Jt.recordError(1280)}else{if(!(o instanceof WebGLBuffer))return void Jt.recordError(1280);i=0|o.name}break;default:return void Jt.recordError(1280)}switch(n){case 1:Ee=[i>>>0,(we=i,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],N[t>>2]=Ee[0],N[t+4>>2]=Ee[1];break;case 0:N[t>>2]=i;break;case 2:V[t>>2]=i;break;case 4:L[t>>0]=i?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+n}}else Jt.recordError(1281)}function _o(e,r,t){bo(e,r,t,1)}function wo(e,r){co(e,r,1)}function Eo(e,r,t){bo(e,r,t,0)}function xo(e,r){co(e,r,0)}function Ao(e,r,t,n,i){if(n<0)Jt.recordError(1281);else if(i){var o=Na.getInternalformatParameter(e,r,t);if(null!==o)for(var a=0;a<o.length&&a<n;++a)N[i+a>>2]=o[a]}else Jt.recordError(1281)}function To(e,r,t,n,i){Jt.recordError(1282)}function Po(e,r,t,n){var i=Na.getProgramInfoLog(Jt.programs[e]);null===i&&(i="(unknown error)");var o=r>0&&n?I(i,n,r):0;t&&(N[t>>2]=o)}function So(e,r,t){if(t)if(e>=Jt.counter)Jt.recordError(1281);else{var n=Jt.programInfos[e];if(n)if(35716==r){var i=Na.getProgramInfoLog(Jt.programs[e]);null===i&&(i="(unknown error)"),N[t>>2]=i.length+1}else if(35719==r)N[t>>2]=n.maxUniformLength;else if(35722==r){if(-1==n.maxAttributeLength){e=Jt.programs[e];var o=Na.getProgramParameter(e,35721);n.maxAttributeLength=0;for(var a=0;a<o;++a){var s=Na.getActiveAttrib(e,a);n.maxAttributeLength=Math.max(n.maxAttributeLength,s.name.length+1)}}N[t>>2]=n.maxAttributeLength}else if(35381==r){if(-1==n.maxUniformBlockNameLength){e=Jt.programs[e];var u=Na.getProgramParameter(e,35382);n.maxUniformBlockNameLength=0;for(a=0;a<u;++a){var c=Na.getActiveUniformBlockName(e,a);n.maxUniformBlockNameLength=Math.max(n.maxUniformBlockNameLength,c.length+1)}}N[t>>2]=n.maxUniformBlockNameLength}else N[t>>2]=Na.getProgramParameter(Jt.programs[e],r);else Jt.recordError(1282)}else Jt.recordError(1281)}function ko(e,r,t){if(t){var n,i=Jt.timerQueriesEXT[e],o=Na.disjointTimerQueryExt.getQueryObjectEXT(i,r);Ee=[(n="boolean"==typeof o?o?1:0:o)>>>0,(we=n,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],N[t>>2]=Ee[0],N[t+4>>2]=Ee[1]}else Jt.recordError(1281)}function Bo(e,r,t){if(t){var n,i=Jt.timerQueriesEXT[e],o=Na.disjointTimerQueryExt.getQueryObjectEXT(i,r);n="boolean"==typeof o?o?1:0:o,N[t>>2]=n}else Jt.recordError(1281)}function Co(e,r,t){if(t){var n,i=Jt.timerQueriesEXT[e],o=Na.disjointTimerQueryExt.getQueryObjectEXT(i,r);Ee=[(n="boolean"==typeof o?o?1:0:o)>>>0,(we=n,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],N[t>>2]=Ee[0],N[t+4>>2]=Ee[1]}else Jt.recordError(1281)}function Mo(e,r,t){if(t){var n,i=Jt.queries[e],o=Na.getQueryParameter(i,r);n="boolean"==typeof o?o?1:0:o,N[t>>2]=n}else Jt.recordError(1281)}function Do(e,r,t){if(t){var n,i=Jt.timerQueriesEXT[e],o=Na.disjointTimerQueryExt.getQueryObjectEXT(i,r);n="boolean"==typeof o?o?1:0:o,N[t>>2]=n}else Jt.recordError(1281)}function Io(e,r,t){t?N[t>>2]=Na.getQuery(e,r):Jt.recordError(1281)}function Fo(e,r,t){t?N[t>>2]=Na.disjointTimerQueryExt.getQueryEXT(e,r):Jt.recordError(1281)}function Ro(e,r,t){t?N[t>>2]=Na.getRenderbufferParameter(e,r):Jt.recordError(1281)}function Lo(e,r,t){t?(e=Jt.samplers[e],V[t>>2]=Na.getSamplerParameter(e,r)):Jt.recordError(1281)}function Uo(e,r,t){t?(e=Jt.samplers[e],N[t>>2]=Na.getSamplerParameter(e,r)):Jt.recordError(1281)}function Go(e,r,t,n){var i=Na.getShaderInfoLog(Jt.shaders[e]);null===i&&(i="(unknown error)");var o=r>0&&n?I(i,n,r):0;t&&(N[t>>2]=o)}function Oo(e,r,t,n){var i=Na.getShaderPrecisionFormat(e,r);N[t>>2]=i.rangeMin,N[t+4>>2]=i.rangeMax,N[n>>2]=i.precision}function No(e,r,t,n){var i=Na.getShaderSource(Jt.shaders[e]);if(i){var o=r>0&&n?I(i,n,r):0;t&&(N[t>>2]=o)}}function $o(e,r,t){if(t)if(35716==r){var n=Na.getShaderInfoLog(Jt.shaders[e]);null===n&&(n="(unknown error)"),N[t>>2]=n.length+1}else if(35720==r){var i=Na.getShaderSource(Jt.shaders[e]),o=null===i||0==i.length?0:i.length+1;N[t>>2]=o}else N[t>>2]=Na.getShaderParameter(Jt.shaders[e],r);else Jt.recordError(1281)}function Vo(e){var r=F(e)+1,t=Lf(r);return I(e,t,r),t}function jo(e){if(Jt.stringCache[e])return Jt.stringCache[e];var r;switch(e){case 7939:var t=Na.getSupportedExtensions()||[];r=Vo((t=t.concat(t.map((function(e){return"GL_"+e})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:var n=Na.getParameter(e);n||Jt.recordError(1280),r=Vo(n);break;case 7938:var i=Na.getParameter(Na.VERSION);r=Vo(i=Jt.currentContext.version>=2?"OpenGL ES 3.0 ("+i+")":"OpenGL ES 2.0 ("+i+")");break;case 35724:var o=Na.getParameter(Na.SHADING_LANGUAGE_VERSION),a=o.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==a&&(3==a[1].length&&(a[1]=a[1]+"0"),o="OpenGL ES GLSL ES "+a[1]+" ("+o+")"),r=Vo(o);break;default:return Jt.recordError(1280),0}return Jt.stringCache[e]=r,r}function Wo(e,r){if(Jt.currentContext.version<2)return Jt.recordError(1282),0;var t=Jt.stringiCache[e];if(t)return r<0||r>=t.length?(Jt.recordError(1281),0):t[r];switch(e){case 7939:var n=Na.getSupportedExtensions()||[];return n=(n=n.concat(n.map((function(e){return"GL_"+e})))).map((function(e){return Vo(e)})),t=Jt.stringiCache[e]=n,r<0||r>=t.length?(Jt.recordError(1281),0):t[r];default:return Jt.recordError(1280),0}}function zo(e,r,t,n,i){if(t<0)Jt.recordError(1281);else if(i){var o=Na.getSyncParameter(Jt.syncs[e],r);N[n>>2]=o,null!==o&&n&&(N[n>>2]=1)}else Jt.recordError(1281)}function qo(e,r,t){t?V[t>>2]=Na.getTexParameter(e,r):Jt.recordError(1281)}function Xo(e,r,t){t?N[t>>2]=Na.getTexParameter(e,r):Jt.recordError(1281)}function Qo(e,r,t,n,i,o,a){e=Jt.programs[e];var s=Na.getTransformFeedbackVarying(e,r);if(s){if(a&&t>0){var u=I(s.name,a,t);n&&(N[n>>2]=u)}else n&&(N[n>>2]=0);i&&(N[i>>2]=s.size),o&&(N[o>>2]=s.type)}}function Yo(e,r){return Na.getUniformBlockIndex(Jt.programs[e],M(r))}function Ho(e,r,t,n){if(n)if(r>0&&(0==t||0==n))Jt.recordError(1281);else{e=Jt.programs[e];for(var i=[],o=0;o<r;o++)i.push(M(N[t+4*o>>2]));var a=Na.getUniformIndices(e,i);if(a){var s=a.length;for(o=0;o<s;o++)N[n+4*o>>2]=a[o]}}else Jt.recordError(1281)}function Ko(e,r){var t=0;if("]"==(r=M(r))[r.length-1]){var n=r.lastIndexOf("[");t="]"!=r[n+1]?parseInt(r.slice(n+1)):0,r=r.slice(0,n)}var i=Jt.programInfos[e]&&Jt.programInfos[e].uniforms[r];return i&&t>=0&&t<i[0]?i[1]+t:-1}function Zo(e,r,t,n){if(t){var i=Na.getUniform(Jt.programs[e],Jt.uniforms[r]);if("number"==typeof i||"boolean"==typeof i)switch(n){case 0:N[t>>2]=i;break;case 2:V[t>>2]=i;break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+n}else for(var o=0;o<i.length;o++)switch(n){case 0:N[t+4*o>>2]=i[o];break;case 2:V[t+4*o>>2]=i[o];break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+n}}else Jt.recordError(1281)}function Jo(e,r,t){Zo(e,r,t,2)}function ea(e,r,t){Zo(e,r,t,0)}function ra(e,r,t){Zo(e,r,t,0)}function ta(e,r,t,n){if(t){var i=Na.getVertexAttrib(e,r);if(34975==r)N[t>>2]=i.name;else if("number"==typeof i||"boolean"==typeof i)switch(n){case 0:N[t>>2]=i;break;case 2:V[t>>2]=i;break;case 5:N[t>>2]=Math.fround(i);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+n}else for(var o=0;o<i.length;o++)switch(n){case 0:N[t+4*o>>2]=i[o];break;case 2:V[t+4*o>>2]=i[o];break;case 5:N[t+4*o>>2]=Math.fround(i[o]);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+n}}else Jt.recordError(1281)}function na(e,r,t){ta(e,r,t,0)}function ia(e,r,t){ta(e,r,t,0)}function oa(e,r,t){t?N[t>>2]=Na.getVertexAttribOffset(e,r):Jt.recordError(1281)}function aa(e,r,t){ta(e,r,t,2)}function sa(e,r,t){ta(e,r,t,5)}function ua(e,r){Na.hint(e,r)}function ca(e,r,t){for(var n=bi[r],i=0;i<r;i++)n[i]=N[t+4*i>>2];Na.invalidateFramebuffer(e,n)}function fa(e,r,t,n,i,o,a){for(var s=bi[r],u=0;u<r;u++)s[u]=N[t+4*u>>2];Na.invalidateSubFramebuffer(e,s,n,i,o,a)}function la(e){var r=Jt.buffers[e];return r?Na.isBuffer(r):0}function da(e){return Na.isEnabled(e)}function ma(e){var r=Jt.framebuffers[e];return r?Na.isFramebuffer(r):0}function pa(e){return(e=Jt.programs[e])?Na.isProgram(e):0}function ha(e){var r=Jt.queries[e];return r?Na.isQuery(r):0}function ga(e){var r=Jt.timerQueriesEXT[e];return r?Na.disjointTimerQueryExt.isQueryEXT(r):0}function va(e){var r=Jt.renderbuffers[e];return r?Na.isRenderbuffer(r):0}function ya(e){var r=Jt.samplers[e];return r?Na.isSampler(r):0}function ba(e){var r=Jt.shaders[e];return r?Na.isShader(r):0}function _a(e){return(e=Jt.syncs[e])?Na.isSync(e):0}function wa(e){var r=Jt.textures[e];return r?Na.isTexture(r):0}function Ea(e){return Na.isTransformFeedback(Jt.transformFeedbacks[e])}function xa(e){var r=Jt.vaos[e];return r?Na.isVertexArray(r):0}function Aa(e){var r=Jt.vaos[e];return r?Na.isVertexArray(r):0}function Ta(e){Na.lineWidth(e)}function Pa(e){Na.linkProgram(Jt.programs[e]),Jt.populateUniformTable(e)}function Sa(){w("missing function: emscripten_glMapBufferRange"),ye(-1)}function ka(){Na.pauseTransformFeedback()}function Ba(e,r){3317==e&&(Jt.unpackAlignment=r),Na.pixelStorei(e,r)}function Ca(e,r){Na.polygonOffset(e,r)}function Ma(e,r,t,n){Jt.recordError(1280)}function Da(e,r,t){Jt.recordError(1280)}function Ia(e,r){Na.disjointTimerQueryExt.queryCounterEXT(Jt.timerQueriesEXT[e],r)}function Fa(e){Na.readBuffer(e)}function Ra(e,r,t,n){var i;return r*(e*t+(i=n)-1&-i)}var La={6402:1,6403:1,6406:1,6407:3,6408:4,6409:1,6410:2,33319:2,33320:2,35904:3,35906:4,36244:1,36248:3,36249:4},Ua={5120:1,5121:1,5122:2,5123:2,5124:4,5125:4,5126:4,5131:2,32819:2,32820:2,33635:2,33640:4,34042:4,35899:4,35902:4,36193:2};function Ga(e,r,t,n,i,o){var a=La[r]*Ua[e];if(a){var s=i+Ra(t,n,a,Jt.unpackAlignment);switch(e){case 5120:return L.subarray(i,s);case 5121:return U.subarray(i,s);case 5122:return G.subarray(i>>1,s>>1);case 5124:return N.subarray(i>>2,s>>2);case 5126:return V.subarray(i>>2,s>>2);case 5125:case 34042:case 35902:case 33640:case 35899:return $.subarray(i>>2,s>>2);case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return O.subarray(i>>1,s>>1);default:Jt.recordError(1280)}}else Jt.recordError(1280)}function Oa(e){switch(e){case 5120:return L;case 5121:return U;case 5122:return G;case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return O;case 5124:return N;case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return $;case 5126:return V}}var Na,$a={5122:1,5123:1,5124:2,5125:2,5126:2,5131:1,32819:1,32820:1,33635:1,33640:2,34042:2,35899:2,35902:2,36193:1};function Va(e,r,t,n,i,o,a){if(Jt.currentContext.supportsWebGL2EntryPoints)Na.currentPixelPackBufferBinding?Na.readPixels(e,r,t,n,i,o,a):Na.readPixels(e,r,t,n,i,o,Oa(o),a>>(0|$a[o]));else{var s=Ga(o,i,t,n,a);s?Na.readPixels(e,r,t,n,i,o,s):Jt.recordError(1280)}}function ja(){}function Wa(e,r,t,n){Na.renderbufferStorage(e,r,t,n)}function za(e,r,t,n,i){Na.renderbufferStorageMultisample(e,r,t,n,i)}function qa(){Na.resumeTransformFeedback()}function Xa(e,r){Na.sampleCoverage(e,!!r)}function Qa(e,r,t){Na.samplerParameterf(Jt.samplers[e],r,t)}function Ya(e,r,t){var n=V[t>>2];Na.samplerParameterf(Jt.samplers[e],r,n)}function Ha(e,r,t){Na.samplerParameteri(Jt.samplers[e],r,t)}function Ka(e,r,t){var n=N[t>>2];Na.samplerParameteri(Jt.samplers[e],r,n)}function Za(e,r,t,n){Na.scissor(e,r,t,n)}function Ja(){Jt.recordError(1280)}function es(e,r,t,n){var i=Jt.getSource(e,r,t,n);Na.shaderSource(Jt.shaders[e],i)}function rs(e,r,t){Na.stencilFunc(e,r,t)}function ts(e,r,t,n){Na.stencilFuncSeparate(e,r,t,n)}function ns(e){Na.stencilMask(e)}function is(e,r){Na.stencilMaskSeparate(e,r)}function os(e,r,t){Na.stencilOp(e,r,t)}function as(e,r,t,n){Na.stencilOpSeparate(e,r,t,n)}function ss(e,r,t,n,i,o,a,s,u){Jt.currentContext.supportsWebGL2EntryPoints?Na.currentPixelUnpackBufferBinding?Na.texImage2D(e,r,t,n,i,o,a,s,u):0!=u?Na.texImage2D(e,r,t,n,i,o,a,s,Oa(s),u>>(0|$a[s])):Na.texImage2D(e,r,t,n,i,o,a,s,null):Na.texImage2D(e,r,t,n,i,o,a,s,u?Ga(s,a,n,i,u):null)}function us(e,r,t,n,i,o,a,s,u,c){Na.currentPixelUnpackBufferBinding?Na.texImage3D(e,r,t,n,i,o,a,s,u,c):0!=c?Na.texImage3D(e,r,t,n,i,o,a,s,u,Oa(u),c>>(0|$a[u])):Na.texImage3D(e,r,t,n,i,o,a,s,u,null)}function cs(e,r,t){Na.texParameterf(e,r,t)}function fs(e,r,t){var n=V[t>>2];Na.texParameterf(e,r,n)}function ls(e,r,t){Na.texParameteri(e,r,t)}function ds(e,r,t){var n=N[t>>2];Na.texParameteri(e,r,n)}function ms(e,r,t,n,i){Na.texStorage2D(e,r,t,n,i)}function ps(e,r,t,n,i,o){Na.texStorage3D(e,r,t,n,i,o)}function hs(e,r,t,n,i,o,a,s,u){if(Jt.currentContext.supportsWebGL2EntryPoints)Na.currentPixelUnpackBufferBinding?Na.texSubImage2D(e,r,t,n,i,o,a,s,u):0!=u?Na.texSubImage2D(e,r,t,n,i,o,a,s,Oa(s),u>>(0|$a[s])):Na.texSubImage2D(e,r,t,n,i,o,a,s,null);else{var c=null;u&&(c=Ga(s,a,i,o,u)),Na.texSubImage2D(e,r,t,n,i,o,a,s,c)}}function gs(e,r,t,n,i,o,a,s,u,c,f){Na.currentPixelUnpackBufferBinding?Na.texSubImage3D(e,r,t,n,i,o,a,s,u,c,f):0!=f?Na.texSubImage3D(e,r,t,n,i,o,a,s,u,c,Oa(c),f>>(0|$a[c])):Na.texSubImage3D(e,r,t,n,i,o,a,s,u,c,null)}function vs(e,r,t,n){e=Jt.programs[e];for(var i=[],o=0;o<r;o++)i.push(M(N[t+4*o>>2]));Na.transformFeedbackVaryings(e,i,n)}function ys(e,r){Na.uniform1f(Jt.uniforms[e],r)}function bs(e,r,t){if(Jt.currentContext.supportsWebGL2EntryPoints)Na.uniform1fv(Jt.uniforms[e],V,t>>2,r);else{if(r<=Jt.MINI_TEMP_BUFFER_SIZE)for(var n=Jt.miniTempBufferViews[r-1],i=0;i<r;++i)n[i]=V[t+4*i>>2];else n=V.subarray(t>>2,t+4*r>>2);Na.uniform1fv(Jt.uniforms[e],n)}}function _s(e,r){Na.uniform1i(Jt.uniforms[e],r)}function ws(e,r,t){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniform1iv(Jt.uniforms[e],N,t>>2,r):Na.uniform1iv(Jt.uniforms[e],N.subarray(t>>2,t+4*r>>2))}function Es(e,r){Na.uniform1ui(Jt.uniforms[e],r)}function xs(e,r,t){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniform1uiv(Jt.uniforms[e],$,t>>2,r):Na.uniform1uiv(Jt.uniforms[e],$.subarray(t>>2,t+4*r>>2))}function As(e,r,t){Na.uniform2f(Jt.uniforms[e],r,t)}function Ts(e,r,t){if(Jt.currentContext.supportsWebGL2EntryPoints)Na.uniform2fv(Jt.uniforms[e],V,t>>2,2*r);else{if(2*r<=Jt.MINI_TEMP_BUFFER_SIZE)for(var n=Jt.miniTempBufferViews[2*r-1],i=0;i<2*r;i+=2)n[i]=V[t+4*i>>2],n[i+1]=V[t+(4*i+4)>>2];else n=V.subarray(t>>2,t+8*r>>2);Na.uniform2fv(Jt.uniforms[e],n)}}function Ps(e,r,t){Na.uniform2i(Jt.uniforms[e],r,t)}function Ss(e,r,t){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniform2iv(Jt.uniforms[e],N,t>>2,2*r):Na.uniform2iv(Jt.uniforms[e],N.subarray(t>>2,t+8*r>>2))}function ks(e,r,t){Na.uniform2ui(Jt.uniforms[e],r,t)}function Bs(e,r,t){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniform2uiv(Jt.uniforms[e],$,t>>2,2*r):Na.uniform2uiv(Jt.uniforms[e],$.subarray(t>>2,t+8*r>>2))}function Cs(e,r,t,n){Na.uniform3f(Jt.uniforms[e],r,t,n)}function Ms(e,r,t){if(Jt.currentContext.supportsWebGL2EntryPoints)Na.uniform3fv(Jt.uniforms[e],V,t>>2,3*r);else{if(3*r<=Jt.MINI_TEMP_BUFFER_SIZE)for(var n=Jt.miniTempBufferViews[3*r-1],i=0;i<3*r;i+=3)n[i]=V[t+4*i>>2],n[i+1]=V[t+(4*i+4)>>2],n[i+2]=V[t+(4*i+8)>>2];else n=V.subarray(t>>2,t+12*r>>2);Na.uniform3fv(Jt.uniforms[e],n)}}function Ds(e,r,t,n){Na.uniform3i(Jt.uniforms[e],r,t,n)}function Is(e,r,t){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniform3iv(Jt.uniforms[e],N,t>>2,3*r):Na.uniform3iv(Jt.uniforms[e],N.subarray(t>>2,t+12*r>>2))}function Fs(e,r,t,n){Na.uniform3ui(Jt.uniforms[e],r,t,n)}function Rs(e,r,t){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniform3uiv(Jt.uniforms[e],$,t>>2,3*r):Na.uniform3uiv(Jt.uniforms[e],$.subarray(t>>2,t+12*r>>2))}function Ls(e,r,t,n,i){Na.uniform4f(Jt.uniforms[e],r,t,n,i)}function Us(e,r,t){if(Jt.currentContext.supportsWebGL2EntryPoints)Na.uniform4fv(Jt.uniforms[e],V,t>>2,4*r);else{if(4*r<=Jt.MINI_TEMP_BUFFER_SIZE)for(var n=Jt.miniTempBufferViews[4*r-1],i=0;i<4*r;i+=4)n[i]=V[t+4*i>>2],n[i+1]=V[t+(4*i+4)>>2],n[i+2]=V[t+(4*i+8)>>2],n[i+3]=V[t+(4*i+12)>>2];else n=V.subarray(t>>2,t+16*r>>2);Na.uniform4fv(Jt.uniforms[e],n)}}function Gs(e,r,t,n,i){Na.uniform4i(Jt.uniforms[e],r,t,n,i)}function Os(e,r,t){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniform4iv(Jt.uniforms[e],N,t>>2,4*r):Na.uniform4iv(Jt.uniforms[e],N.subarray(t>>2,t+16*r>>2))}function Ns(e,r,t,n,i){Na.uniform4ui(Jt.uniforms[e],r,t,n,i)}function $s(e,r,t){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniform4uiv(Jt.uniforms[e],$,t>>2,4*r):Na.uniform4uiv(Jt.uniforms[e],$.subarray(t>>2,t+16*r>>2))}function Vs(e,r,t){e=Jt.programs[e],Na.uniformBlockBinding(e,r,t)}function js(e,r,t,n){if(Jt.currentContext.supportsWebGL2EntryPoints)Na.uniformMatrix2fv(Jt.uniforms[e],!!t,V,n>>2,4*r);else{if(4*r<=Jt.MINI_TEMP_BUFFER_SIZE)for(var i=Jt.miniTempBufferViews[4*r-1],o=0;o<4*r;o+=4)i[o]=V[n+4*o>>2],i[o+1]=V[n+(4*o+4)>>2],i[o+2]=V[n+(4*o+8)>>2],i[o+3]=V[n+(4*o+12)>>2];else i=V.subarray(n>>2,n+16*r>>2);Na.uniformMatrix2fv(Jt.uniforms[e],!!t,i)}}function Ws(e,r,t,n){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniformMatrix2x3fv(Jt.uniforms[e],!!t,V,n>>2,6*r):Na.uniformMatrix2x3fv(Jt.uniforms[e],!!t,V.subarray(n>>2,n+24*r>>2))}function zs(e,r,t,n){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniformMatrix2x4fv(Jt.uniforms[e],!!t,V,n>>2,8*r):Na.uniformMatrix2x4fv(Jt.uniforms[e],!!t,V.subarray(n>>2,n+32*r>>2))}function qs(e,r,t,n){if(Jt.currentContext.supportsWebGL2EntryPoints)Na.uniformMatrix3fv(Jt.uniforms[e],!!t,V,n>>2,9*r);else{if(9*r<=Jt.MINI_TEMP_BUFFER_SIZE)for(var i=Jt.miniTempBufferViews[9*r-1],o=0;o<9*r;o+=9)i[o]=V[n+4*o>>2],i[o+1]=V[n+(4*o+4)>>2],i[o+2]=V[n+(4*o+8)>>2],i[o+3]=V[n+(4*o+12)>>2],i[o+4]=V[n+(4*o+16)>>2],i[o+5]=V[n+(4*o+20)>>2],i[o+6]=V[n+(4*o+24)>>2],i[o+7]=V[n+(4*o+28)>>2],i[o+8]=V[n+(4*o+32)>>2];else i=V.subarray(n>>2,n+36*r>>2);Na.uniformMatrix3fv(Jt.uniforms[e],!!t,i)}}function Xs(e,r,t,n){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniformMatrix3x2fv(Jt.uniforms[e],!!t,V,n>>2,6*r):Na.uniformMatrix3x2fv(Jt.uniforms[e],!!t,V.subarray(n>>2,n+24*r>>2))}function Qs(e,r,t,n){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniformMatrix3x4fv(Jt.uniforms[e],!!t,V,n>>2,12*r):Na.uniformMatrix3x4fv(Jt.uniforms[e],!!t,V.subarray(n>>2,n+48*r>>2))}function Ys(e,r,t,n){if(Jt.currentContext.supportsWebGL2EntryPoints)Na.uniformMatrix4fv(Jt.uniforms[e],!!t,V,n>>2,16*r);else{if(16*r<=Jt.MINI_TEMP_BUFFER_SIZE)for(var i=Jt.miniTempBufferViews[16*r-1],o=0;o<16*r;o+=16)i[o]=V[n+4*o>>2],i[o+1]=V[n+(4*o+4)>>2],i[o+2]=V[n+(4*o+8)>>2],i[o+3]=V[n+(4*o+12)>>2],i[o+4]=V[n+(4*o+16)>>2],i[o+5]=V[n+(4*o+20)>>2],i[o+6]=V[n+(4*o+24)>>2],i[o+7]=V[n+(4*o+28)>>2],i[o+8]=V[n+(4*o+32)>>2],i[o+9]=V[n+(4*o+36)>>2],i[o+10]=V[n+(4*o+40)>>2],i[o+11]=V[n+(4*o+44)>>2],i[o+12]=V[n+(4*o+48)>>2],i[o+13]=V[n+(4*o+52)>>2],i[o+14]=V[n+(4*o+56)>>2],i[o+15]=V[n+(4*o+60)>>2];else i=V.subarray(n>>2,n+64*r>>2);Na.uniformMatrix4fv(Jt.uniforms[e],!!t,i)}}function Hs(e,r,t,n){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniformMatrix4x2fv(Jt.uniforms[e],!!t,V,n>>2,8*r):Na.uniformMatrix4x2fv(Jt.uniforms[e],!!t,V.subarray(n>>2,n+32*r>>2))}function Ks(e,r,t,n){Jt.currentContext.supportsWebGL2EntryPoints?Na.uniformMatrix4x3fv(Jt.uniforms[e],!!t,V,n>>2,12*r):Na.uniformMatrix4x3fv(Jt.uniforms[e],!!t,V.subarray(n>>2,n+48*r>>2))}function Zs(){w("missing function: emscripten_glUnmapBuffer"),ye(-1)}function Js(e){Na.useProgram(Jt.programs[e])}function eu(e){Na.validateProgram(Jt.programs[e])}function ru(e,r){Na.vertexAttrib1f(e,r)}function tu(e,r){Na.vertexAttrib1f(e,V[r>>2])}function nu(e,r,t){Na.vertexAttrib2f(e,r,t)}function iu(e,r){Na.vertexAttrib2f(e,V[r>>2],V[r+4>>2])}function ou(e,r,t,n){Na.vertexAttrib3f(e,r,t,n)}function au(e,r){Na.vertexAttrib3f(e,V[r>>2],V[r+4>>2],V[r+8>>2])}function su(e,r,t,n,i){Na.vertexAttrib4f(e,r,t,n,i)}function uu(e,r){Na.vertexAttrib4f(e,V[r>>2],V[r+4>>2],V[r+8>>2],V[r+12>>2])}function cu(e,r){Na.vertexAttribDivisor(e,r)}function fu(e,r){Na.vertexAttribDivisor(e,r)}function lu(e,r){Na.vertexAttribDivisor(e,r)}function du(e,r){Na.vertexAttribDivisor(e,r)}function mu(e,r){Na.vertexAttribDivisor(e,r)}function pu(e,r,t,n,i){Na.vertexAttribI4i(e,r,t,n,i)}function hu(e,r){Na.vertexAttribI4i(e,N[r>>2],N[r+4>>2],N[r+8>>2],N[r+12>>2])}function gu(e,r,t,n,i){Na.vertexAttribI4ui(e,r,t,n,i)}function vu(e,r){Na.vertexAttribI4ui(e,$[r>>2],$[r+4>>2],$[r+8>>2],$[r+12>>2])}function yu(e,r,t,n,i){Na.vertexAttribIPointer(e,r,t,n,i)}function bu(e,r,t,n,i,o){Na.vertexAttribPointer(e,r,t,!!n,i,o)}function _u(e,r,t,n){Na.viewport(e,r,t,n)}function wu(e,r,t,n){n>>>=0;var i=4294967295==(t>>>=0)&&4294967295==n?-1:E(t,n,!0);Na.waitSync(Jt.syncs[e],r,i)}function Eu(e,r,t){U.set(U.subarray(r,r+t),e)}function xu(e){try{return A.grow(e-R.byteLength+65535>>16),X(A.buffer),1}catch(e){}}function Au(e){var r=Kt();if(e>2147418112)return!1;for(var t=Math.max(r,16777216);t<e;)t=t<=536870912?q(2*t,65536):Math.min(q((3*t+2147483648)/4,65536),2147418112);return!!xu(t)}function Tu(e){try{var r=Ge.getStreamFromFD(e);return Ue.close(r),0}catch(e){return void 0!==Ue&&e instanceof Ue.ErrnoError||ye(e),e.errno}}function Pu(e,r,t,n,i){try{var o=Ge.getStreamFromFD(e),a=4294967296*t+(r>>>0);return a<=-9007199254740992||a>=9007199254740992?-61:(Ue.llseek(o,a,n),Ee=[o.position>>>0,(we=o.position,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],N[i>>2]=Ee[0],N[i+4>>2]=Ee[1],o.getdents&&0===a&&0===n&&(o.getdents=null),0)}catch(e){return void 0!==Ue&&e instanceof Ue.ErrnoError||ye(e),e.errno}}function Su(e,r,t,n){try{var i=Ge.getStreamFromFD(e),o=Ge.doWritev(i,r,t);return N[n>>2]=o,0}catch(e){return void 0!==Ue&&e instanceof Ue.ErrnoError||ye(e),e.errno}}function ku(e){Na.activeTexture(e)}function Bu(e,r){Na.attachShader(Jt.programs[e],Jt.shaders[r])}function Cu(e,r){35051==e?Na.currentPixelPackBufferBinding=r:35052==e&&(Na.currentPixelUnpackBufferBinding=r),Na.bindBuffer(e,Jt.buffers[r])}function Mu(e,r,t,n,i){Na.bindBufferRange(e,r,Jt.buffers[t],n,i)}function Du(e,r){Na.bindFramebuffer(e,Jt.framebuffers[r])}function Iu(e,r){Na.bindRenderbuffer(e,Jt.renderbuffers[r])}function Fu(e,r){Na.bindSampler(e,Jt.samplers[r])}function Ru(e,r){Na.bindTexture(e,Jt.textures[r])}function Lu(e){Na.bindVertexArray(Jt.vaos[e])}function Uu(e,r){Na.blendEquationSeparate(e,r)}function Gu(e,r,t,n){Na.blendFuncSeparate(e,r,t,n)}function Ou(e,r,t,n,i,o,a,s,u,c){Na.blitFramebuffer(e,r,t,n,i,o,a,s,u,c)}function Nu(e,r,t,n){Jt.currentContext.supportsWebGL2EntryPoints?t?Na.bufferData(e,U,n,t,r):Na.bufferData(e,r,n):Na.bufferData(e,t?U.subarray(t,t+r):r,n)}function $u(e,r,t,n){Jt.currentContext.supportsWebGL2EntryPoints?Na.bufferSubData(e,r,U,n,t):Na.bufferSubData(e,r,U.subarray(n,n+t))}function Vu(e){Na.clear(e)}function ju(e,r,t,n){Na.clearColor(e,r,t,n)}function Wu(e){Na.clearDepth(e)}function zu(e){Na.clearStencil(e)}function qu(e,r,t,n){n>>>=0;var i=4294967295==(t>>>=0)&&4294967295==n?-1:E(t,n,!0);return Na.clientWaitSync(Jt.syncs[e],r,i)}function Xu(e,r,t,n){Na.colorMask(!!e,!!r,!!t,!!n)}function Qu(e){Na.compileShader(Jt.shaders[e])}function Yu(e,r,t,n,i,o,a,s,u){Jt.currentContext.supportsWebGL2EntryPoints?Na.currentPixelUnpackBufferBinding?Na.compressedTexSubImage2D(e,r,t,n,i,o,a,s,u):Na.compressedTexSubImage2D(e,r,t,n,i,o,a,U,u,s):Na.compressedTexSubImage2D(e,r,t,n,i,o,a,u?U.subarray(u,u+s):null)}function Hu(e,r,t,n,i,o,a,s,u,c,f){Jt.currentContext.supportsWebGL2EntryPoints?Na.currentPixelUnpackBufferBinding?Na.compressedTexSubImage3D(e,r,t,n,i,o,a,s,u,c,f):Na.compressedTexSubImage3D(e,r,t,n,i,o,a,s,u,U,f,c):Na.compressedTexSubImage3D(e,r,t,n,i,o,a,s,u,f?U.subarray(f,f+c):null)}function Ku(){var e=Jt.getNewId(Jt.programs),r=Na.createProgram();return r.name=e,Jt.programs[e]=r,e}function Zu(e){var r=Jt.getNewId(Jt.shaders);return Jt.shaders[r]=Na.createShader(e),r}function Ju(e){Na.cullFace(e)}function ec(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2],i=Jt.buffers[n];i&&(Na.deleteBuffer(i),i.name=0,Jt.buffers[n]=null,n==Jt.currArrayBuffer&&(Jt.currArrayBuffer=0),n==Jt.currElementArrayBuffer&&(Jt.currElementArrayBuffer=0),n==Na.currentPixelPackBufferBinding&&(Na.currentPixelPackBufferBinding=0),n==Na.currentPixelUnpackBufferBinding&&(Na.currentPixelUnpackBufferBinding=0))}}function rc(e,r){for(var t=0;t<e;++t){var n=N[r+4*t>>2],i=Jt.framebuffers[n];i&&(Na.deleteFramebuffer(i),i.name=0,Jt.framebuffers[n]=null)}}function tc(e){if(e){var r=Jt.programs[e];r?(Na.deleteProgram(r),r.name=0,Jt.programs[e]=null,Jt.programInfos[e]=null):Jt.recordError(1281)}}function nc(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2],i=Jt.renderbuffers[n];i&&(Na.deleteRenderbuffer(i),i.name=0,Jt.renderbuffers[n]=null)}}function ic(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2],i=Jt.samplers[n];i&&(Na.deleteSampler(i),i.name=0,Jt.samplers[n]=null)}}function oc(e){if(e){var r=Jt.shaders[e];r?(Na.deleteShader(r),Jt.shaders[e]=null):Jt.recordError(1281)}}function ac(e){if(e){var r=Jt.syncs[e];r?(Na.deleteSync(r),r.name=0,Jt.syncs[e]=null):Jt.recordError(1281)}}function sc(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2],i=Jt.textures[n];i&&(Na.deleteTexture(i),i.name=0,Jt.textures[n]=null)}}function uc(e,r){for(var t=0;t<e;t++){var n=N[r+4*t>>2];Na.deleteVertexArray(Jt.vaos[n]),Jt.vaos[n]=null}}function cc(e){Na.depthFunc(e)}function fc(e){Na.depthMask(!!e)}function lc(e,r){Na.detachShader(Jt.programs[e],Jt.shaders[r])}function dc(e){Na.disable(e)}function mc(e){Na.disableVertexAttribArray(e)}function pc(e,r,t){Na.drawArrays(e,r,t)}function hc(e,r,t,n,i,o){Bi(e,n,i,o)}function gc(e){Na.enable(e)}function vc(e){Na.enableVertexAttribArray(e)}function yc(e,r){var t=Na.fenceSync(e,r);if(t){var n=Jt.getNewId(Jt.syncs);return t.name=n,Jt.syncs[n]=t,n}return 0}function bc(){Na.finish()}function _c(){Na.flush()}function wc(e,r,t,n){Na.framebufferRenderbuffer(e,r,t,Jt.renderbuffers[n])}function Ec(e,r,t,n,i){Na.framebufferTexture2D(e,r,t,Jt.textures[n],i)}function xc(e,r,t,n,i){Na.framebufferTextureLayer(e,r,Jt.textures[t],n,i)}function Ac(e){Na.frontFace(e)}function Tc(e,r){Wi(e,r,"createBuffer",Jt.buffers)}function Pc(e,r){Wi(e,r,"createFramebuffer",Jt.framebuffers)}function Sc(e,r){Wi(e,r,"createRenderbuffer",Jt.renderbuffers)}function kc(e,r){Wi(e,r,"createSampler",Jt.samplers)}function Bc(e,r){Wi(e,r,"createTexture",Jt.textures)}function Cc(e,r){Wi(e,r,"createVertexArray",Jt.vaos)}function Mc(e){Na.generateMipmap(e)}function Dc(){var e=Na.getError()||Jt.lastError;return Jt.lastError=0,e}function Ic(e,r){co(e,r,2)}function Fc(e,r){co(e,r,0)}function Rc(e,r,t,n){var i=Na.getProgramInfoLog(Jt.programs[e]);null===i&&(i="(unknown error)");var o=r>0&&n?I(i,n,r):0;t&&(N[t>>2]=o)}function Lc(e,r,t){if(t)if(e>=Jt.counter)Jt.recordError(1281);else{var n=Jt.programInfos[e];if(n)if(35716==r){var i=Na.getProgramInfoLog(Jt.programs[e]);null===i&&(i="(unknown error)"),N[t>>2]=i.length+1}else if(35719==r)N[t>>2]=n.maxUniformLength;else if(35722==r){if(-1==n.maxAttributeLength){e=Jt.programs[e];var o=Na.getProgramParameter(e,35721);n.maxAttributeLength=0;for(var a=0;a<o;++a){var s=Na.getActiveAttrib(e,a);n.maxAttributeLength=Math.max(n.maxAttributeLength,s.name.length+1)}}N[t>>2]=n.maxAttributeLength}else if(35381==r){if(-1==n.maxUniformBlockNameLength){e=Jt.programs[e];var u=Na.getProgramParameter(e,35382);n.maxUniformBlockNameLength=0;for(a=0;a<u;++a){var c=Na.getActiveUniformBlockName(e,a);n.maxUniformBlockNameLength=Math.max(n.maxUniformBlockNameLength,c.length+1)}}N[t>>2]=n.maxUniformBlockNameLength}else N[t>>2]=Na.getProgramParameter(Jt.programs[e],r);else Jt.recordError(1282)}else Jt.recordError(1281)}function Uc(e,r,t,n){var i=Na.getShaderInfoLog(Jt.shaders[e]);null===i&&(i="(unknown error)");var o=r>0&&n?I(i,n,r):0;t&&(N[t>>2]=o)}function Gc(e,r,t){if(t)if(35716==r){var n=Na.getShaderInfoLog(Jt.shaders[e]);null===n&&(n="(unknown error)"),N[t>>2]=n.length+1}else if(35720==r){var i=Na.getShaderSource(Jt.shaders[e]),o=null===i||0==i.length?0:i.length+1;N[t>>2]=o}else N[t>>2]=Na.getShaderParameter(Jt.shaders[e],r);else Jt.recordError(1281)}function Oc(e){if(Jt.stringCache[e])return Jt.stringCache[e];var r;switch(e){case 7939:var t=Na.getSupportedExtensions()||[];r=Vo((t=t.concat(t.map((function(e){return"GL_"+e})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:var n=Na.getParameter(e);n||Jt.recordError(1280),r=Vo(n);break;case 7938:var i=Na.getParameter(Na.VERSION);r=Vo(i=Jt.currentContext.version>=2?"OpenGL ES 3.0 ("+i+")":"OpenGL ES 2.0 ("+i+")");break;case 35724:var o=Na.getParameter(Na.SHADING_LANGUAGE_VERSION),a=o.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==a&&(3==a[1].length&&(a[1]=a[1]+"0"),o="OpenGL ES GLSL ES "+a[1]+" ("+o+")"),r=Vo(o);break;default:return Jt.recordError(1280),0}return Jt.stringCache[e]=r,r}function Nc(e,r){if(Jt.currentContext.version<2)return Jt.recordError(1282),0;var t=Jt.stringiCache[e];if(t)return r<0||r>=t.length?(Jt.recordError(1281),0):t[r];switch(e){case 7939:var n=Na.getSupportedExtensions()||[];return n=(n=n.concat(n.map((function(e){return"GL_"+e})))).map((function(e){return Vo(e)})),t=Jt.stringiCache[e]=n,r<0||r>=t.length?(Jt.recordError(1281),0):t[r];default:return Jt.recordError(1280),0}}function $c(e,r){return Na.getUniformBlockIndex(Jt.programs[e],M(r))}function Vc(e,r){var t=0;if("]"==(r=M(r))[r.length-1]){var n=r.lastIndexOf("[");t="]"!=r[n+1]?parseInt(r.slice(n+1)):0,r=r.slice(0,n)}var i=Jt.programInfos[e]&&Jt.programInfos[e].uniforms[r];return i&&t>=0&&t<i[0]?i[1]+t:-1}function jc(e,r,t){ta(e,r,t,5)}function Wc(e,r){Na.hint(e,r)}function zc(e,r,t){for(var n=bi[r],i=0;i<r;i++)n[i]=N[t+4*i>>2];Na.invalidateFramebuffer(e,n)}function qc(e,r,t,n,i,o,a){for(var s=bi[r],u=0;u<r;u++)s[u]=N[t+4*u>>2];Na.invalidateSubFramebuffer(e,s,n,i,o,a)}function Xc(e){return Na.isEnabled(e)}function Qc(e){Na.linkProgram(Jt.programs[e]),Jt.populateUniformTable(e)}function Yc(){w("missing function: glMapBufferRange"),ye(-1)}function Hc(e,r){3317==e&&(Jt.unpackAlignment=r),Na.pixelStorei(e,r)}function Kc(e,r){Na.polygonOffset(e,r)}function Zc(e,r,t,n,i,o,a){if(Jt.currentContext.supportsWebGL2EntryPoints)Na.currentPixelPackBufferBinding?Na.readPixels(e,r,t,n,i,o,a):Na.readPixels(e,r,t,n,i,o,Oa(o),a>>(0|$a[o]));else{var s=Ga(o,i,t,n,a);s?Na.readPixels(e,r,t,n,i,o,s):Jt.recordError(1280)}}function Jc(e,r,t,n){Na.renderbufferStorage(e,r,t,n)}function ef(e,r,t,n,i){Na.renderbufferStorageMultisample(e,r,t,n,i)}function rf(e,r,t){Na.samplerParameteri(Jt.samplers[e],r,t)}function tf(e,r,t,n){Na.scissor(e,r,t,n)}function nf(e,r,t,n){var i=Jt.getSource(e,r,t,n);Na.shaderSource(Jt.shaders[e],i)}function of(e,r,t){Na.texParameteri(e,r,t)}function af(e,r,t,n,i){Na.texStorage2D(e,r,t,n,i)}function sf(e,r,t,n,i,o){Na.texStorage3D(e,r,t,n,i,o)}function uf(e,r,t,n,i,o,a,s,u){if(Jt.currentContext.supportsWebGL2EntryPoints)Na.currentPixelUnpackBufferBinding?Na.texSubImage2D(e,r,t,n,i,o,a,s,u):0!=u?Na.texSubImage2D(e,r,t,n,i,o,a,s,Oa(s),u>>(0|$a[s])):Na.texSubImage2D(e,r,t,n,i,o,a,s,null);else{var c=null;u&&(c=Ga(s,a,i,o,u)),Na.texSubImage2D(e,r,t,n,i,o,a,s,c)}}function cf(e,r,t,n,i,o,a,s,u,c,f){Na.currentPixelUnpackBufferBinding?Na.texSubImage3D(e,r,t,n,i,o,a,s,u,c,f):0!=f?Na.texSubImage3D(e,r,t,n,i,o,a,s,u,c,Oa(c),f>>(0|$a[c])):Na.texSubImage3D(e,r,t,n,i,o,a,s,u,c,null)}function ff(e,r){Na.uniform1f(Jt.uniforms[e],r)}function lf(e,r){Na.uniform1i(Jt.uniforms[e],r)}function df(e,r,t,n,i){Na.uniform4f(Jt.uniforms[e],r,t,n,i)}function mf(e,r,t){e=Jt.programs[e],Na.uniformBlockBinding(e,r,t)}function pf(){w("missing function: glUnmapBuffer"),ye(-1)}function hf(e){Na.useProgram(Jt.programs[e])}function gf(e,r,t,n,i){Na.vertexAttrib4f(e,r,t,n,i)}function vf(e,r,t,n,i){Na.vertexAttribI4ui(e,r,t,n,i)}function yf(e,r,t,n,i){Na.vertexAttribIPointer(e,r,t,n,i)}function bf(e,r,t,n,i,o){Na.vertexAttribPointer(e,r,t,!!n,i,o)}function _f(e,r,t,n){Na.viewport(e,r,t,n)}function wf(e,r,t,n){n>>>=0;var i=4294967295==(t>>>=0)&&4294967295==n?-1:E(t,n,!0);Na.waitSync(Jt.syncs[e],r,i)}function Ef(){return 0}function xf(){return 0}function Af(){return 6}function Tf(){}function Pf(e){return(e=+e)>=0?+le(e+.5):+fe(e-.5)}function Sf(e){T(0|e)}function kf(e){switch(e){case 30:return W;case 85:return 2147418112/W;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return Ie(28),-1}Ue.staticInit(),Ze=a.InternalError=Ke(Error,"InternalError"),or(),ur=a.BindingError=Ke(Error,"BindingError"),Sr(),Hr(),Wr(),et=a.UnboundTypeError=Ke(Error,"UnboundTypeError"),vt(),Qt=l?function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:"object"==typeof performance&&performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,Jt.init();for(var Bf=0;Bf<32;Bf++)bi.push(new Array(Bf));function Cf(e,r,t){var n=t>0?t:F(e)+1,i=new Array(n),o=D(e,i,0,i.length);return r&&(i.length=o),i}var Mf={__cxa_atexit:Me,__syscall3:Oe,__syscall5:Ne,_embind_finalize_value_array:rr,_embind_finalize_value_object:nr,_embind_register_bool:lr,_embind_register_class:nt,_embind_register_class_class_function:st,_embind_register_class_constructor:ut,_embind_register_class_function:ct,_embind_register_class_property:lt,_embind_register_emval:bt,_embind_register_enum:wt,_embind_register_enum_value:xt,_embind_register_float:Pt,_embind_register_function:St,_embind_register_integer:Bt,_embind_register_memory_view:Ct,_embind_register_std_string:Mt,_embind_register_std_wstring:Dt,_embind_register_value_array:It,_embind_register_value_array_element:Ft,_embind_register_value_object:Rt,_embind_register_value_object_field:Lt,_embind_register_void:Ut,_emval_as:Ot,_emval_decref:pt,_emval_get_property:Nt,_emval_incref:$t,_emval_new_cstring:Wt,_emval_run_destructors:zt,_emval_take_value:qt,abort:Xt,clock_gettime:Ht,emscripten_get_sbrk_ptr:Zt,emscripten_glActiveTexture:en,emscripten_glAttachShader:rn,emscripten_glBeginQuery:tn,emscripten_glBeginQueryEXT:nn,emscripten_glBeginTransformFeedback:on,emscripten_glBindAttribLocation:an,emscripten_glBindBuffer:sn,emscripten_glBindBufferBase:un,emscripten_glBindBufferRange:cn,emscripten_glBindFramebuffer:fn,emscripten_glBindRenderbuffer:ln,emscripten_glBindSampler:dn,emscripten_glBindTexture:mn,emscripten_glBindTransformFeedback:pn,emscripten_glBindVertexArray:hn,emscripten_glBindVertexArrayOES:gn,emscripten_glBlendColor:vn,emscripten_glBlendEquation:yn,emscripten_glBlendEquationSeparate:bn,emscripten_glBlendFunc:_n,emscripten_glBlendFuncSeparate:wn,emscripten_glBlitFramebuffer:En,emscripten_glBufferData:xn,emscripten_glBufferSubData:An,emscripten_glCheckFramebufferStatus:Tn,emscripten_glClear:Pn,emscripten_glClearBufferfi:Sn,emscripten_glClearBufferfv:kn,emscripten_glClearBufferiv:Bn,emscripten_glClearBufferuiv:Cn,emscripten_glClearColor:Mn,emscripten_glClearDepthf:Dn,emscripten_glClearStencil:In,emscripten_glClientWaitSync:Fn,emscripten_glColorMask:Rn,emscripten_glCompileShader:Ln,emscripten_glCompressedTexImage2D:Un,emscripten_glCompressedTexImage3D:Gn,emscripten_glCompressedTexSubImage2D:On,emscripten_glCompressedTexSubImage3D:Nn,emscripten_glCopyBufferSubData:$n,emscripten_glCopyTexImage2D:Vn,emscripten_glCopyTexSubImage2D:jn,emscripten_glCopyTexSubImage3D:Wn,emscripten_glCreateProgram:zn,emscripten_glCreateShader:qn,emscripten_glCullFace:Xn,emscripten_glDeleteBuffers:Qn,emscripten_glDeleteFramebuffers:Yn,emscripten_glDeleteProgram:Hn,emscripten_glDeleteQueries:Kn,emscripten_glDeleteQueriesEXT:Zn,emscripten_glDeleteRenderbuffers:Jn,emscripten_glDeleteSamplers:ei,emscripten_glDeleteShader:ri,emscripten_glDeleteSync:ti,emscripten_glDeleteTextures:ni,emscripten_glDeleteTransformFeedbacks:ii,emscripten_glDeleteVertexArrays:oi,emscripten_glDeleteVertexArraysOES:ai,emscripten_glDepthFunc:si,emscripten_glDepthMask:ui,emscripten_glDepthRangef:ci,emscripten_glDetachShader:fi,emscripten_glDisable:li,emscripten_glDisableVertexAttribArray:di,emscripten_glDrawArrays:mi,emscripten_glDrawArraysInstanced:pi,emscripten_glDrawArraysInstancedANGLE:hi,emscripten_glDrawArraysInstancedARB:gi,emscripten_glDrawArraysInstancedEXT:vi,emscripten_glDrawArraysInstancedNV:yi,emscripten_glDrawBuffers:_i,emscripten_glDrawBuffersEXT:wi,emscripten_glDrawBuffersWEBGL:Ei,emscripten_glDrawElements:xi,emscripten_glDrawElementsInstanced:Ai,emscripten_glDrawElementsInstancedANGLE:Ti,emscripten_glDrawElementsInstancedARB:Pi,emscripten_glDrawElementsInstancedEXT:Si,emscripten_glDrawElementsInstancedNV:ki,emscripten_glDrawRangeElements:Ci,emscripten_glEnable:Mi,emscripten_glEnableVertexAttribArray:Di,emscripten_glEndQuery:Ii,emscripten_glEndQueryEXT:Fi,emscripten_glEndTransformFeedback:Ri,emscripten_glFenceSync:Li,emscripten_glFinish:Ui,emscripten_glFlush:Gi,emscripten_glFlushMappedBufferRange:Oi,emscripten_glFramebufferRenderbuffer:Ni,emscripten_glFramebufferTexture2D:$i,emscripten_glFramebufferTextureLayer:Vi,emscripten_glFrontFace:ji,emscripten_glGenBuffers:zi,emscripten_glGenFramebuffers:qi,emscripten_glGenQueries:Xi,emscripten_glGenQueriesEXT:Qi,emscripten_glGenRenderbuffers:Yi,emscripten_glGenSamplers:Hi,emscripten_glGenTextures:Ki,emscripten_glGenTransformFeedbacks:Zi,emscripten_glGenVertexArrays:Ji,emscripten_glGenVertexArraysOES:eo,emscripten_glGenerateMipmap:ro,emscripten_glGetActiveAttrib:to,emscripten_glGetActiveUniform:no,emscripten_glGetActiveUniformBlockName:io,emscripten_glGetActiveUniformBlockiv:oo,emscripten_glGetActiveUniformsiv:ao,emscripten_glGetAttachedShaders:so,emscripten_glGetAttribLocation:uo,emscripten_glGetBooleanv:fo,emscripten_glGetBufferParameteri64v:lo,emscripten_glGetBufferParameteriv:mo,emscripten_glGetBufferPointerv:po,emscripten_glGetError:ho,emscripten_glGetFloatv:go,emscripten_glGetFragDataLocation:vo,emscripten_glGetFramebufferAttachmentParameteriv:yo,emscripten_glGetInteger64i_v:_o,emscripten_glGetInteger64v:wo,emscripten_glGetIntegeri_v:Eo,emscripten_glGetIntegerv:xo,emscripten_glGetInternalformativ:Ao,emscripten_glGetProgramBinary:To,emscripten_glGetProgramInfoLog:Po,emscripten_glGetProgramiv:So,emscripten_glGetQueryObjecti64vEXT:ko,emscripten_glGetQueryObjectivEXT:Bo,emscripten_glGetQueryObjectui64vEXT:Co,emscripten_glGetQueryObjectuiv:Mo,emscripten_glGetQueryObjectuivEXT:Do,emscripten_glGetQueryiv:Io,emscripten_glGetQueryivEXT:Fo,emscripten_glGetRenderbufferParameteriv:Ro,emscripten_glGetSamplerParameterfv:Lo,emscripten_glGetSamplerParameteriv:Uo,emscripten_glGetShaderInfoLog:Go,emscripten_glGetShaderPrecisionFormat:Oo,emscripten_glGetShaderSource:No,emscripten_glGetShaderiv:$o,emscripten_glGetString:jo,emscripten_glGetStringi:Wo,emscripten_glGetSynciv:zo,emscripten_glGetTexParameterfv:qo,emscripten_glGetTexParameteriv:Xo,emscripten_glGetTransformFeedbackVarying:Qo,emscripten_glGetUniformBlockIndex:Yo,emscripten_glGetUniformIndices:Ho,emscripten_glGetUniformLocation:Ko,emscripten_glGetUniformfv:Jo,emscripten_glGetUniformiv:ea,emscripten_glGetUniformuiv:ra,emscripten_glGetVertexAttribIiv:na,emscripten_glGetVertexAttribIuiv:ia,emscripten_glGetVertexAttribPointerv:oa,emscripten_glGetVertexAttribfv:aa,emscripten_glGetVertexAttribiv:sa,emscripten_glHint:ua,emscripten_glInvalidateFramebuffer:ca,emscripten_glInvalidateSubFramebuffer:fa,emscripten_glIsBuffer:la,emscripten_glIsEnabled:da,emscripten_glIsFramebuffer:ma,emscripten_glIsProgram:pa,emscripten_glIsQuery:ha,emscripten_glIsQueryEXT:ga,emscripten_glIsRenderbuffer:va,emscripten_glIsSampler:ya,emscripten_glIsShader:ba,emscripten_glIsSync:_a,emscripten_glIsTexture:wa,emscripten_glIsTransformFeedback:Ea,emscripten_glIsVertexArray:xa,emscripten_glIsVertexArrayOES:Aa,emscripten_glLineWidth:Ta,emscripten_glLinkProgram:Pa,emscripten_glMapBufferRange:Sa,emscripten_glPauseTransformFeedback:ka,emscripten_glPixelStorei:Ba,emscripten_glPolygonOffset:Ca,emscripten_glProgramBinary:Ma,emscripten_glProgramParameteri:Da,emscripten_glQueryCounterEXT:Ia,emscripten_glReadBuffer:Fa,emscripten_glReadPixels:Va,emscripten_glReleaseShaderCompiler:ja,emscripten_glRenderbufferStorage:Wa,emscripten_glRenderbufferStorageMultisample:za,emscripten_glResumeTransformFeedback:qa,emscripten_glSampleCoverage:Xa,emscripten_glSamplerParameterf:Qa,emscripten_glSamplerParameterfv:Ya,emscripten_glSamplerParameteri:Ha,emscripten_glSamplerParameteriv:Ka,emscripten_glScissor:Za,emscripten_glShaderBinary:Ja,emscripten_glShaderSource:es,emscripten_glStencilFunc:rs,emscripten_glStencilFuncSeparate:ts,emscripten_glStencilMask:ns,emscripten_glStencilMaskSeparate:is,emscripten_glStencilOp:os,emscripten_glStencilOpSeparate:as,emscripten_glTexImage2D:ss,emscripten_glTexImage3D:us,emscripten_glTexParameterf:cs,emscripten_glTexParameterfv:fs,emscripten_glTexParameteri:ls,emscripten_glTexParameteriv:ds,emscripten_glTexStorage2D:ms,emscripten_glTexStorage3D:ps,emscripten_glTexSubImage2D:hs,emscripten_glTexSubImage3D:gs,emscripten_glTransformFeedbackVaryings:vs,emscripten_glUniform1f:ys,emscripten_glUniform1fv:bs,emscripten_glUniform1i:_s,emscripten_glUniform1iv:ws,emscripten_glUniform1ui:Es,emscripten_glUniform1uiv:xs,emscripten_glUniform2f:As,emscripten_glUniform2fv:Ts,emscripten_glUniform2i:Ps,emscripten_glUniform2iv:Ss,emscripten_glUniform2ui:ks,emscripten_glUniform2uiv:Bs,emscripten_glUniform3f:Cs,emscripten_glUniform3fv:Ms,emscripten_glUniform3i:Ds,emscripten_glUniform3iv:Is,emscripten_glUniform3ui:Fs,emscripten_glUniform3uiv:Rs,emscripten_glUniform4f:Ls,emscripten_glUniform4fv:Us,emscripten_glUniform4i:Gs,emscripten_glUniform4iv:Os,emscripten_glUniform4ui:Ns,emscripten_glUniform4uiv:$s,emscripten_glUniformBlockBinding:Vs,emscripten_glUniformMatrix2fv:js,emscripten_glUniformMatrix2x3fv:Ws,emscripten_glUniformMatrix2x4fv:zs,emscripten_glUniformMatrix3fv:qs,emscripten_glUniformMatrix3x2fv:Xs,emscripten_glUniformMatrix3x4fv:Qs,emscripten_glUniformMatrix4fv:Ys,emscripten_glUniformMatrix4x2fv:Hs,emscripten_glUniformMatrix4x3fv:Ks,emscripten_glUnmapBuffer:Zs,emscripten_glUseProgram:Js,emscripten_glValidateProgram:eu,emscripten_glVertexAttrib1f:ru,emscripten_glVertexAttrib1fv:tu,emscripten_glVertexAttrib2f:nu,emscripten_glVertexAttrib2fv:iu,emscripten_glVertexAttrib3f:ou,emscripten_glVertexAttrib3fv:au,emscripten_glVertexAttrib4f:su,emscripten_glVertexAttrib4fv:uu,emscripten_glVertexAttribDivisor:cu,emscripten_glVertexAttribDivisorANGLE:fu,emscripten_glVertexAttribDivisorARB:lu,emscripten_glVertexAttribDivisorEXT:du,emscripten_glVertexAttribDivisorNV:mu,emscripten_glVertexAttribI4i:pu,emscripten_glVertexAttribI4iv:hu,emscripten_glVertexAttribI4ui:gu,emscripten_glVertexAttribI4uiv:vu,emscripten_glVertexAttribIPointer:yu,emscripten_glVertexAttribPointer:bu,emscripten_glViewport:_u,emscripten_glWaitSync:wu,emscripten_memcpy_big:Eu,emscripten_resize_heap:Au,fd_close:Tu,fd_seek:Pu,fd_write:Su,glActiveTexture:ku,glAttachShader:Bu,glBindBuffer:Cu,glBindBufferRange:Mu,glBindFramebuffer:Du,glBindRenderbuffer:Iu,glBindSampler:Fu,glBindTexture:Ru,glBindVertexArray:Lu,glBlendEquationSeparate:Uu,glBlendFuncSeparate:Gu,glBlitFramebuffer:Ou,glBufferData:Nu,glBufferSubData:$u,glClear:Vu,glClearColor:ju,glClearDepthf:Wu,glClearStencil:zu,glClientWaitSync:qu,glColorMask:Xu,glCompileShader:Qu,glCompressedTexSubImage2D:Yu,glCompressedTexSubImage3D:Hu,glCreateProgram:Ku,glCreateShader:Zu,glCullFace:Ju,glDeleteBuffers:ec,glDeleteFramebuffers:rc,glDeleteProgram:tc,glDeleteRenderbuffers:nc,glDeleteSamplers:ic,glDeleteShader:oc,glDeleteSync:ac,glDeleteTextures:sc,glDeleteVertexArrays:uc,glDepthFunc:cc,glDepthMask:fc,glDetachShader:lc,glDisable:dc,glDisableVertexAttribArray:mc,glDrawArrays:pc,glDrawRangeElements:hc,glEnable:gc,glEnableVertexAttribArray:vc,glFenceSync:yc,glFinish:bc,glFlush:_c,glFramebufferRenderbuffer:wc,glFramebufferTexture2D:Ec,glFramebufferTextureLayer:xc,glFrontFace:Ac,glGenBuffers:Tc,glGenFramebuffers:Pc,glGenRenderbuffers:Sc,glGenSamplers:kc,glGenTextures:Bc,glGenVertexArrays:Cc,glGenerateMipmap:Mc,glGetError:Dc,glGetFloatv:Ic,glGetIntegerv:Fc,glGetProgramInfoLog:Rc,glGetProgramiv:Lc,glGetShaderInfoLog:Uc,glGetShaderiv:Gc,glGetString:Oc,glGetStringi:Nc,glGetUniformBlockIndex:$c,glGetUniformLocation:Vc,glGetVertexAttribiv:jc,glHint:Wc,glInvalidateFramebuffer:zc,glInvalidateSubFramebuffer:qc,glIsEnabled:Xc,glLinkProgram:Qc,glMapBufferRange:Yc,glPixelStorei:Hc,glPolygonOffset:Kc,glReadPixels:Zc,glRenderbufferStorage:Jc,glRenderbufferStorageMultisample:ef,glSamplerParameteri:rf,glScissor:tf,glShaderSource:nf,glTexParameteri:of,glTexStorage2D:af,glTexStorage3D:sf,glTexSubImage2D:uf,glTexSubImage3D:cf,glUniform1f:ff,glUniform1i:lf,glUniform4f:df,glUniformBlockBinding:mf,glUnmapBuffer:pf,glUseProgram:hf,glVertexAttrib4f:gf,glVertexAttribI4ui:vf,glVertexAttribIPointer:yf,glVertexAttribPointer:bf,glViewport:_f,glWaitSync:wf,memory:A,pthread_cond_destroy:Ef,pthread_cond_timedwait:xf,pthread_create:Af,pthread_join:Tf,roundf:Pf,setTempRet0:Sf,sysconf:kf,table:P},Df=Pe();a.asm=Df;var If,Ff=a.___wasm_call_ctors=function(){return a.asm.__wasm_call_ctors.apply(null,arguments)},Rf=a._free=function(){return a.asm.free.apply(null,arguments)},Lf=a._malloc=function(){return a.asm.malloc.apply(null,arguments)},Uf=(a._strstr=function(){return a.asm.strstr.apply(null,arguments)},a.___errno_location=function(){return a.asm.__errno_location.apply(null,arguments)},a._setThrew=function(){return a.asm.setThrew.apply(null,arguments)},a.___getTypeName=function(){return a.asm.__getTypeName.apply(null,arguments)});a.___embind_register_native_and_builtin_types=function(){return a.asm.__embind_register_native_and_builtin_types.apply(null,arguments)},a._emscripten_GetProcAddress=function(){return a.asm.emscripten_GetProcAddress.apply(null,arguments)},a.stackSave=function(){return a.asm.stackSave.apply(null,arguments)},a.stackAlloc=function(){return a.asm.stackAlloc.apply(null,arguments)},a.stackRestore=function(){return a.asm.stackRestore.apply(null,arguments)},a.__growWasmMemory=function(){return a.asm.__growWasmMemory.apply(null,arguments)},a.dynCall_i=function(){return a.asm.dynCall_i.apply(null,arguments)},a.dynCall_vi=function(){return a.asm.dynCall_vi.apply(null,arguments)},a.dynCall_fii=function(){return a.asm.dynCall_fii.apply(null,arguments)},a.dynCall_viif=function(){return a.asm.dynCall_viif.apply(null,arguments)},a.dynCall_dii=function(){return a.asm.dynCall_dii.apply(null,arguments)},a.dynCall_viid=function(){return a.asm.dynCall_viid.apply(null,arguments)},a.dynCall_iii=function(){return a.asm.dynCall_iii.apply(null,arguments)},a.dynCall_viii=function(){return a.asm.dynCall_viii.apply(null,arguments)},a.dynCall_ii=function(){return a.asm.dynCall_ii.apply(null,arguments)},a.dynCall_vii=function(){return a.asm.dynCall_vii.apply(null,arguments)},a.dynCall_iiii=function(){return a.asm.dynCall_iiii.apply(null,arguments)},a.dynCall_viiii=function(){return a.asm.dynCall_viiii.apply(null,arguments)},a.dynCall_iiiii=function(){return a.asm.dynCall_iiiii.apply(null,arguments)},a.dynCall_iiiiii=function(){return a.asm.dynCall_iiiiii.apply(null,arguments)},a.dynCall_viidddddd=function(){return a.asm.dynCall_viidddddd.apply(null,arguments)},a.dynCall_viiidddddd=function(){return a.asm.dynCall_viiidddddd.apply(null,arguments)},a.dynCall_viddddi=function(){return a.asm.dynCall_viddddi.apply(null,arguments)},a.dynCall_viiddddi=function(){return a.asm.dynCall_viiddddi.apply(null,arguments)},a.dynCall_viddd=function(){return a.asm.dynCall_viddd.apply(null,arguments)},a.dynCall_viiddd=function(){return a.asm.dynCall_viiddd.apply(null,arguments)},a.dynCall_viidd=function(){return a.asm.dynCall_viidd.apply(null,arguments)},a.dynCall_viiidd=function(){return a.asm.dynCall_viiidd.apply(null,arguments)},a.dynCall_fi=function(){return a.asm.dynCall_fi.apply(null,arguments)},a.dynCall_viiiii=function(){return a.asm.dynCall_viiiii.apply(null,arguments)},a.dynCall_vifff=function(){return a.asm.dynCall_vifff.apply(null,arguments)},a.dynCall_viifff=function(){return a.asm.dynCall_viifff.apply(null,arguments)},a.dynCall_vif=function(){return a.asm.dynCall_vif.apply(null,arguments)},a.dynCall_iiiiiii=function(){return a.asm.dynCall_iiiiiii.apply(null,arguments)},a.dynCall_viiffff=function(){return a.asm.dynCall_viiffff.apply(null,arguments)},a.dynCall_viiiffff=function(){return a.asm.dynCall_viiiffff.apply(null,arguments)},a.dynCall_viiiiiiii=function(){return a.asm.dynCall_viiiiiiii.apply(null,arguments)},a.dynCall_viiiiiiiii=function(){return a.asm.dynCall_viiiiiiiii.apply(null,arguments)},a.dynCall_viiiiii=function(){return a.asm.dynCall_viiiiii.apply(null,arguments)},a.dynCall_viiiiiii=function(){return a.asm.dynCall_viiiiiii.apply(null,arguments)},a.dynCall_iif=function(){return a.asm.dynCall_iif.apply(null,arguments)},a.dynCall_iiif=function(){return a.asm.dynCall_iiif.apply(null,arguments)},a.dynCall_iiff=function(){return a.asm.dynCall_iiff.apply(null,arguments)},a.dynCall_iiiff=function(){return a.asm.dynCall_iiiff.apply(null,arguments)},a.dynCall_viiif=function(){return a.asm.dynCall_viiif.apply(null,arguments)},a.dynCall_viiff=function(){return a.asm.dynCall_viiff.apply(null,arguments)},a.dynCall_viiiff=function(){return a.asm.dynCall_viiiff.apply(null,arguments)},a.dynCall_fiii=function(){return a.asm.dynCall_fiii.apply(null,arguments)},a.dynCall_iiiiiiii=function(){return a.asm.dynCall_iiiiiiii.apply(null,arguments)},a.dynCall_viff=function(){return a.asm.dynCall_viff.apply(null,arguments)},a.dynCall_viiiiiiiiii=function(){return a.asm.dynCall_viiiiiiiiii.apply(null,arguments)},a.dynCall_viiiiiiiiiii=function(){return a.asm.dynCall_viiiiiiiiiii.apply(null,arguments)},a.dynCall_v=function(){return a.asm.dynCall_v.apply(null,arguments)},a.dynCall_jii=function(){return a.asm.dynCall_jii.apply(null,arguments)},a.dynCall_iiij=function(){return a.asm.dynCall_iiij.apply(null,arguments)},a.dynCall_vij=function(){return a.asm.dynCall_vij.apply(null,arguments)},a.dynCall_jiji=function(){return a.asm.dynCall_jiji.apply(null,arguments)},a.dynCall_iidiiii=function(){return a.asm.dynCall_iidiiii.apply(null,arguments)},a.dynCall_vffff=function(){return a.asm.dynCall_vffff.apply(null,arguments)},a.dynCall_vf=function(){return a.asm.dynCall_vf.apply(null,arguments)},a.dynCall_vff=function(){return a.asm.dynCall_vff.apply(null,arguments)},a.dynCall_vfi=function(){return a.asm.dynCall_vfi.apply(null,arguments)},a.dynCall_viffff=function(){return a.asm.dynCall_viffff.apply(null,arguments)},a.dynCall_viifi=function(){return a.asm.dynCall_viifi.apply(null,arguments)};function Gf(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Of(e){function r(){If||(If=!0,S||(ie(),oe(),a.onRuntimeInitialized&&a.onRuntimeInitialized(),ae()))}e=e||u,me>0||(ne(),me>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),r()}),1)):r()))}if(a.asm=Df,he=function e(){If||Of(),If||(he=e)},a.run=Of,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();function Nf(r){return("string"==typeof r||r instanceof String)&&(r=e.assets[r]),r.buffer instanceof ArrayBuffer&&(r=e.Buffer(r)),r}function $f(e,r,t){return Math.max(Math.min(t,e),r)}return!0,Of(),e.remainingInitializationTasks=1,e.init=function(r,t){e.onReady=t,e.remainingInitializationTasks+=r.length,e.assets={},"undefined"!=typeof glMatrix&&e.loadMathExtensions(),e.fetch(r,null,(function(r){0==--e.remainingInitializationTasks&&e.onReady&&e.onReady()}))},e.postRun=function(){e.loadClassExtensions(),0==--e.remainingInitializationTasks&&e.onReady&&e.onReady()},e.fetch=function(r,t,n){var i=r.length;r.forEach((function(r){e.assets[r]?(n&&n(r),0==--i&&t&&t()):fetch(r).then((function(e){if(!e.ok)throw new Error(r);return e.arrayBuffer()})).then((function(o){e.assets[r]=new Uint8Array(o),n&&n(r),0==--i&&t&&t()}))}))},e.loadClassExtensions=function(){e.Engine.create=function(r,t){t=Object.assign({majorVersion:2,minorVersion:0,antialias:!1,depth:!0,alpha:!1},t);const n=r.getContext("webgl2",t),i=Jt.registerContext(n,t);return Jt.makeContextCurrent(i),n.getExtension("WEBGL_compressed_texture_s3tc"),n.getExtension("WEBGL_compressed_texture_astc"),n.getExtension("WEBGL_compressed_texture_etc"),e.Engine._create()},e.Engine.prototype.createMaterial=function(e){e=Nf(e);const r=this._createMaterial(e);return e.delete(),r},e.Engine.prototype.createTextureFromKtx=function(r,t){r=Nf(r);const n=e._createTextureFromKtx(r,this,t);return r.delete(),n},e.Engine.prototype.createIblFromKtx=function(r,t){r=Nf(r);const n=e._createIblFromKtx(r,this,t);return r.delete(),n},e.Engine.prototype.createSkyFromKtx=function(r,t){const n=this.createTextureFromKtx(r,t);return e.Skybox.Builder().environment(n).build(this)},e.Engine.prototype.createTextureFromPng=function(r,t){r=Nf(r);const n=e._createTextureFromImageFile(r,this,t);return r.delete(),n},e.Engine.prototype.createTextureFromJpeg=function(r,t){r=Nf(r);const n=e._createTextureFromImageFile(r,this,t);return r.delete(),n},e.Engine.prototype.loadFilamesh=function(r,t,n){r=Nf(r);const i=e._loadFilamesh(this,r,t,n);return r.delete(),i},e.Engine.prototype.createAssetLoader=function(){const r=new e.gltfio$UbershaderLoader(this);return new e.gltfio$AssetLoader(this,r)},e.VertexBuffer.prototype.setBufferAt=function(e,r,t){t=Nf(t),this._setBufferAt(e,r,t),t.delete()},e.IndexBuffer.prototype.setBuffer=function(e,r){r=Nf(r),this._setBuffer(e,r),r.delete()},e.RenderableManager$Builder.prototype.build=e.LightManager$Builder.prototype.build=function(e,r){const t=this._build(e,r);return this.delete(),t},e.RenderTarget$Builder.prototype.build=e.VertexBuffer$Builder.prototype.build=e.IndexBuffer$Builder.prototype.build=e.Texture$Builder.prototype.build=e.IndirectLight$Builder.prototype.build=e.Skybox$Builder.prototype.build=function(e){const r=this._build(e);return this.delete(),r},e.KtxBundle.prototype.getBlob=function(e){const r=this._getBlob(e),t=r.getBytes();return r.delete(),t},e.KtxBundle.prototype.getCubeBlob=function(e){const r=this._getCubeBlob(e),t=r.getBytes();return r.delete(),t},e.Texture.prototype.setImage=function(e,r,t){this._setImage(e,r,t),t.delete()},e.Texture.prototype.setImageCube=function(e,r,t){this._setImageCube(e,r,t),t.delete()},e.SurfaceOrientation$Builder.prototype.build=function(){const e=this._build();return this.delete(),e},e.gltfio$AssetLoader.prototype.createAssetFromJson=function(e){"string"==typeof e&&e.endsWith(".glb")&&console.error("Please use createAssetFromBinary for glb files."),e=Nf(e);const r=this._createAssetFromJson(e);return e.delete(),r},e.gltfio$AssetLoader.prototype.createAssetFromBinary=function(e){"string"==typeof e&&e.endsWith(".gltf")&&console.error("Please use createAssetFromJson for gltf files."),e=Nf(e);const r=this._createAssetFromBinary(e);return e.delete(),r},e.gltfio$FilamentAsset.prototype.loadResources=function(r,t,n,i){const o=this,a=this.getEngine(),s=this.getResourceUris(),u=new Set,c={},f=i||30;n=n||document.location;for(var l=0;l<s.size();l++){const e=s.get(l);if(e){const r=""+new URL(e,n);c[r]=e,u.add(r)}}const d=new e.gltfio$ResourceLoader(a),m=function(){const e=function(){d.asyncBeginLoad(o);const e=setInterval(()=>{d.asyncUpdateLoad(),d.asyncGetLoadProgress()>=1&&(clearInterval(e),d.delete())},f)};r?r(e):e()};0!=u.size?e.fetch(Array.from(u),m,(function(e){const r=Nf(e),n=c[e];d.addResourceData(n,r),r.delete(),t&&t(n)})):m()}},e.Buffer=function(r){console.assert(r.buffer instanceof ArrayBuffer),console.assert(r.byteLength>0),e.HEAPU32.buffer==r.buffer&&(r=new Uint8Array(r));const t=r,n=new e.driver$BufferDescriptor(t.byteLength),i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return n.getBytes().set(i),n},e.PixelBuffer=function(r,t,n){console.assert(r.buffer instanceof ArrayBuffer),console.assert(r.byteLength>0),e.HEAPU32.buffer==r.buffer&&(r=new Uint8Array(r));const i=r,o=new e.driver$PixelBufferDescriptor(i.byteLength,t,n),a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return o.getBytes().set(a),o},e.CompressedPixelBuffer=function(r,t,n){console.assert(r.buffer instanceof ArrayBuffer),console.assert(r.byteLength>0),n=n||r.byteLength,e.HEAPU32.buffer==r.buffer&&(r=new Uint8Array(r));const i=r,o=new e.driver$PixelBufferDescriptor(i.byteLength,t,n,!0),a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return o.getBytes().set(a),o},e._loadFilamesh=function(r,t,n,i){i=i||{};const o=new e.MeshReader$MaterialRegistry;for(var a in i)o.set(a,i[a]);n&&o.set("DefaultMaterial",n);const s=e.MeshReader.loadMeshFromBuffer(r,t,o),u=o.keys();for(var c=0;c<u.size();c++){const e=u.get(c),r=o.get(e);i[e]=r}return{renderable:s.renderable(),vertexBuffer:s.vertexBuffer(),indexBuffer:s.indexBuffer()}},e.IcoSphere=function(r){const t=.5257311121191336,n=.8506508083520399;if(this.vertices=new Float32Array([-t,0,+n,+t,0,+n,-t,0,-n,+t,0,-n,0,+n,+t,0,+n,-t,0,-n,+t,0,-n,-t,+n,+t,0,-n,+t,0,+n,-t,0,-n,-t,0]),this.triangles=new Uint16Array([1,4,0,4,9,0,4,5,9,8,5,4,1,8,4,1,10,8,10,3,8,8,3,5,3,2,5,3,7,2,3,10,7,10,6,7,6,11,7,6,0,11,6,1,0,10,1,6,11,0,9,2,11,9,5,2,9,11,2,7]),r)for(;r-- >0;)this.subdivide();const i=this.vertices.length/3,o=e._malloc(this.vertices.length*this.vertices.BYTES_PER_ELEMENT);a.HEAPU8.set(new Uint8Array(this.vertices.buffer),o);const s=new e.SurfaceOrientation$Builder;s.vertexCount(i),s.normals(o,0);const u=s.build();e._free(o);const c=8*i,f=e._malloc(c);u.getQuats(f,i,e.VertexBuffer$AttributeType.SHORT4);const l=a.HEAPU8.subarray(f,f+c).slice().buffer;e._free(f),this.tangents=new Int16Array(l),u.delete()},e.IcoSphere.prototype.subdivide=function(){const e=this.triangles,r=this.vertices,t=e.length/3,n=4*t,i=r.length/3,o=i+3*t,a=new Uint16Array(3*n),s=new Float32Array(3*o);s.set(r);for(var u=0,c=0,f=3*i,l=f+3,d=l+3,m=0;m<t;m++,f+=9,l+=9,d+=9){const t=3*e[u++],n=3*e[u++],i=3*e[u++],o=r.subarray(t,t+3),m=r.subarray(n,n+3),p=r.subarray(i,i+3),h=s.subarray(f,f+3),g=s.subarray(l,l+3),v=s.subarray(d,d+3);vec3.normalize(h,vec3.add(h,o,m)),vec3.normalize(g,vec3.add(g,m,p)),vec3.normalize(v,vec3.add(v,p,o)),a[c++]=t/3,a[c++]=f/3,a[c++]=d/3,a[c++]=f/3,a[c++]=n/3,a[c++]=l/3,a[c++]=d/3,a[c++]=f/3,a[c++]=l/3,a[c++]=i/3,a[c++]=d/3,a[c++]=l/3}this.triangles=a,this.vertices=s},e.packSnorm16=function(e){return Math.round(32767*$f(e,-1,1))},e.loadMathExtensions=function(){vec4.packSnorm16=function(r,t){return r[0]=e.packSnorm16(t[0]),r[1]=e.packSnorm16(t[1]),r[2]=e.packSnorm16(t[2]),r[3]=e.packSnorm16(t[3]),r};const r=mat3.fromRotation;mat3.fromRotation=function(e,t,n){return n?mat3.fromMat4(e,mat4.fromRotation(mat4.create(),t,n)):r(e,t)}},e._createTextureFromKtx=function(r,t,n){const i=(n=n||{}).ktx||new e.KtxBundle(r),o=!!n.srgb;return e.ktx$createTexture(t,i,o)},e._createIblFromKtx=function(r,t,n){const i=(n=n||{}).ktx=new e.KtxBundle(r),o=i.info().glInternalFormat;o!=this.ctx.R11F_G11F_B10F&&o!=this.ctx.RGB16F&&o!=this.ctx.RGB32F&&console.warn("IBL texture format is 0x"+o.toString(16)+" which is not an expected floating-point format. Please use cmgen to generate IBL.");const a=e._createTextureFromKtx(r,t,n),s=i.getMetadata("sh"),u=e.IndirectLight.Builder().reflections(a).build(t);return u.shfloats=s.split(/\s/,27).map(parseFloat),u},e._createTextureFromImageFile=function(r,t,n){const i=e.Texture$Sampler,o=e.Texture$InternalFormat,a=e.PixelDataFormat,s=!!(n=n||{}).srgb,u=!!n.noalpha,c=!!n.nomips,f=e.decodeImage(r,u?3:4);var l,d,m;u?(l=s?o.SRGB8:o.RGB8,d=a.RGB,m=e.PixelDataType.UBYTE):(l=s?o.SRGB8_A8:o.RGBA8,d=a.RGBA,m=e.PixelDataType.UBYTE);const p=e.Texture.Builder().width(f.width).height(f.height).levels(c?1:255).sampler(i.SAMPLER_2D).format(l).build(t),h=e.PixelBuffer(f.data.getBytes(),d,m);return p.setImage(t,0,h),c||p.generateMipmaps(t),p},e.getSupportedFormats=function(){if(e.supportedFormats)return e.supportedFormats;const r={s3tc:!1,astc:!1,etc:!1};var t,n=document.createElement("canvas").getContext("webgl2",{majorVersion:2,minorVersion:0}).getSupportedExtensions(),i=n.length;for(t=0;t<i;t++){var o=n[t];"WEBGL_compressed_texture_s3tc"==o?r.s3tc=!0:"WEBGL_compressed_texture_astc"==o?r.astc=!0:"WEBGL_compressed_texture_etc"==o&&(r.etc=!0)}return e.supportedFormats=r},e.getSupportedFormatSuffix=function(r){r=r.split(" ");var t=e.getSupportedFormats();for(var n in t)if(t[n]&&r.includes(n))return"_"+n;return""},e}("object"==typeof o?o:{});e.exports=o}).call(this,t(8),"/",t(9).Buffer)},,,,,,,,function(e,r){var t,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],f=!1,l=-1;function d(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&m())}function m(){if(!f){var e=s(d);f=!0;for(var r=c.length;r;){for(u=c,c=[];++l<r;)u&&u[l].run();l=-1,r=c.length}u=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(r){try{return n.call(null,e)}catch(r){return n.call(this,e)}}}(e)}}function p(e,r){this.fun=e,this.array=r}function h(){}i.nextTick=function(e){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)r[t-1]=arguments[t];c.push(new p(e,r)),1!==c.length||f||s(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,r,t){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=t(11),i=t(12),o=t(13);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,r){if(a()<r)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(r)).__proto__=u.prototype:(null===e&&(e=new u(r)),e.length=r),e}function u(e,r,t){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,r,t);if("number"==typeof e){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,r,t)}function c(e,r,t,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?function(e,r,t,n){if(r.byteLength,t<0||r.byteLength<t)throw new RangeError("'offset' is out of bounds");if(r.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");r=void 0===t&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,t):new Uint8Array(r,t,n);u.TYPED_ARRAY_SUPPORT?(e=r).__proto__=u.prototype:e=d(e,r);return e}(e,r,t,n):"string"==typeof r?function(e,r,t){"string"==typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(r,t),i=(e=s(e,n)).write(r,t);i!==n&&(e=e.slice(0,i));return e}(e,r,t):function(e,r){if(u.isBuffer(r)){var t=0|m(r.length);return 0===(e=s(e,t)).length?e:(r.copy(e,0,0,t),e)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||(n=r.length)!=n?s(e,0):d(e,r);if("Buffer"===r.type&&o(r.data))return d(e,r.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,r)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,r){if(f(r),e=s(e,r<0?0:0|m(r)),!u.TYPED_ARRAY_SUPPORT)for(var t=0;t<r;++t)e[t]=0;return e}function d(e,r){var t=r.length<0?0:0|m(r.length);e=s(e,t);for(var n=0;n<t;n+=1)e[n]=255&r[n];return e}function m(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,r){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var t=e.length;if(0===t)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return $(e).length;default:if(n)return N(e).length;r=(""+r).toLowerCase(),n=!0}}function h(e,r,t){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===t||t>this.length)&&(t=this.length),t<=0)return"";if((t>>>=0)<=(r>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,r,t);case"utf8":case"utf-8":return P(this,r,t);case"ascii":return S(this,r,t);case"latin1":case"binary":return k(this,r,t);case"base64":return T(this,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,r,t);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,r,t){var n=e[r];e[r]=e[t],e[t]=n}function v(e,r,t,n,i){if(0===e.length)return-1;if("string"==typeof t?(n=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(i)return-1;t=e.length-1}else if(t<0){if(!i)return-1;t=0}if("string"==typeof r&&(r=u.from(r,n)),u.isBuffer(r))return 0===r.length?-1:y(e,r,t,n,i);if("number"==typeof r)return r&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,r,t):Uint8Array.prototype.lastIndexOf.call(e,r,t):y(e,[r],t,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,r,t,n,i){var o,a=1,s=e.length,u=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||r.length<2)return-1;a=2,s/=2,u/=2,t/=2}function c(e,r){return 1===a?e[r]:e.readUInt16BE(r*a)}if(i){var f=-1;for(o=t;o<s;o++)if(c(e,o)===c(r,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(t+u>s&&(t=s-u),o=t;o>=0;o--){for(var l=!0,d=0;d<u;d++)if(c(e,o+d)!==c(r,d)){l=!1;break}if(l)return o}return-1}function b(e,r,t,n){t=Number(t)||0;var i=e.length-t;n?(n=Number(n))>i&&(n=i):n=i;var o=r.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(r.substr(2*a,2),16);if(isNaN(s))return a;e[t+a]=s}return a}function _(e,r,t,n){return V(N(r,e.length-t),e,t,n)}function w(e,r,t,n){return V(function(e){for(var r=[],t=0;t<e.length;++t)r.push(255&e.charCodeAt(t));return r}(r),e,t,n)}function E(e,r,t,n){return w(e,r,t,n)}function x(e,r,t,n){return V($(r),e,t,n)}function A(e,r,t,n){return V(function(e,r){for(var t,n,i,o=[],a=0;a<e.length&&!((r-=2)<0);++a)t=e.charCodeAt(a),n=t>>8,i=t%256,o.push(i),o.push(n);return o}(r,e.length-t),e,t,n)}function T(e,r,t){return 0===r&&t===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(r,t))}function P(e,r,t){t=Math.min(e.length,t);for(var n=[],i=r;i<t;){var o,a,s,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=t)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var r=e.length;if(r<=4096)return String.fromCharCode.apply(String,e);var t="",n=0;for(;n<r;)t+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return t}(n)}r.Buffer=u,r.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},r.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),r.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,r,t){return c(null,e,r,t)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,r,t){return function(e,r,t,n){return f(r),r<=0?s(e,r):void 0!==t?"string"==typeof n?s(e,r).fill(t,n):s(e,r).fill(t):s(e,r)}(null,e,r,t)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,r){if(!u.isBuffer(e)||!u.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(e===r)return 0;for(var t=e.length,n=r.length,i=0,o=Math.min(t,n);i<o;++i)if(e[i]!==r[i]){t=e[i],n=r[i];break}return t<n?-1:n<t?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,r){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var t;if(void 0===r)for(r=0,t=0;t<e.length;++t)r+=e[t].length;var n=u.allocUnsafe(r),i=0;for(t=0;t<e.length;++t){var a=e[t];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)g(this,r,r+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)g(this,r,r+3),g(this,r+1,r+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)g(this,r,r+7),g(this,r+1,r+6),g(this,r+2,r+5),g(this,r+3,r+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):h.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,r,t,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===t&&(t=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||t>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=t)return 0;if(n>=i)return-1;if(r>=t)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(t>>>=0)-(r>>>=0),s=Math.min(o,a),c=this.slice(n,i),f=e.slice(r,t),l=0;l<s;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,r,t){return-1!==this.indexOf(e,r,t)},u.prototype.indexOf=function(e,r,t){return v(this,e,r,t,!0)},u.prototype.lastIndexOf=function(e,r,t){return v(this,e,r,t,!1)},u.prototype.write=function(e,r,t,n){if(void 0===r)n="utf8",t=this.length,r=0;else if(void 0===t&&"string"==typeof r)n=r,t=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(t)?(t|=0,void 0===n&&(n="utf8")):(n=t,t=void 0)}var i=this.length-r;if((void 0===t||t>i)&&(t=i),e.length>0&&(t<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,r,t);case"utf8":case"utf-8":return _(this,e,r,t);case"ascii":return w(this,e,r,t);case"latin1":case"binary":return E(this,e,r,t);case"base64":return x(this,e,r,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,r,t);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(e,r,t){var n="";t=Math.min(e.length,t);for(var i=r;i<t;++i)n+=String.fromCharCode(127&e[i]);return n}function k(e,r,t){var n="";t=Math.min(e.length,t);for(var i=r;i<t;++i)n+=String.fromCharCode(e[i]);return n}function B(e,r,t){var n=e.length;(!r||r<0)&&(r=0),(!t||t<0||t>n)&&(t=n);for(var i="",o=r;o<t;++o)i+=O(e[o]);return i}function C(e,r,t){for(var n=e.slice(r,t),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(e,r,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+r>t)throw new RangeError("Trying to access beyond buffer length")}function D(e,r,t,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<o)throw new RangeError('"value" argument is out of bounds');if(t+n>e.length)throw new RangeError("Index out of range")}function I(e,r,t,n){r<0&&(r=65535+r+1);for(var i=0,o=Math.min(e.length-t,2);i<o;++i)e[t+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(e,r,t,n){r<0&&(r=4294967295+r+1);for(var i=0,o=Math.min(e.length-t,4);i<o;++i)e[t+i]=r>>>8*(n?i:3-i)&255}function R(e,r,t,n,i,o){if(t+n>e.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function L(e,r,t,n,o){return o||R(e,0,t,4),i.write(e,r,t,n,23,4),t+4}function U(e,r,t,n,o){return o||R(e,0,t,8),i.write(e,r,t,n,52,8),t+8}u.prototype.slice=function(e,r){var t,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):r>n&&(r=n),r<e&&(r=e),u.TYPED_ARRAY_SUPPORT)(t=this.subarray(e,r)).__proto__=u.prototype;else{var i=r-e;t=new u(i,void 0);for(var o=0;o<i;++o)t[o]=this[o+e]}return t},u.prototype.readUIntLE=function(e,r,t){e|=0,r|=0,t||M(e,r,this.length);for(var n=this[e],i=1,o=0;++o<r&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,r,t){e|=0,r|=0,t||M(e,r,this.length);for(var n=this[e+--r],i=1;r>0&&(i*=256);)n+=this[e+--r]*i;return n},u.prototype.readUInt8=function(e,r){return r||M(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,r){return r||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,r){return r||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,r){return r||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,r){return r||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,r,t){e|=0,r|=0,t||M(e,r,this.length);for(var n=this[e],i=1,o=0;++o<r&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*r)),n},u.prototype.readIntBE=function(e,r,t){e|=0,r|=0,t||M(e,r,this.length);for(var n=r,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*r)),o},u.prototype.readInt8=function(e,r){return r||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,r){r||M(e,2,this.length);var t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},u.prototype.readInt16BE=function(e,r){r||M(e,2,this.length);var t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},u.prototype.readInt32LE=function(e,r){return r||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,r){return r||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,r){return r||M(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,r){return r||M(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,r){return r||M(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,r){return r||M(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,r,t,n){(e=+e,r|=0,t|=0,n)||D(this,e,r,t,Math.pow(2,8*t)-1,0);var i=1,o=0;for(this[r]=255&e;++o<t&&(i*=256);)this[r+o]=e/i&255;return r+t},u.prototype.writeUIntBE=function(e,r,t,n){(e=+e,r|=0,t|=0,n)||D(this,e,r,t,Math.pow(2,8*t)-1,0);var i=t-1,o=1;for(this[r+i]=255&e;--i>=0&&(o*=256);)this[r+i]=e/o&255;return r+t},u.prototype.writeUInt8=function(e,r,t){return e=+e,r|=0,t||D(this,e,r,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[r]=255&e,r+1},u.prototype.writeUInt16LE=function(e,r,t){return e=+e,r|=0,t||D(this,e,r,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):I(this,e,r,!0),r+2},u.prototype.writeUInt16BE=function(e,r,t){return e=+e,r|=0,t||D(this,e,r,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):I(this,e,r,!1),r+2},u.prototype.writeUInt32LE=function(e,r,t){return e=+e,r|=0,t||D(this,e,r,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=255&e):F(this,e,r,!0),r+4},u.prototype.writeUInt32BE=function(e,r,t){return e=+e,r|=0,t||D(this,e,r,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):F(this,e,r,!1),r+4},u.prototype.writeIntLE=function(e,r,t,n){if(e=+e,r|=0,!n){var i=Math.pow(2,8*t-1);D(this,e,r,t,i-1,-i)}var o=0,a=1,s=0;for(this[r]=255&e;++o<t&&(a*=256);)e<0&&0===s&&0!==this[r+o-1]&&(s=1),this[r+o]=(e/a>>0)-s&255;return r+t},u.prototype.writeIntBE=function(e,r,t,n){if(e=+e,r|=0,!n){var i=Math.pow(2,8*t-1);D(this,e,r,t,i-1,-i)}var o=t-1,a=1,s=0;for(this[r+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[r+o+1]&&(s=1),this[r+o]=(e/a>>0)-s&255;return r+t},u.prototype.writeInt8=function(e,r,t){return e=+e,r|=0,t||D(this,e,r,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[r]=255&e,r+1},u.prototype.writeInt16LE=function(e,r,t){return e=+e,r|=0,t||D(this,e,r,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8):I(this,e,r,!0),r+2},u.prototype.writeInt16BE=function(e,r,t){return e=+e,r|=0,t||D(this,e,r,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>8,this[r+1]=255&e):I(this,e,r,!1),r+2},u.prototype.writeInt32LE=function(e,r,t){return e=+e,r|=0,t||D(this,e,r,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[r]=255&e,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24):F(this,e,r,!0),r+4},u.prototype.writeInt32BE=function(e,r,t){return e=+e,r|=0,t||D(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=255&e):F(this,e,r,!1),r+4},u.prototype.writeFloatLE=function(e,r,t){return L(this,e,r,!0,t)},u.prototype.writeFloatBE=function(e,r,t){return L(this,e,r,!1,t)},u.prototype.writeDoubleLE=function(e,r,t){return U(this,e,r,!0,t)},u.prototype.writeDoubleBE=function(e,r,t){return U(this,e,r,!1,t)},u.prototype.copy=function(e,r,t,n){if(t||(t=0),n||0===n||(n=this.length),r>=e.length&&(r=e.length),r||(r=0),n>0&&n<t&&(n=t),n===t)return 0;if(0===e.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-r<n-t&&(n=e.length-r+t);var i,o=n-t;if(this===e&&t<r&&r<n)for(i=o-1;i>=0;--i)e[i+r]=this[i+t];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+r]=this[i+t];else Uint8Array.prototype.set.call(e,this.subarray(t,t+o),r);return o},u.prototype.fill=function(e,r,t,n){if("string"==typeof e){if("string"==typeof r?(n=r,r=0,t=this.length):"string"==typeof t&&(n=t,t=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(r<0||this.length<r||this.length<t)throw new RangeError("Out of range index");if(t<=r)return this;var o;if(r>>>=0,t=void 0===t?this.length:t>>>0,e||(e=0),"number"==typeof e)for(o=r;o<t;++o)this[o]=e;else{var a=u.isBuffer(e)?e:N(new u(e,n).toString()),s=a.length;for(o=0;o<t-r;++o)this[o+r]=a[o%s]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function O(e){return e<16?"0"+e.toString(16):e.toString(16)}function N(e,r){var t;r=r||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((t=e.charCodeAt(a))>55295&&t<57344){if(!i){if(t>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(r-=3)>-1&&o.push(239,191,189),i=t;continue}t=65536+(i-55296<<10|t-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((r-=1)<0)break;o.push(t)}else if(t<2048){if((r-=2)<0)break;o.push(t>>6|192,63&t|128)}else if(t<65536){if((r-=3)<0)break;o.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return o}function $(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,r,t,n){for(var i=0;i<n&&!(i+t>=r.length||i>=e.length);++i)r[i+t]=e[i];return i}}).call(this,t(10))},function(e,r){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,r,t){"use strict";r.byteLength=function(e){var r=c(e),t=r[0],n=r[1];return 3*(t+n)/4-n},r.toByteArray=function(e){var r,t,n=c(e),a=n[0],s=n[1],u=new o(function(e,r,t){return 3*(r+t)/4-t}(0,a,s)),f=0,l=s>0?a-4:a;for(t=0;t<l;t+=4)r=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],u[f++]=r>>16&255,u[f++]=r>>8&255,u[f++]=255&r;2===s&&(r=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,u[f++]=255&r);1===s&&(r=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,u[f++]=r>>8&255,u[f++]=255&r);return u},r.fromByteArray=function(e){for(var r,t=e.length,i=t%3,o=[],a=0,s=t-i;a<s;a+=16383)o.push(f(e,a,a+16383>s?s:a+16383));1===i?(r=e[t-1],o.push(n[r>>2]+n[r<<4&63]+"==")):2===i&&(r=(e[t-2]<<8)+e[t-1],o.push(n[r>>10]+n[r>>4&63]+n[r<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");return-1===t&&(t=r),[t,t===r?0:4-t%4]}function f(e,r,t){for(var i,o,a=[],s=r;s<t;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,r){r.read=function(e,r,t,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,f=-7,l=t?i-1:0,d=t?-1:1,m=e[r+l];for(l+=d,o=m&(1<<-f)-1,m>>=-f,f+=s;f>0;o=256*o+e[r+l],l+=d,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[r+l],l+=d,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(m?-1:1);a+=Math.pow(2,n),o-=c}return(m?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,r,t,n,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:o-1,p=n?1:-1,h=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s=isNaN(r)?1:0,a=f):(a=Math.floor(Math.log(r)/Math.LN2),r*(u=Math.pow(2,-a))<1&&(a--,u*=2),(r+=a+l>=1?d/u:d*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(r*u-1)*Math.pow(2,i),a+=l):(s=r*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[t+m]=255&s,m+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[t+m]=255&a,m+=p,a/=256,c-=8);e[t+m-p]|=128*h}},function(e,r){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,r){e.exports=fs},function(e,r){e.exports=path},function(e,r){if("undefined"==typeof crypto){var t=new Error("Cannot find module 'crypto'");throw t.code="MODULE_NOT_FOUND",t}e.exports=crypto},function(e,r,t){"use strict";t.r(r);var n={};t.r(n),t.d(n,"EPSILON",(function(){return c})),t.d(n,"ARRAY_TYPE",(function(){return f})),t.d(n,"RANDOM",(function(){return l})),t.d(n,"setMatrixArrayType",(function(){return d})),t.d(n,"toRadian",(function(){return p})),t.d(n,"equals",(function(){return h}));var i={};t.r(i),t.d(i,"create",(function(){return g})),t.d(i,"clone",(function(){return v})),t.d(i,"copy",(function(){return y})),t.d(i,"fromValues",(function(){return b})),t.d(i,"set",(function(){return _})),t.d(i,"identity",(function(){return w})),t.d(i,"transpose",(function(){return E})),t.d(i,"invert",(function(){return x})),t.d(i,"adjoint",(function(){return A})),t.d(i,"determinant",(function(){return T})),t.d(i,"multiply",(function(){return P})),t.d(i,"translate",(function(){return S})),t.d(i,"scale",(function(){return k})),t.d(i,"rotate",(function(){return B})),t.d(i,"rotateX",(function(){return C})),t.d(i,"rotateY",(function(){return M})),t.d(i,"rotateZ",(function(){return D})),t.d(i,"fromTranslation",(function(){return I})),t.d(i,"fromScaling",(function(){return F})),t.d(i,"fromRotation",(function(){return R})),t.d(i,"fromXRotation",(function(){return L})),t.d(i,"fromYRotation",(function(){return U})),t.d(i,"fromZRotation",(function(){return G})),t.d(i,"fromRotationTranslation",(function(){return O})),t.d(i,"fromQuat2",(function(){return N})),t.d(i,"getTranslation",(function(){return $})),t.d(i,"getScaling",(function(){return V})),t.d(i,"getRotation",(function(){return j})),t.d(i,"fromRotationTranslationScale",(function(){return W})),t.d(i,"fromRotationTranslationScaleOrigin",(function(){return z})),t.d(i,"fromQuat",(function(){return q})),t.d(i,"frustum",(function(){return X})),t.d(i,"perspective",(function(){return Q})),t.d(i,"perspectiveFromFieldOfView",(function(){return Y})),t.d(i,"ortho",(function(){return H})),t.d(i,"lookAt",(function(){return K})),t.d(i,"targetTo",(function(){return Z})),t.d(i,"str",(function(){return J})),t.d(i,"frob",(function(){return ee})),t.d(i,"add",(function(){return re})),t.d(i,"subtract",(function(){return te})),t.d(i,"multiplyScalar",(function(){return ne})),t.d(i,"multiplyScalarAndAdd",(function(){return ie})),t.d(i,"exactEquals",(function(){return oe})),t.d(i,"equals",(function(){return ae})),t.d(i,"mul",(function(){return se})),t.d(i,"sub",(function(){return ue}));var o={};t.r(o),t.d(o,"create",(function(){return ce})),t.d(o,"clone",(function(){return fe})),t.d(o,"length",(function(){return le})),t.d(o,"fromValues",(function(){return de})),t.d(o,"copy",(function(){return me})),t.d(o,"set",(function(){return pe})),t.d(o,"add",(function(){return he})),t.d(o,"subtract",(function(){return ge})),t.d(o,"multiply",(function(){return ve})),t.d(o,"divide",(function(){return ye})),t.d(o,"ceil",(function(){return be})),t.d(o,"floor",(function(){return _e})),t.d(o,"min",(function(){return we})),t.d(o,"max",(function(){return Ee})),t.d(o,"round",(function(){return xe})),t.d(o,"scale",(function(){return Ae})),t.d(o,"scaleAndAdd",(function(){return Te})),t.d(o,"distance",(function(){return Pe})),t.d(o,"squaredDistance",(function(){return Se})),t.d(o,"squaredLength",(function(){return ke})),t.d(o,"negate",(function(){return Be})),t.d(o,"inverse",(function(){return Ce})),t.d(o,"normalize",(function(){return Me})),t.d(o,"dot",(function(){return De})),t.d(o,"cross",(function(){return Ie})),t.d(o,"lerp",(function(){return Fe})),t.d(o,"hermite",(function(){return Re})),t.d(o,"bezier",(function(){return Le})),t.d(o,"random",(function(){return Ue})),t.d(o,"transformMat4",(function(){return Ge})),t.d(o,"transformMat3",(function(){return Oe})),t.d(o,"transformQuat",(function(){return Ne})),t.d(o,"rotateX",(function(){return $e})),t.d(o,"rotateY",(function(){return Ve})),t.d(o,"rotateZ",(function(){return je})),t.d(o,"angle",(function(){return We})),t.d(o,"zero",(function(){return ze})),t.d(o,"str",(function(){return qe})),t.d(o,"exactEquals",(function(){return Xe})),t.d(o,"equals",(function(){return Qe})),t.d(o,"sub",(function(){return He})),t.d(o,"mul",(function(){return Ke})),t.d(o,"div",(function(){return Ze})),t.d(o,"dist",(function(){return Je})),t.d(o,"sqrDist",(function(){return er})),t.d(o,"len",(function(){return rr})),t.d(o,"sqrLen",(function(){return tr})),t.d(o,"forEach",(function(){return nr}));var a=t(0);const s="env/autumn_ground_ibl.ktx.bmp",u="env/autumn_ground_skybox.ktx.bmp";var c=1e-6,f="undefined"!=typeof Float32Array?Float32Array:Array,l=Math.random;function d(e){f=e}var m=Math.PI/180;function p(e){return e*m}function h(e,r){return Math.abs(e-r)<=c*Math.max(1,Math.abs(e),Math.abs(r))}function g(){var e=new f(16);return f!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function v(e){var r=new f(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function y(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}function b(e,r,t,n,i,o,a,s,u,c,l,d,m,p,h,g){var v=new f(16);return v[0]=e,v[1]=r,v[2]=t,v[3]=n,v[4]=i,v[5]=o,v[6]=a,v[7]=s,v[8]=u,v[9]=c,v[10]=l,v[11]=d,v[12]=m,v[13]=p,v[14]=h,v[15]=g,v}function _(e,r,t,n,i,o,a,s,u,c,f,l,d,m,p,h,g){return e[0]=r,e[1]=t,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e[9]=f,e[10]=l,e[11]=d,e[12]=m,e[13]=p,e[14]=h,e[15]=g,e}function w(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function E(e,r){if(e===r){var t=r[1],n=r[2],i=r[3],o=r[6],a=r[7],s=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=t,e[6]=r[9],e[7]=r[13],e[8]=n,e[9]=o,e[11]=r[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e}function x(e,r){var t=r[0],n=r[1],i=r[2],o=r[3],a=r[4],s=r[5],u=r[6],c=r[7],f=r[8],l=r[9],d=r[10],m=r[11],p=r[12],h=r[13],g=r[14],v=r[15],y=t*s-n*a,b=t*u-i*a,_=t*c-o*a,w=n*u-i*s,E=n*c-o*s,x=i*c-o*u,A=f*h-l*p,T=f*g-d*p,P=f*v-m*p,S=l*g-d*h,k=l*v-m*h,B=d*v-m*g,C=y*B-b*k+_*S+w*P-E*T+x*A;return C?(C=1/C,e[0]=(s*B-u*k+c*S)*C,e[1]=(i*k-n*B-o*S)*C,e[2]=(h*x-g*E+v*w)*C,e[3]=(d*E-l*x-m*w)*C,e[4]=(u*P-a*B-c*T)*C,e[5]=(t*B-i*P+o*T)*C,e[6]=(g*_-p*x-v*b)*C,e[7]=(f*x-d*_+m*b)*C,e[8]=(a*k-s*P+c*A)*C,e[9]=(n*P-t*k-o*A)*C,e[10]=(p*E-h*_+v*y)*C,e[11]=(l*_-f*E-m*y)*C,e[12]=(s*T-a*S-u*A)*C,e[13]=(t*S-n*T+i*A)*C,e[14]=(h*b-p*w-g*y)*C,e[15]=(f*w-l*b+d*y)*C,e):null}function A(e,r){var t=r[0],n=r[1],i=r[2],o=r[3],a=r[4],s=r[5],u=r[6],c=r[7],f=r[8],l=r[9],d=r[10],m=r[11],p=r[12],h=r[13],g=r[14],v=r[15];return e[0]=s*(d*v-m*g)-l*(u*v-c*g)+h*(u*m-c*d),e[1]=-(n*(d*v-m*g)-l*(i*v-o*g)+h*(i*m-o*d)),e[2]=n*(u*v-c*g)-s*(i*v-o*g)+h*(i*c-o*u),e[3]=-(n*(u*m-c*d)-s*(i*m-o*d)+l*(i*c-o*u)),e[4]=-(a*(d*v-m*g)-f*(u*v-c*g)+p*(u*m-c*d)),e[5]=t*(d*v-m*g)-f*(i*v-o*g)+p*(i*m-o*d),e[6]=-(t*(u*v-c*g)-a*(i*v-o*g)+p*(i*c-o*u)),e[7]=t*(u*m-c*d)-a*(i*m-o*d)+f*(i*c-o*u),e[8]=a*(l*v-m*h)-f*(s*v-c*h)+p*(s*m-c*l),e[9]=-(t*(l*v-m*h)-f*(n*v-o*h)+p*(n*m-o*l)),e[10]=t*(s*v-c*h)-a*(n*v-o*h)+p*(n*c-o*s),e[11]=-(t*(s*m-c*l)-a*(n*m-o*l)+f*(n*c-o*s)),e[12]=-(a*(l*g-d*h)-f*(s*g-u*h)+p*(s*d-u*l)),e[13]=t*(l*g-d*h)-f*(n*g-i*h)+p*(n*d-i*l),e[14]=-(t*(s*g-u*h)-a*(n*g-i*h)+p*(n*u-i*s)),e[15]=t*(s*d-u*l)-a*(n*d-i*l)+f*(n*u-i*s),e}function T(e){var r=e[0],t=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8],f=e[9],l=e[10],d=e[11],m=e[12],p=e[13],h=e[14],g=e[15];return(r*a-t*o)*(l*g-d*h)-(r*s-n*o)*(f*g-d*p)+(r*u-i*o)*(f*h-l*p)+(t*s-n*a)*(c*g-d*m)-(t*u-i*a)*(c*h-l*m)+(n*u-i*s)*(c*p-f*m)}function P(e,r,t){var n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=r[6],f=r[7],l=r[8],d=r[9],m=r[10],p=r[11],h=r[12],g=r[13],v=r[14],y=r[15],b=t[0],_=t[1],w=t[2],E=t[3];return e[0]=b*n+_*s+w*l+E*h,e[1]=b*i+_*u+w*d+E*g,e[2]=b*o+_*c+w*m+E*v,e[3]=b*a+_*f+w*p+E*y,b=t[4],_=t[5],w=t[6],E=t[7],e[4]=b*n+_*s+w*l+E*h,e[5]=b*i+_*u+w*d+E*g,e[6]=b*o+_*c+w*m+E*v,e[7]=b*a+_*f+w*p+E*y,b=t[8],_=t[9],w=t[10],E=t[11],e[8]=b*n+_*s+w*l+E*h,e[9]=b*i+_*u+w*d+E*g,e[10]=b*o+_*c+w*m+E*v,e[11]=b*a+_*f+w*p+E*y,b=t[12],_=t[13],w=t[14],E=t[15],e[12]=b*n+_*s+w*l+E*h,e[13]=b*i+_*u+w*d+E*g,e[14]=b*o+_*c+w*m+E*v,e[15]=b*a+_*f+w*p+E*y,e}function S(e,r,t){var n,i,o,a,s,u,c,f,l,d,m,p,h=t[0],g=t[1],v=t[2];return r===e?(e[12]=r[0]*h+r[4]*g+r[8]*v+r[12],e[13]=r[1]*h+r[5]*g+r[9]*v+r[13],e[14]=r[2]*h+r[6]*g+r[10]*v+r[14],e[15]=r[3]*h+r[7]*g+r[11]*v+r[15]):(n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=r[6],f=r[7],l=r[8],d=r[9],m=r[10],p=r[11],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=u,e[6]=c,e[7]=f,e[8]=l,e[9]=d,e[10]=m,e[11]=p,e[12]=n*h+s*g+l*v+r[12],e[13]=i*h+u*g+d*v+r[13],e[14]=o*h+c*g+m*v+r[14],e[15]=a*h+f*g+p*v+r[15]),e}function k(e,r,t){var n=t[0],i=t[1],o=t[2];return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=r[3]*n,e[4]=r[4]*i,e[5]=r[5]*i,e[6]=r[6]*i,e[7]=r[7]*i,e[8]=r[8]*o,e[9]=r[9]*o,e[10]=r[10]*o,e[11]=r[11]*o,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}function B(e,r,t,n){var i,o,a,s,u,f,l,d,m,p,h,g,v,y,b,_,w,E,x,A,T,P,S,k,B=n[0],C=n[1],M=n[2],D=Math.hypot(B,C,M);return D<c?null:(B*=D=1/D,C*=D,M*=D,i=Math.sin(t),a=1-(o=Math.cos(t)),s=r[0],u=r[1],f=r[2],l=r[3],d=r[4],m=r[5],p=r[6],h=r[7],g=r[8],v=r[9],y=r[10],b=r[11],_=B*B*a+o,w=C*B*a+M*i,E=M*B*a-C*i,x=B*C*a-M*i,A=C*C*a+o,T=M*C*a+B*i,P=B*M*a+C*i,S=C*M*a-B*i,k=M*M*a+o,e[0]=s*_+d*w+g*E,e[1]=u*_+m*w+v*E,e[2]=f*_+p*w+y*E,e[3]=l*_+h*w+b*E,e[4]=s*x+d*A+g*T,e[5]=u*x+m*A+v*T,e[6]=f*x+p*A+y*T,e[7]=l*x+h*A+b*T,e[8]=s*P+d*S+g*k,e[9]=u*P+m*S+v*k,e[10]=f*P+p*S+y*k,e[11]=l*P+h*S+b*k,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)}function C(e,r,t){var n=Math.sin(t),i=Math.cos(t),o=r[4],a=r[5],s=r[6],u=r[7],c=r[8],f=r[9],l=r[10],d=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=o*i+c*n,e[5]=a*i+f*n,e[6]=s*i+l*n,e[7]=u*i+d*n,e[8]=c*i-o*n,e[9]=f*i-a*n,e[10]=l*i-s*n,e[11]=d*i-u*n,e}function M(e,r,t){var n=Math.sin(t),i=Math.cos(t),o=r[0],a=r[1],s=r[2],u=r[3],c=r[8],f=r[9],l=r[10],d=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*i-c*n,e[1]=a*i-f*n,e[2]=s*i-l*n,e[3]=u*i-d*n,e[8]=o*n+c*i,e[9]=a*n+f*i,e[10]=s*n+l*i,e[11]=u*n+d*i,e}function D(e,r,t){var n=Math.sin(t),i=Math.cos(t),o=r[0],a=r[1],s=r[2],u=r[3],c=r[4],f=r[5],l=r[6],d=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=o*i+c*n,e[1]=a*i+f*n,e[2]=s*i+l*n,e[3]=u*i+d*n,e[4]=c*i-o*n,e[5]=f*i-a*n,e[6]=l*i-s*n,e[7]=d*i-u*n,e}function I(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function F(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function R(e,r,t){var n,i,o,a=t[0],s=t[1],u=t[2],f=Math.hypot(a,s,u);return f<c?null:(a*=f=1/f,s*=f,u*=f,n=Math.sin(r),o=1-(i=Math.cos(r)),e[0]=a*a*o+i,e[1]=s*a*o+u*n,e[2]=u*a*o-s*n,e[3]=0,e[4]=a*s*o-u*n,e[5]=s*s*o+i,e[6]=u*s*o+a*n,e[7]=0,e[8]=a*u*o+s*n,e[9]=s*u*o-a*n,e[10]=u*u*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function L(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function U(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function G(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=0,e[4]=-t,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function O(e,r,t){var n=r[0],i=r[1],o=r[2],a=r[3],s=n+n,u=i+i,c=o+o,f=n*s,l=n*u,d=n*c,m=i*u,p=i*c,h=o*c,g=a*s,v=a*u,y=a*c;return e[0]=1-(m+h),e[1]=l+y,e[2]=d-v,e[3]=0,e[4]=l-y,e[5]=1-(f+h),e[6]=p+g,e[7]=0,e[8]=d+v,e[9]=p-g,e[10]=1-(f+m),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function N(e,r){var t=new f(3),n=-r[0],i=-r[1],o=-r[2],a=r[3],s=r[4],u=r[5],c=r[6],l=r[7],d=n*n+i*i+o*o+a*a;return d>0?(t[0]=2*(s*a+l*n+u*o-c*i)/d,t[1]=2*(u*a+l*i+c*n-s*o)/d,t[2]=2*(c*a+l*o+s*i-u*n)/d):(t[0]=2*(s*a+l*n+u*o-c*i),t[1]=2*(u*a+l*i+c*n-s*o),t[2]=2*(c*a+l*o+s*i-u*n)),O(e,r,t),e}function $(e,r){return e[0]=r[12],e[1]=r[13],e[2]=r[14],e}function V(e,r){var t=r[0],n=r[1],i=r[2],o=r[4],a=r[5],s=r[6],u=r[8],c=r[9],f=r[10];return e[0]=Math.hypot(t,n,i),e[1]=Math.hypot(o,a,s),e[2]=Math.hypot(u,c,f),e}function j(e,r){var t=new f(3);V(t,r);var n=1/t[0],i=1/t[1],o=1/t[2],a=r[0]*n,s=r[1]*i,u=r[2]*o,c=r[4]*n,l=r[5]*i,d=r[6]*o,m=r[8]*n,p=r[9]*i,h=r[10]*o,g=a+l+h,v=0;return g>0?(v=2*Math.sqrt(g+1),e[3]=.25*v,e[0]=(d-p)/v,e[1]=(m-u)/v,e[2]=(s-c)/v):a>l&&a>h?(v=2*Math.sqrt(1+a-l-h),e[3]=(d-p)/v,e[0]=.25*v,e[1]=(s+c)/v,e[2]=(m+u)/v):l>h?(v=2*Math.sqrt(1+l-a-h),e[3]=(m-u)/v,e[0]=(s+c)/v,e[1]=.25*v,e[2]=(d+p)/v):(v=2*Math.sqrt(1+h-a-l),e[3]=(s-c)/v,e[0]=(m+u)/v,e[1]=(d+p)/v,e[2]=.25*v),e}function W(e,r,t,n){var i=r[0],o=r[1],a=r[2],s=r[3],u=i+i,c=o+o,f=a+a,l=i*u,d=i*c,m=i*f,p=o*c,h=o*f,g=a*f,v=s*u,y=s*c,b=s*f,_=n[0],w=n[1],E=n[2];return e[0]=(1-(p+g))*_,e[1]=(d+b)*_,e[2]=(m-y)*_,e[3]=0,e[4]=(d-b)*w,e[5]=(1-(l+g))*w,e[6]=(h+v)*w,e[7]=0,e[8]=(m+y)*E,e[9]=(h-v)*E,e[10]=(1-(l+p))*E,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function z(e,r,t,n,i){var o=r[0],a=r[1],s=r[2],u=r[3],c=o+o,f=a+a,l=s+s,d=o*c,m=o*f,p=o*l,h=a*f,g=a*l,v=s*l,y=u*c,b=u*f,_=u*l,w=n[0],E=n[1],x=n[2],A=i[0],T=i[1],P=i[2],S=(1-(h+v))*w,k=(m+_)*w,B=(p-b)*w,C=(m-_)*E,M=(1-(d+v))*E,D=(g+y)*E,I=(p+b)*x,F=(g-y)*x,R=(1-(d+h))*x;return e[0]=S,e[1]=k,e[2]=B,e[3]=0,e[4]=C,e[5]=M,e[6]=D,e[7]=0,e[8]=I,e[9]=F,e[10]=R,e[11]=0,e[12]=t[0]+A-(S*A+C*T+I*P),e[13]=t[1]+T-(k*A+M*T+F*P),e[14]=t[2]+P-(B*A+D*T+R*P),e[15]=1,e}function q(e,r){var t=r[0],n=r[1],i=r[2],o=r[3],a=t+t,s=n+n,u=i+i,c=t*a,f=n*a,l=n*s,d=i*a,m=i*s,p=i*u,h=o*a,g=o*s,v=o*u;return e[0]=1-l-p,e[1]=f+v,e[2]=d-g,e[3]=0,e[4]=f-v,e[5]=1-c-p,e[6]=m+h,e[7]=0,e[8]=d+g,e[9]=m-h,e[10]=1-c-l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function X(e,r,t,n,i,o,a){var s=1/(t-r),u=1/(i-n),c=1/(o-a);return e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*u,e[6]=0,e[7]=0,e[8]=(t+r)*s,e[9]=(i+n)*u,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0,e}function Q(e,r,t,n,i){var o,a=1/Math.tan(r/2);return e[0]=a/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}function Y(e,r,t,n){var i=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),a=Math.tan(r.leftDegrees*Math.PI/180),s=Math.tan(r.rightDegrees*Math.PI/180),u=2/(a+s),c=2/(i+o);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-s)*u*.5,e[9]=(i-o)*c*.5,e[10]=n/(t-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*t/(t-n),e[15]=0,e}function H(e,r,t,n,i,o,a){var s=1/(r-t),u=1/(n-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(r+t)*s,e[13]=(i+n)*u,e[14]=(a+o)*c,e[15]=1,e}function K(e,r,t,n){var i,o,a,s,u,f,l,d,m,p,h=r[0],g=r[1],v=r[2],y=n[0],b=n[1],_=n[2],E=t[0],x=t[1],A=t[2];return Math.abs(h-E)<c&&Math.abs(g-x)<c&&Math.abs(v-A)<c?w(e):(l=h-E,d=g-x,m=v-A,i=b*(m*=p=1/Math.hypot(l,d,m))-_*(d*=p),o=_*(l*=p)-y*m,a=y*d-b*l,(p=Math.hypot(i,o,a))?(i*=p=1/p,o*=p,a*=p):(i=0,o=0,a=0),s=d*a-m*o,u=m*i-l*a,f=l*o-d*i,(p=Math.hypot(s,u,f))?(s*=p=1/p,u*=p,f*=p):(s=0,u=0,f=0),e[0]=i,e[1]=s,e[2]=l,e[3]=0,e[4]=o,e[5]=u,e[6]=d,e[7]=0,e[8]=a,e[9]=f,e[10]=m,e[11]=0,e[12]=-(i*h+o*g+a*v),e[13]=-(s*h+u*g+f*v),e[14]=-(l*h+d*g+m*v),e[15]=1,e)}function Z(e,r,t,n){var i=r[0],o=r[1],a=r[2],s=n[0],u=n[1],c=n[2],f=i-t[0],l=o-t[1],d=a-t[2],m=f*f+l*l+d*d;m>0&&(f*=m=1/Math.sqrt(m),l*=m,d*=m);var p=u*d-c*l,h=c*f-s*d,g=s*l-u*f;return(m=p*p+h*h+g*g)>0&&(p*=m=1/Math.sqrt(m),h*=m,g*=m),e[0]=p,e[1]=h,e[2]=g,e[3]=0,e[4]=l*g-d*h,e[5]=d*p-f*g,e[6]=f*h-l*p,e[7]=0,e[8]=f,e[9]=l,e[10]=d,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e}function J(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function ee(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function re(e,r,t){return e[0]=r[0]+t[0],e[1]=r[1]+t[1],e[2]=r[2]+t[2],e[3]=r[3]+t[3],e[4]=r[4]+t[4],e[5]=r[5]+t[5],e[6]=r[6]+t[6],e[7]=r[7]+t[7],e[8]=r[8]+t[8],e[9]=r[9]+t[9],e[10]=r[10]+t[10],e[11]=r[11]+t[11],e[12]=r[12]+t[12],e[13]=r[13]+t[13],e[14]=r[14]+t[14],e[15]=r[15]+t[15],e}function te(e,r,t){return e[0]=r[0]-t[0],e[1]=r[1]-t[1],e[2]=r[2]-t[2],e[3]=r[3]-t[3],e[4]=r[4]-t[4],e[5]=r[5]-t[5],e[6]=r[6]-t[6],e[7]=r[7]-t[7],e[8]=r[8]-t[8],e[9]=r[9]-t[9],e[10]=r[10]-t[10],e[11]=r[11]-t[11],e[12]=r[12]-t[12],e[13]=r[13]-t[13],e[14]=r[14]-t[14],e[15]=r[15]-t[15],e}function ne(e,r,t){return e[0]=r[0]*t,e[1]=r[1]*t,e[2]=r[2]*t,e[3]=r[3]*t,e[4]=r[4]*t,e[5]=r[5]*t,e[6]=r[6]*t,e[7]=r[7]*t,e[8]=r[8]*t,e[9]=r[9]*t,e[10]=r[10]*t,e[11]=r[11]*t,e[12]=r[12]*t,e[13]=r[13]*t,e[14]=r[14]*t,e[15]=r[15]*t,e}function ie(e,r,t,n){return e[0]=r[0]+t[0]*n,e[1]=r[1]+t[1]*n,e[2]=r[2]+t[2]*n,e[3]=r[3]+t[3]*n,e[4]=r[4]+t[4]*n,e[5]=r[5]+t[5]*n,e[6]=r[6]+t[6]*n,e[7]=r[7]+t[7]*n,e[8]=r[8]+t[8]*n,e[9]=r[9]+t[9]*n,e[10]=r[10]+t[10]*n,e[11]=r[11]+t[11]*n,e[12]=r[12]+t[12]*n,e[13]=r[13]+t[13]*n,e[14]=r[14]+t[14]*n,e[15]=r[15]+t[15]*n,e}function oe(e,r){return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3]&&e[4]===r[4]&&e[5]===r[5]&&e[6]===r[6]&&e[7]===r[7]&&e[8]===r[8]&&e[9]===r[9]&&e[10]===r[10]&&e[11]===r[11]&&e[12]===r[12]&&e[13]===r[13]&&e[14]===r[14]&&e[15]===r[15]}function ae(e,r){var t=e[0],n=e[1],i=e[2],o=e[3],a=e[4],s=e[5],u=e[6],f=e[7],l=e[8],d=e[9],m=e[10],p=e[11],h=e[12],g=e[13],v=e[14],y=e[15],b=r[0],_=r[1],w=r[2],E=r[3],x=r[4],A=r[5],T=r[6],P=r[7],S=r[8],k=r[9],B=r[10],C=r[11],M=r[12],D=r[13],I=r[14],F=r[15];return Math.abs(t-b)<=c*Math.max(1,Math.abs(t),Math.abs(b))&&Math.abs(n-_)<=c*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-w)<=c*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-E)<=c*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(a-x)<=c*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(s-A)<=c*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(u-T)<=c*Math.max(1,Math.abs(u),Math.abs(T))&&Math.abs(f-P)<=c*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(l-S)<=c*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(d-k)<=c*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(m-B)<=c*Math.max(1,Math.abs(m),Math.abs(B))&&Math.abs(p-C)<=c*Math.max(1,Math.abs(p),Math.abs(C))&&Math.abs(h-M)<=c*Math.max(1,Math.abs(h),Math.abs(M))&&Math.abs(g-D)<=c*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(v-I)<=c*Math.max(1,Math.abs(v),Math.abs(I))&&Math.abs(y-F)<=c*Math.max(1,Math.abs(y),Math.abs(F))}Math.hypot||(Math.hypot=function(){for(var e=0,r=arguments.length;r--;)e+=arguments[r]*arguments[r];return Math.sqrt(e)});var se=P,ue=te;function ce(){var e=new f(3);return f!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function fe(e){var r=new f(3);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r}function le(e){var r=e[0],t=e[1],n=e[2];return Math.hypot(r,t,n)}function de(e,r,t){var n=new f(3);return n[0]=e,n[1]=r,n[2]=t,n}function me(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}function pe(e,r,t,n){return e[0]=r,e[1]=t,e[2]=n,e}function he(e,r,t){return e[0]=r[0]+t[0],e[1]=r[1]+t[1],e[2]=r[2]+t[2],e}function ge(e,r,t){return e[0]=r[0]-t[0],e[1]=r[1]-t[1],e[2]=r[2]-t[2],e}function ve(e,r,t){return e[0]=r[0]*t[0],e[1]=r[1]*t[1],e[2]=r[2]*t[2],e}function ye(e,r,t){return e[0]=r[0]/t[0],e[1]=r[1]/t[1],e[2]=r[2]/t[2],e}function be(e,r){return e[0]=Math.ceil(r[0]),e[1]=Math.ceil(r[1]),e[2]=Math.ceil(r[2]),e}function _e(e,r){return e[0]=Math.floor(r[0]),e[1]=Math.floor(r[1]),e[2]=Math.floor(r[2]),e}function we(e,r,t){return e[0]=Math.min(r[0],t[0]),e[1]=Math.min(r[1],t[1]),e[2]=Math.min(r[2],t[2]),e}function Ee(e,r,t){return e[0]=Math.max(r[0],t[0]),e[1]=Math.max(r[1],t[1]),e[2]=Math.max(r[2],t[2]),e}function xe(e,r){return e[0]=Math.round(r[0]),e[1]=Math.round(r[1]),e[2]=Math.round(r[2]),e}function Ae(e,r,t){return e[0]=r[0]*t,e[1]=r[1]*t,e[2]=r[2]*t,e}function Te(e,r,t,n){return e[0]=r[0]+t[0]*n,e[1]=r[1]+t[1]*n,e[2]=r[2]+t[2]*n,e}function Pe(e,r){var t=r[0]-e[0],n=r[1]-e[1],i=r[2]-e[2];return Math.hypot(t,n,i)}function Se(e,r){var t=r[0]-e[0],n=r[1]-e[1],i=r[2]-e[2];return t*t+n*n+i*i}function ke(e){var r=e[0],t=e[1],n=e[2];return r*r+t*t+n*n}function Be(e,r){return e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e}function Ce(e,r){return e[0]=1/r[0],e[1]=1/r[1],e[2]=1/r[2],e}function Me(e,r){var t=r[0],n=r[1],i=r[2],o=t*t+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=r[0]*o,e[1]=r[1]*o,e[2]=r[2]*o,e}function De(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]}function Ie(e,r,t){var n=r[0],i=r[1],o=r[2],a=t[0],s=t[1],u=t[2];return e[0]=i*u-o*s,e[1]=o*a-n*u,e[2]=n*s-i*a,e}function Fe(e,r,t,n){var i=r[0],o=r[1],a=r[2];return e[0]=i+n*(t[0]-i),e[1]=o+n*(t[1]-o),e[2]=a+n*(t[2]-a),e}function Re(e,r,t,n,i,o){var a=o*o,s=a*(2*o-3)+1,u=a*(o-2)+o,c=a*(o-1),f=a*(3-2*o);return e[0]=r[0]*s+t[0]*u+n[0]*c+i[0]*f,e[1]=r[1]*s+t[1]*u+n[1]*c+i[1]*f,e[2]=r[2]*s+t[2]*u+n[2]*c+i[2]*f,e}function Le(e,r,t,n,i,o){var a=1-o,s=a*a,u=o*o,c=s*a,f=3*o*s,l=3*u*a,d=u*o;return e[0]=r[0]*c+t[0]*f+n[0]*l+i[0]*d,e[1]=r[1]*c+t[1]*f+n[1]*l+i[1]*d,e[2]=r[2]*c+t[2]*f+n[2]*l+i[2]*d,e}function Ue(e,r){r=r||1;var t=2*l()*Math.PI,n=2*l()-1,i=Math.sqrt(1-n*n)*r;return e[0]=Math.cos(t)*i,e[1]=Math.sin(t)*i,e[2]=n*r,e}function Ge(e,r,t){var n=r[0],i=r[1],o=r[2],a=t[3]*n+t[7]*i+t[11]*o+t[15];return a=a||1,e[0]=(t[0]*n+t[4]*i+t[8]*o+t[12])/a,e[1]=(t[1]*n+t[5]*i+t[9]*o+t[13])/a,e[2]=(t[2]*n+t[6]*i+t[10]*o+t[14])/a,e}function Oe(e,r,t){var n=r[0],i=r[1],o=r[2];return e[0]=n*t[0]+i*t[3]+o*t[6],e[1]=n*t[1]+i*t[4]+o*t[7],e[2]=n*t[2]+i*t[5]+o*t[8],e}function Ne(e,r,t){var n=t[0],i=t[1],o=t[2],a=t[3],s=r[0],u=r[1],c=r[2],f=i*c-o*u,l=o*s-n*c,d=n*u-i*s,m=i*d-o*l,p=o*f-n*d,h=n*l-i*f,g=2*a;return f*=g,l*=g,d*=g,m*=2,p*=2,h*=2,e[0]=s+f+m,e[1]=u+l+p,e[2]=c+d+h,e}function $e(e,r,t,n){var i=[],o=[];return i[0]=r[0]-t[0],i[1]=r[1]-t[1],i[2]=r[2]-t[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+t[0],e[1]=o[1]+t[1],e[2]=o[2]+t[2],e}function Ve(e,r,t,n){var i=[],o=[];return i[0]=r[0]-t[0],i[1]=r[1]-t[1],i[2]=r[2]-t[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+t[0],e[1]=o[1]+t[1],e[2]=o[2]+t[2],e}function je(e,r,t,n){var i=[],o=[];return i[0]=r[0]-t[0],i[1]=r[1]-t[1],i[2]=r[2]-t[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+t[0],e[1]=o[1]+t[1],e[2]=o[2]+t[2],e}function We(e,r){var t=e[0],n=e[1],i=e[2],o=r[0],a=r[1],s=r[2],u=Math.sqrt(t*t+n*n+i*i)*Math.sqrt(o*o+a*a+s*s),c=u&&De(e,r)/u;return Math.acos(Math.min(Math.max(c,-1),1))}function ze(e){return e[0]=0,e[1]=0,e[2]=0,e}function qe(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Xe(e,r){return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]}function Qe(e,r){var t=e[0],n=e[1],i=e[2],o=r[0],a=r[1],s=r[2];return Math.abs(t-o)<=c*Math.max(1,Math.abs(t),Math.abs(o))&&Math.abs(n-a)<=c*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-s)<=c*Math.max(1,Math.abs(i),Math.abs(s))}var Ye,He=ge,Ke=ve,Ze=ye,Je=Pe,er=Se,rr=le,tr=ke,nr=(Ye=ce(),function(e,r,t,n,i,o){var a,s;for(r||(r=3),t||(t=0),s=n?Math.min(n*r+t,e.length):e.length,a=t;a<s;a+=r)Ye[0]=e[a],Ye[1]=e[a+1],Ye[2]=e[a+2],i(Ye,Ye,o),e[a]=Ye[0],e[a+1]=Ye[1],e[a+2]=Ye[2];return e});class ir{constructor(e,r){this.positions=e,this.texcoords=r}updatePositions(e){const r=-15*e,t=e*Math.PI/2;this.deform(t,r)}deform(e,r){const t=this.positions.length/3;for(let n=0;n<t;n++){const t=this.texcoords[2*n+0],i=this.texcoords[2*n+1],o=Math.sqrt(t*t+(i-r)*(i-r)),a=o*Math.sin(e),s=Math.asin(t/o)/Math.sin(e),u=a*Math.sin(s),c=o+r-a*(1-Math.cos(s))*Math.sin(e),f=a*(1-Math.cos(s))*Math.cos(e);this.positions[3*n+0]=u,this.positions[3*n+1]=c-.5,this.positions[3*n+2]=f}}}class or{constructor(e,r){this.numColumns=e,this.numRows=r,this.numCells=this.numColumns*this.numRows,this.numIndices=6*this.numCells,this.numVertices=(this.numColumns+1)*(this.numRows+1),this.faceNormals=new Float32Array(2*this.numCells*3),this.smoothNormals=new Float32Array(3*this.numVertices),this.valences=new Uint8Array(this.numVertices),this.tangents=new Int16Array(4*this.numVertices),this.indices=new Uint16Array(this.numIndices),this.positions=new Float32Array(3*this.numVertices),this.texcoords=new Float32Array(2*this.numVertices),console.info(`Created page mesh with ${this.numVertices} verts.`)}get renderable(){return this.entity}update(e){this.generateFaceNormals(),this.generateSmoothNormals(),this.generateTangents(),this.vertexBuffer.setBufferAt(e,0,this.positions),this.vertexBuffer.setBufferAt(e,2,this.tangents)}init(e,r){const t=a.VertexAttribute,n=a.VertexBuffer$AttributeType,i=a.RenderableManager$PrimitiveType;this.vertexBuffer=a.VertexBuffer.Builder().bufferCount(3).vertexCount(this.numVertices).attribute(t.POSITION,0,n.FLOAT3,0,0).attribute(t.UV0,1,n.FLOAT2,0,0).attribute(t.TANGENTS,2,n.SHORT4,0,0).normalized(t.TANGENTS).build(e),this.indexBuffer=a.IndexBuffer.Builder().indexCount(this.numIndices).bufferType(a.IndexBuffer$IndexType.USHORT).build(e);let o=0;const s=(e,r,t)=>{this.indices.set([e,r,t],3*o),o++},u=this.numColumns,c=this.numRows,f=u+1;for(let e=0;e<c;e++)for(let r=0;r<u;r++){const t=r+0+(e+0)*f,n=r+0+(e+1)*f,i=r+1+(e+1)*f;s(t,r+1+(e+0)*f,i),s(i,n,t)}this.indexBuffer.setBuffer(e,this.indices);let l=0;const d=(e,r,t,n,i)=>{this.positions.set([e,r,t],3*l),this.texcoords.set([n,i],2*l),l++};for(let e=0;e<=c;e++)for(let r=0;r<=u;r++){const t=r/u,n=e/c;d(t,-.5+n,0,t,n)}this.vertexBuffer.setBufferAt(e,1,this.texcoords),this.update(e),this.entity=a.EntityManager.get().create();const m=r.createInstance();m.setFloat4Parameter("baseColor",[1,1,1,1]),a.RenderableManager.Builder(1).boundingBox({center:[.5,0,0],halfExtent:[.5,.5,.5]}).material(0,m).geometry(0,i.TRIANGLES,this.vertexBuffer,this.indexBuffer).build(e,this.entity),e.getTransformManager().create(this.entity)}generateFaceNormals(){const e=this.positions,r=this.faceNormals;let t=0;const n=o.create(),i=o.create(),a=o.create(),s=o.create(),u=o.create(),c=o.create(),f=(f,l,d)=>{o.set(s,e[f],e[f+1],e[f+2]),o.set(u,e[l],e[l+1],e[l+2]),o.set(c,e[d],e[d+1],e[d+2]),o.sub(n,s,u),o.sub(i,s,c),o.cross(a,n,i),o.normalize(a,a),r.set(a,3*t),t++},l=this.numColumns,d=this.numRows,m=l+1;for(let e=0;e<d;e++)for(let r=0;r<l;r++){const t=r+0+(e+0)*m,n=r+0+(e+1)*m,i=r+1+(e+1)*m;f(3*t,3*(r+1+(e+0)*m),3*i),f(3*i,3*n,3*t)}}generateSmoothNormals(){const e=this.faceNormals,r=this.smoothNormals,t=this.valences;t.fill(0),r.fill(0);const n=(t,n,i,o)=>{r[t]+=e[o],r[t+1]+=e[o+1],r[t+2]+=e[o+2],r[n]+=e[o],r[n+1]+=e[o+1],r[n+2]+=e[o+2],r[i]+=e[o],r[i+1]+=e[o+1],r[i+2]+=e[o+2],this.valences[t/3]++,this.valences[n/3]++,this.valences[i/3]++};let i=0;const o=this.numColumns,a=this.numRows,s=o+1;for(let e=0;e<a;e++)for(let r=0;r<o;r++){const t=r+0+(e+0)*s,o=r+0+(e+1)*s,a=r+1+(e+1)*s;n(3*t,3*(r+1+(e+0)*s),3*a,3*i++),n(3*a,3*o,3*t,3*i++)}for(let e=0;e<this.numVertices;e++)r[3*e+0]/=t[e],r[3*e+1]/=t[e],r[3*e+2]/=t[e]}generateTangents(){const e=this.numVertices,r=a._malloc(this.smoothNormals.length*this.smoothNormals.BYTES_PER_ELEMENT);a.HEAPU8.set(new Uint8Array(this.smoothNormals.buffer),r);const t=new a.SurfaceOrientation$Builder;t.vertexCount(e),t.normals(r,0);const n=t.build();a._free(r);const i=8*e,o=a._malloc(i);n.getQuats(o,e,a.VertexBuffer$AttributeType.SHORT4);const s=a.HEAPU8.subarray(o,o+i).slice().buffer;this.tangents.set(new Int16Array(s)),a._free(o),n.delete()}}class ar{constructor(e){this.canvas=e,this.pageMesh=new or(20,20),this.pageDeformer=new ir(this.pageMesh.positions,this.pageMesh.texcoords),this.engine=a.Engine.create(e),this.swapChain=this.engine.createSwapChain(),this.renderer=this.engine.createRenderer(),this.camera=this.engine.createCamera(),this.scene=this.engine.createScene(),this.view=this.engine.createView(),this.view.setCamera(this.camera),this.view.setScene(this.scene);this.camera.lookAt([0,0,3],[0,0,0],[0,1,0]),this.skybox=this.engine.createSkyFromKtx(u),this.scene.setSkybox(this.skybox),this.indirectLight=this.engine.createIblFromKtx(s),this.indirectLight.setIntensity(1e4),this.scene.setIndirectLight(this.indirectLight),this.pbrMaterial=this.engine.createMaterial("materials/pbr.filamat"),this.nonlitMaterial=this.engine.createMaterial("materials/nonlit.filamat"),this.pageMesh.init(this.engine,this.pbrMaterial),this.scene.addEntity(this.pageMesh.renderable);const r=a.EntityManager.get().create();a.LightManager.Builder(a.LightManager$Type.SUN).color([.98,.92,.89]).castShadows(!0).intensity(1100).direction([.5,-1,0]).build(this.engine,r),this.scene.addEntity(r),this.resize=this.resize.bind(this),window.addEventListener("resize",this.resize),this.resize()}render(e){const r=Math.PI*Math.max(0,(e-.125)/.875),t=i.fromRotation(i.create(),r,[0,-1,0]),n=this.engine.getTransformManager(),o=n.getInstance(this.pageMesh.renderable);n.setTransform(o,t),o.delete();let a=0;if(a=.15+.85*(1+Math.cos(8*Math.PI*e))/2,e>.125&&(a=.15),e>.5){const r=(e-.5)/.5;a=.15+.85*Math.pow(r,4)}this.pageDeformer.updatePositions(a),this.pageMesh.update(this.engine),this.renderer.render(this.swapChain,this.view)}resize(){const e=window.devicePixelRatio,r=this.canvas.width=this.canvas.clientWidth*e,t=this.canvas.height=this.canvas.clientHeight*e;this.view.setViewport([0,0,r,t]);const n=r/t,i=a.Camera$Fov,o=n<1?i.HORIZONTAL:i.VERTICAL;this.camera.setProjectionFov(40,n,1,2e4,o)}}const sr=[u,s,"materials/pbr.filamat","materials/nonlit.filamat"];a.init(sr,()=>{n.setMatrixArrayType(Array),window.app=new ur});class ur{constructor(){this.tick=this.tick.bind(this);const e=document.getElementsByTagName("canvas")[0];this.display=new ar(e),this.time=Date.now(),this.slider=document.getElementById("animvalue"),this.slider.addEventListener("input",()=>{console.info(this.slider.value)}),window.requestAnimationFrame(this.tick)}tick(){const e=Date.now();this.time;this.time=e,this.display.render(parseFloat(this.slider.value)),window.requestAnimationFrame(this.tick)}}}]);
//# sourceMappingURL=main.js.map