!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=4)}([function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"EPSILON",(function(){return h})),r.d(n,"ARRAY_TYPE",(function(){return m})),r.d(n,"RANDOM",(function(){return p})),r.d(n,"setMatrixArrayType",(function(){return g})),r.d(n,"toRadian",(function(){return y})),r.d(n,"equals",(function(){return b}));var i={};r.r(i),r.d(i,"create",(function(){return _})),r.d(i,"clone",(function(){return w})),r.d(i,"copy",(function(){return E})),r.d(i,"identity",(function(){return x})),r.d(i,"fromValues",(function(){return M})),r.d(i,"set",(function(){return A})),r.d(i,"transpose",(function(){return P})),r.d(i,"invert",(function(){return T})),r.d(i,"adjoint",(function(){return S})),r.d(i,"determinant",(function(){return k})),r.d(i,"multiply",(function(){return C})),r.d(i,"rotate",(function(){return B})),r.d(i,"scale",(function(){return D})),r.d(i,"fromRotation",(function(){return F})),r.d(i,"fromScaling",(function(){return I})),r.d(i,"str",(function(){return R})),r.d(i,"frob",(function(){return L})),r.d(i,"LDU",(function(){return U})),r.d(i,"add",(function(){return G})),r.d(i,"subtract",(function(){return O})),r.d(i,"exactEquals",(function(){return V})),r.d(i,"equals",(function(){return j})),r.d(i,"multiplyScalar",(function(){return N})),r.d(i,"multiplyScalarAndAdd",(function(){return $})),r.d(i,"mul",(function(){return W})),r.d(i,"sub",(function(){return q}));var o={};r.r(o),r.d(o,"create",(function(){return z})),r.d(o,"clone",(function(){return Q})),r.d(o,"copy",(function(){return X})),r.d(o,"identity",(function(){return Y})),r.d(o,"fromValues",(function(){return H})),r.d(o,"set",(function(){return K})),r.d(o,"invert",(function(){return Z})),r.d(o,"determinant",(function(){return J})),r.d(o,"multiply",(function(){return ee})),r.d(o,"rotate",(function(){return te})),r.d(o,"scale",(function(){return re})),r.d(o,"translate",(function(){return ne})),r.d(o,"fromRotation",(function(){return ie})),r.d(o,"fromScaling",(function(){return oe})),r.d(o,"fromTranslation",(function(){return ae})),r.d(o,"str",(function(){return ue})),r.d(o,"frob",(function(){return se})),r.d(o,"add",(function(){return ce})),r.d(o,"subtract",(function(){return fe})),r.d(o,"multiplyScalar",(function(){return le})),r.d(o,"multiplyScalarAndAdd",(function(){return de})),r.d(o,"exactEquals",(function(){return he})),r.d(o,"equals",(function(){return me})),r.d(o,"mul",(function(){return pe})),r.d(o,"sub",(function(){return ge}));var a={};r.r(a),r.d(a,"create",(function(){return ve})),r.d(a,"fromMat4",(function(){return ye})),r.d(a,"clone",(function(){return be})),r.d(a,"copy",(function(){return _e})),r.d(a,"fromValues",(function(){return we})),r.d(a,"set",(function(){return Ee})),r.d(a,"identity",(function(){return xe})),r.d(a,"transpose",(function(){return Me})),r.d(a,"invert",(function(){return Ae})),r.d(a,"adjoint",(function(){return Pe})),r.d(a,"determinant",(function(){return Te})),r.d(a,"multiply",(function(){return Se})),r.d(a,"translate",(function(){return ke})),r.d(a,"rotate",(function(){return Ce})),r.d(a,"scale",(function(){return Be})),r.d(a,"fromTranslation",(function(){return De})),r.d(a,"fromRotation",(function(){return Fe})),r.d(a,"fromScaling",(function(){return Ie})),r.d(a,"fromMat2d",(function(){return Re})),r.d(a,"fromQuat",(function(){return Le})),r.d(a,"normalFromMat4",(function(){return Ue})),r.d(a,"projection",(function(){return Ge})),r.d(a,"str",(function(){return Oe})),r.d(a,"frob",(function(){return Ve})),r.d(a,"add",(function(){return je})),r.d(a,"subtract",(function(){return Ne})),r.d(a,"multiplyScalar",(function(){return $e})),r.d(a,"multiplyScalarAndAdd",(function(){return We})),r.d(a,"exactEquals",(function(){return qe})),r.d(a,"equals",(function(){return ze})),r.d(a,"mul",(function(){return Qe})),r.d(a,"sub",(function(){return Xe}));var u={};r.r(u),r.d(u,"create",(function(){return Ye})),r.d(u,"clone",(function(){return He})),r.d(u,"copy",(function(){return Ke})),r.d(u,"fromValues",(function(){return Ze})),r.d(u,"set",(function(){return Je})),r.d(u,"identity",(function(){return et})),r.d(u,"transpose",(function(){return tt})),r.d(u,"invert",(function(){return rt})),r.d(u,"adjoint",(function(){return nt})),r.d(u,"determinant",(function(){return it})),r.d(u,"multiply",(function(){return ot})),r.d(u,"translate",(function(){return at})),r.d(u,"scale",(function(){return ut})),r.d(u,"rotate",(function(){return st})),r.d(u,"rotateX",(function(){return ct})),r.d(u,"rotateY",(function(){return ft})),r.d(u,"rotateZ",(function(){return lt})),r.d(u,"fromTranslation",(function(){return dt})),r.d(u,"fromScaling",(function(){return ht})),r.d(u,"fromRotation",(function(){return mt})),r.d(u,"fromXRotation",(function(){return pt})),r.d(u,"fromYRotation",(function(){return gt})),r.d(u,"fromZRotation",(function(){return vt})),r.d(u,"fromRotationTranslation",(function(){return yt})),r.d(u,"fromQuat2",(function(){return bt})),r.d(u,"getTranslation",(function(){return _t})),r.d(u,"getScaling",(function(){return wt})),r.d(u,"getRotation",(function(){return Et})),r.d(u,"fromRotationTranslationScale",(function(){return xt})),r.d(u,"fromRotationTranslationScaleOrigin",(function(){return Mt})),r.d(u,"fromQuat",(function(){return At})),r.d(u,"frustum",(function(){return Pt})),r.d(u,"perspective",(function(){return Tt})),r.d(u,"perspectiveFromFieldOfView",(function(){return St})),r.d(u,"ortho",(function(){return kt})),r.d(u,"lookAt",(function(){return Ct})),r.d(u,"targetTo",(function(){return Bt})),r.d(u,"str",(function(){return Dt})),r.d(u,"frob",(function(){return Ft})),r.d(u,"add",(function(){return It})),r.d(u,"subtract",(function(){return Rt})),r.d(u,"multiplyScalar",(function(){return Lt})),r.d(u,"multiplyScalarAndAdd",(function(){return Ut})),r.d(u,"exactEquals",(function(){return Gt})),r.d(u,"equals",(function(){return Ot})),r.d(u,"mul",(function(){return Vt})),r.d(u,"sub",(function(){return jt}));var s={};r.r(s),r.d(s,"create",(function(){return Nt})),r.d(s,"clone",(function(){return $t})),r.d(s,"length",(function(){return Wt})),r.d(s,"fromValues",(function(){return qt})),r.d(s,"copy",(function(){return zt})),r.d(s,"set",(function(){return Qt})),r.d(s,"add",(function(){return Xt})),r.d(s,"subtract",(function(){return Yt})),r.d(s,"multiply",(function(){return Ht})),r.d(s,"divide",(function(){return Kt})),r.d(s,"ceil",(function(){return Zt})),r.d(s,"floor",(function(){return Jt})),r.d(s,"min",(function(){return er})),r.d(s,"max",(function(){return tr})),r.d(s,"round",(function(){return rr})),r.d(s,"scale",(function(){return nr})),r.d(s,"scaleAndAdd",(function(){return ir})),r.d(s,"distance",(function(){return or})),r.d(s,"squaredDistance",(function(){return ar})),r.d(s,"squaredLength",(function(){return ur})),r.d(s,"negate",(function(){return sr})),r.d(s,"inverse",(function(){return cr})),r.d(s,"normalize",(function(){return fr})),r.d(s,"dot",(function(){return lr})),r.d(s,"cross",(function(){return dr})),r.d(s,"lerp",(function(){return hr})),r.d(s,"hermite",(function(){return mr})),r.d(s,"bezier",(function(){return pr})),r.d(s,"random",(function(){return gr})),r.d(s,"transformMat4",(function(){return vr})),r.d(s,"transformMat3",(function(){return yr})),r.d(s,"transformQuat",(function(){return br})),r.d(s,"rotateX",(function(){return _r})),r.d(s,"rotateY",(function(){return wr})),r.d(s,"rotateZ",(function(){return Er})),r.d(s,"angle",(function(){return xr})),r.d(s,"zero",(function(){return Mr})),r.d(s,"str",(function(){return Ar})),r.d(s,"exactEquals",(function(){return Pr})),r.d(s,"equals",(function(){return Tr})),r.d(s,"sub",(function(){return kr})),r.d(s,"mul",(function(){return Cr})),r.d(s,"div",(function(){return Br})),r.d(s,"dist",(function(){return Dr})),r.d(s,"sqrDist",(function(){return Fr})),r.d(s,"len",(function(){return Ir})),r.d(s,"sqrLen",(function(){return Rr})),r.d(s,"forEach",(function(){return Lr}));var c={};r.r(c),r.d(c,"create",(function(){return Ur})),r.d(c,"clone",(function(){return Gr})),r.d(c,"fromValues",(function(){return Or})),r.d(c,"copy",(function(){return Vr})),r.d(c,"set",(function(){return jr})),r.d(c,"add",(function(){return Nr})),r.d(c,"subtract",(function(){return $r})),r.d(c,"multiply",(function(){return Wr})),r.d(c,"divide",(function(){return qr})),r.d(c,"ceil",(function(){return zr})),r.d(c,"floor",(function(){return Qr})),r.d(c,"min",(function(){return Xr})),r.d(c,"max",(function(){return Yr})),r.d(c,"round",(function(){return Hr})),r.d(c,"scale",(function(){return Kr})),r.d(c,"scaleAndAdd",(function(){return Zr})),r.d(c,"distance",(function(){return Jr})),r.d(c,"squaredDistance",(function(){return en})),r.d(c,"length",(function(){return tn})),r.d(c,"squaredLength",(function(){return rn})),r.d(c,"negate",(function(){return nn})),r.d(c,"inverse",(function(){return on})),r.d(c,"normalize",(function(){return an})),r.d(c,"dot",(function(){return un})),r.d(c,"cross",(function(){return sn})),r.d(c,"lerp",(function(){return cn})),r.d(c,"random",(function(){return fn})),r.d(c,"transformMat4",(function(){return ln})),r.d(c,"transformQuat",(function(){return dn})),r.d(c,"zero",(function(){return hn})),r.d(c,"str",(function(){return mn})),r.d(c,"exactEquals",(function(){return pn})),r.d(c,"equals",(function(){return gn})),r.d(c,"sub",(function(){return vn})),r.d(c,"mul",(function(){return yn})),r.d(c,"div",(function(){return bn})),r.d(c,"dist",(function(){return _n})),r.d(c,"sqrDist",(function(){return wn})),r.d(c,"len",(function(){return En})),r.d(c,"sqrLen",(function(){return xn})),r.d(c,"forEach",(function(){return Mn}));var f={};r.r(f),r.d(f,"create",(function(){return An})),r.d(f,"identity",(function(){return Pn})),r.d(f,"setAxisAngle",(function(){return Tn})),r.d(f,"getAxisAngle",(function(){return Sn})),r.d(f,"getAngle",(function(){return kn})),r.d(f,"multiply",(function(){return Cn})),r.d(f,"rotateX",(function(){return Bn})),r.d(f,"rotateY",(function(){return Dn})),r.d(f,"rotateZ",(function(){return Fn})),r.d(f,"calculateW",(function(){return In})),r.d(f,"exp",(function(){return Rn})),r.d(f,"ln",(function(){return Ln})),r.d(f,"pow",(function(){return Un})),r.d(f,"slerp",(function(){return Gn})),r.d(f,"random",(function(){return On})),r.d(f,"invert",(function(){return Vn})),r.d(f,"conjugate",(function(){return jn})),r.d(f,"fromMat3",(function(){return Nn})),r.d(f,"fromEuler",(function(){return $n})),r.d(f,"str",(function(){return Wn})),r.d(f,"clone",(function(){return Kn})),r.d(f,"fromValues",(function(){return Zn})),r.d(f,"copy",(function(){return Jn})),r.d(f,"set",(function(){return ei})),r.d(f,"add",(function(){return ti})),r.d(f,"mul",(function(){return ri})),r.d(f,"scale",(function(){return ni})),r.d(f,"dot",(function(){return ii})),r.d(f,"lerp",(function(){return oi})),r.d(f,"length",(function(){return ai})),r.d(f,"len",(function(){return ui})),r.d(f,"squaredLength",(function(){return si})),r.d(f,"sqrLen",(function(){return ci})),r.d(f,"normalize",(function(){return fi})),r.d(f,"exactEquals",(function(){return li})),r.d(f,"equals",(function(){return di})),r.d(f,"rotationTo",(function(){return hi})),r.d(f,"sqlerp",(function(){return mi})),r.d(f,"setAxes",(function(){return pi}));var l={};r.r(l),r.d(l,"create",(function(){return gi})),r.d(l,"clone",(function(){return vi})),r.d(l,"fromValues",(function(){return yi})),r.d(l,"fromRotationTranslationValues",(function(){return bi})),r.d(l,"fromRotationTranslation",(function(){return _i})),r.d(l,"fromTranslation",(function(){return wi})),r.d(l,"fromRotation",(function(){return Ei})),r.d(l,"fromMat4",(function(){return xi})),r.d(l,"copy",(function(){return Mi})),r.d(l,"identity",(function(){return Ai})),r.d(l,"set",(function(){return Pi})),r.d(l,"getReal",(function(){return Ti})),r.d(l,"getDual",(function(){return Si})),r.d(l,"setReal",(function(){return ki})),r.d(l,"setDual",(function(){return Ci})),r.d(l,"getTranslation",(function(){return Bi})),r.d(l,"translate",(function(){return Di})),r.d(l,"rotateX",(function(){return Fi})),r.d(l,"rotateY",(function(){return Ii})),r.d(l,"rotateZ",(function(){return Ri})),r.d(l,"rotateByQuatAppend",(function(){return Li})),r.d(l,"rotateByQuatPrepend",(function(){return Ui})),r.d(l,"rotateAroundAxis",(function(){return Gi})),r.d(l,"add",(function(){return Oi})),r.d(l,"multiply",(function(){return Vi})),r.d(l,"mul",(function(){return ji})),r.d(l,"scale",(function(){return Ni})),r.d(l,"dot",(function(){return $i})),r.d(l,"lerp",(function(){return Wi})),r.d(l,"invert",(function(){return qi})),r.d(l,"conjugate",(function(){return zi})),r.d(l,"length",(function(){return Qi})),r.d(l,"len",(function(){return Xi})),r.d(l,"squaredLength",(function(){return Yi})),r.d(l,"sqrLen",(function(){return Hi})),r.d(l,"normalize",(function(){return Ki})),r.d(l,"str",(function(){return Zi})),r.d(l,"exactEquals",(function(){return Ji})),r.d(l,"equals",(function(){return eo}));var d={};r.r(d),r.d(d,"create",(function(){return to})),r.d(d,"clone",(function(){return ro})),r.d(d,"fromValues",(function(){return no})),r.d(d,"copy",(function(){return io})),r.d(d,"set",(function(){return oo})),r.d(d,"add",(function(){return ao})),r.d(d,"subtract",(function(){return uo})),r.d(d,"multiply",(function(){return so})),r.d(d,"divide",(function(){return co})),r.d(d,"ceil",(function(){return fo})),r.d(d,"floor",(function(){return lo})),r.d(d,"min",(function(){return ho})),r.d(d,"max",(function(){return mo})),r.d(d,"round",(function(){return po})),r.d(d,"scale",(function(){return go})),r.d(d,"scaleAndAdd",(function(){return vo})),r.d(d,"distance",(function(){return yo})),r.d(d,"squaredDistance",(function(){return bo})),r.d(d,"length",(function(){return _o})),r.d(d,"squaredLength",(function(){return wo})),r.d(d,"negate",(function(){return Eo})),r.d(d,"inverse",(function(){return xo})),r.d(d,"normalize",(function(){return Mo})),r.d(d,"dot",(function(){return Ao})),r.d(d,"cross",(function(){return Po})),r.d(d,"lerp",(function(){return To})),r.d(d,"random",(function(){return So})),r.d(d,"transformMat2",(function(){return ko})),r.d(d,"transformMat2d",(function(){return Co})),r.d(d,"transformMat3",(function(){return Bo})),r.d(d,"transformMat4",(function(){return Do})),r.d(d,"rotate",(function(){return Fo})),r.d(d,"angle",(function(){return Io})),r.d(d,"zero",(function(){return Ro})),r.d(d,"str",(function(){return Lo})),r.d(d,"exactEquals",(function(){return Uo})),r.d(d,"equals",(function(){return Go})),r.d(d,"len",(function(){return Oo})),r.d(d,"sub",(function(){return Vo})),r.d(d,"mul",(function(){return jo})),r.d(d,"div",(function(){return No})),r.d(d,"dist",(function(){return $o})),r.d(d,"sqrDist",(function(){return Wo})),r.d(d,"sqrLen",(function(){return qo})),r.d(d,"forEach",(function(){return zo}));var h=1e-6,m="undefined"!=typeof Float32Array?Float32Array:Array,p=Math.random;function g(e){m=e}var v=Math.PI/180;function y(e){return e*v}function b(e,t){return Math.abs(e-t)<=h*Math.max(1,Math.abs(e),Math.abs(t))}function _(){var e=new m(4);return m!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}function w(e){var t=new m(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function E(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function x(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}function M(e,t,r,n){var i=new m(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function A(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function P(e,t){if(e===t){var r=t[1];e[1]=t[2],e[2]=r}else e[0]=t[0],e[1]=t[2],e[2]=t[1],e[3]=t[3];return e}function T(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*o-i*n;return a?(a=1/a,e[0]=o*a,e[1]=-n*a,e[2]=-i*a,e[3]=r*a,e):null}function S(e,t){var r=t[0];return e[0]=t[3],e[1]=-t[1],e[2]=-t[2],e[3]=r,e}function k(e){return e[0]*e[3]-e[2]*e[1]}function C(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=r[0],s=r[1],c=r[2],f=r[3];return e[0]=n*u+o*s,e[1]=i*u+a*s,e[2]=n*c+o*f,e[3]=i*c+a*f,e}function B(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(r),s=Math.cos(r);return e[0]=n*s+o*u,e[1]=i*s+a*u,e[2]=n*-u+o*s,e[3]=i*-u+a*s,e}function D(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=r[0],s=r[1];return e[0]=n*u,e[1]=i*u,e[2]=o*s,e[3]=a*s,e}function F(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e}function I(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e}function R(e){return"mat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function L(e){return Math.hypot(e[0],e[1],e[2],e[3])}function U(e,t,r,n){return e[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-e[2]*r[1],[e,t,r]}function G(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function O(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function V(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function j(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=t[0],u=t[1],s=t[2],c=t[3];return Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-u)<=h*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-s)<=h*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))}function N(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function $(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var W=C,q=O;function z(){var e=new m(6);return m!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function Q(e){var t=new m(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function X(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Y(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function H(e,t,r,n,i,o){var a=new m(6);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a[4]=i,a[5]=o,a}function K(e,t,r,n,i,o,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e}function Z(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=r*o-n*i;return s?(s=1/s,e[0]=o*s,e[1]=-n*s,e[2]=-i*s,e[3]=r*s,e[4]=(i*u-o*a)*s,e[5]=(n*a-r*u)*s,e):null}function J(e){return e[0]*e[3]-e[1]*e[2]}function ee(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=r[0],f=r[1],l=r[2],d=r[3],h=r[4],m=r[5];return e[0]=n*c+o*f,e[1]=i*c+a*f,e[2]=n*l+o*d,e[3]=i*l+a*d,e[4]=n*h+o*m+u,e[5]=i*h+a*m+s,e}function te(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=Math.sin(r),f=Math.cos(r);return e[0]=n*f+o*c,e[1]=i*f+a*c,e[2]=n*-c+o*f,e[3]=i*-c+a*f,e[4]=u,e[5]=s,e}function re(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=r[0],f=r[1];return e[0]=n*c,e[1]=i*c,e[2]=o*f,e[3]=a*f,e[4]=u,e[5]=s,e}function ne(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=r[0],f=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=n*c+o*f+u,e[5]=i*c+a*f+s,e}function ie(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function oe(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function ae(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function ue(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function se(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function ce(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function fe(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function le(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function de(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function he(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function me(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=t[0],c=t[1],f=t[2],l=t[3],d=t[4],m=t[5];return Math.abs(r-s)<=h*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-c)<=h*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(i-f)<=h*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(o-l)<=h*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-d)<=h*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(u-m)<=h*Math.max(1,Math.abs(u),Math.abs(m))}var pe=ee,ge=fe;function ve(){var e=new m(9);return m!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ye(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function be(e){var t=new m(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function _e(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function we(e,t,r,n,i,o,a,u,s){var c=new m(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=i,c[5]=o,c[6]=a,c[7]=u,c[8]=s,c}function Ee(e,t,r,n,i,o,a,u,s,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=u,e[7]=s,e[8]=c,e}function xe(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Me(e,t){if(e===t){var r=t[1],n=t[2],i=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=i}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function Ae(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=f*a-u*c,d=-f*o+u*s,h=c*o-a*s,m=r*l+n*d+i*h;return m?(m=1/m,e[0]=l*m,e[1]=(-f*n+i*c)*m,e[2]=(u*n-i*a)*m,e[3]=d*m,e[4]=(f*r-i*s)*m,e[5]=(-u*r+i*o)*m,e[6]=h*m,e[7]=(-c*r+n*s)*m,e[8]=(a*r-n*o)*m,e):null}function Pe(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8];return e[0]=a*f-u*c,e[1]=i*c-n*f,e[2]=n*u-i*a,e[3]=u*s-o*f,e[4]=r*f-i*s,e[5]=i*o-r*u,e[6]=o*c-a*s,e[7]=n*s-r*c,e[8]=r*a-n*o,e}function Te(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],u=e[6],s=e[7],c=e[8];return t*(c*o-a*s)+r*(-c*i+a*u)+n*(s*i-o*u)}function Se(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],d=r[0],h=r[1],m=r[2],p=r[3],g=r[4],v=r[5],y=r[6],b=r[7],_=r[8];return e[0]=d*n+h*a+m*c,e[1]=d*i+h*u+m*f,e[2]=d*o+h*s+m*l,e[3]=p*n+g*a+v*c,e[4]=p*i+g*u+v*f,e[5]=p*o+g*s+v*l,e[6]=y*n+b*a+_*c,e[7]=y*i+b*u+_*f,e[8]=y*o+b*s+_*l,e}function ke(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],d=r[0],h=r[1];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=u,e[5]=s,e[6]=d*n+h*a+c,e[7]=d*i+h*u+f,e[8]=d*o+h*s+l,e}function Ce(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],d=Math.sin(r),h=Math.cos(r);return e[0]=h*n+d*a,e[1]=h*i+d*u,e[2]=h*o+d*s,e[3]=h*a-d*n,e[4]=h*u-d*i,e[5]=h*s-d*o,e[6]=c,e[7]=f,e[8]=l,e}function Be(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function De(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function Fe(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Ie(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function Re(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function Le(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,u=n+n,s=i+i,c=r*a,f=n*a,l=n*u,d=i*a,h=i*u,m=i*s,p=o*a,g=o*u,v=o*s;return e[0]=1-l-m,e[3]=f-v,e[6]=d+g,e[1]=f+v,e[4]=1-c-m,e[7]=h-p,e[2]=d-g,e[5]=h+p,e[8]=1-c-l,e}function Ue(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],d=t[10],h=t[11],m=t[12],p=t[13],g=t[14],v=t[15],y=r*u-n*a,b=r*s-i*a,_=r*c-o*a,w=n*s-i*u,E=n*c-o*u,x=i*c-o*s,M=f*p-l*m,A=f*g-d*m,P=f*v-h*m,T=l*g-d*p,S=l*v-h*p,k=d*v-h*g,C=y*k-b*S+_*T+w*P-E*A+x*M;return C?(C=1/C,e[0]=(u*k-s*S+c*T)*C,e[1]=(s*P-a*k-c*A)*C,e[2]=(a*S-u*P+c*M)*C,e[3]=(i*S-n*k-o*T)*C,e[4]=(r*k-i*P+o*A)*C,e[5]=(n*P-r*S-o*M)*C,e[6]=(p*x-g*E+v*w)*C,e[7]=(g*_-m*x-v*b)*C,e[8]=(m*E-p*_+v*y)*C,e):null}function Ge(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function Oe(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Ve(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function je(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function Ne(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function $e(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function We(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function qe(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function ze(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=t[0],d=t[1],m=t[2],p=t[3],g=t[4],v=t[5],y=t[6],b=t[7],_=t[8];return Math.abs(r-l)<=h*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-d)<=h*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(i-m)<=h*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(o-p)<=h*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-g)<=h*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(u-v)<=h*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(s-y)<=h*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-b)<=h*Math.max(1,Math.abs(c),Math.abs(b))&&Math.abs(f-_)<=h*Math.max(1,Math.abs(f),Math.abs(_))}var Qe=Se,Xe=Ne;function Ye(){var e=new m(16);return m!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function He(e){var t=new m(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function Ke(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Ze(e,t,r,n,i,o,a,u,s,c,f,l,d,h,p,g){var v=new m(16);return v[0]=e,v[1]=t,v[2]=r,v[3]=n,v[4]=i,v[5]=o,v[6]=a,v[7]=u,v[8]=s,v[9]=c,v[10]=f,v[11]=l,v[12]=d,v[13]=h,v[14]=p,v[15]=g,v}function Je(e,t,r,n,i,o,a,u,s,c,f,l,d,h,m,p,g){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=u,e[7]=s,e[8]=c,e[9]=f,e[10]=l,e[11]=d,e[12]=h,e[13]=m,e[14]=p,e[15]=g,e}function et(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tt(e,t){if(e===t){var r=t[1],n=t[2],i=t[3],o=t[6],a=t[7],u=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=r,e[6]=t[9],e[7]=t[13],e[8]=n,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=u}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15];return e}function rt(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],d=t[10],h=t[11],m=t[12],p=t[13],g=t[14],v=t[15],y=r*u-n*a,b=r*s-i*a,_=r*c-o*a,w=n*s-i*u,E=n*c-o*u,x=i*c-o*s,M=f*p-l*m,A=f*g-d*m,P=f*v-h*m,T=l*g-d*p,S=l*v-h*p,k=d*v-h*g,C=y*k-b*S+_*T+w*P-E*A+x*M;return C?(C=1/C,e[0]=(u*k-s*S+c*T)*C,e[1]=(i*S-n*k-o*T)*C,e[2]=(p*x-g*E+v*w)*C,e[3]=(d*E-l*x-h*w)*C,e[4]=(s*P-a*k-c*A)*C,e[5]=(r*k-i*P+o*A)*C,e[6]=(g*_-m*x-v*b)*C,e[7]=(f*x-d*_+h*b)*C,e[8]=(a*S-u*P+c*M)*C,e[9]=(n*P-r*S-o*M)*C,e[10]=(m*E-p*_+v*y)*C,e[11]=(l*_-f*E-h*y)*C,e[12]=(u*A-a*T-s*M)*C,e[13]=(r*T-n*A+i*M)*C,e[14]=(p*b-m*w-g*y)*C,e[15]=(f*w-l*b+d*y)*C,e):null}function nt(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],d=t[10],h=t[11],m=t[12],p=t[13],g=t[14],v=t[15];return e[0]=u*(d*v-h*g)-l*(s*v-c*g)+p*(s*h-c*d),e[1]=-(n*(d*v-h*g)-l*(i*v-o*g)+p*(i*h-o*d)),e[2]=n*(s*v-c*g)-u*(i*v-o*g)+p*(i*c-o*s),e[3]=-(n*(s*h-c*d)-u*(i*h-o*d)+l*(i*c-o*s)),e[4]=-(a*(d*v-h*g)-f*(s*v-c*g)+m*(s*h-c*d)),e[5]=r*(d*v-h*g)-f*(i*v-o*g)+m*(i*h-o*d),e[6]=-(r*(s*v-c*g)-a*(i*v-o*g)+m*(i*c-o*s)),e[7]=r*(s*h-c*d)-a*(i*h-o*d)+f*(i*c-o*s),e[8]=a*(l*v-h*p)-f*(u*v-c*p)+m*(u*h-c*l),e[9]=-(r*(l*v-h*p)-f*(n*v-o*p)+m*(n*h-o*l)),e[10]=r*(u*v-c*p)-a*(n*v-o*p)+m*(n*c-o*u),e[11]=-(r*(u*h-c*l)-a*(n*h-o*l)+f*(n*c-o*u)),e[12]=-(a*(l*g-d*p)-f*(u*g-s*p)+m*(u*d-s*l)),e[13]=r*(l*g-d*p)-f*(n*g-i*p)+m*(n*d-i*l),e[14]=-(r*(u*g-s*p)-a*(n*g-i*p)+m*(n*s-i*u)),e[15]=r*(u*d-s*l)-a*(n*d-i*l)+f*(n*s-i*u),e}function it(e){var t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],d=e[11],h=e[12],m=e[13],p=e[14],g=e[15];return(t*a-r*o)*(l*g-d*p)-(t*u-n*o)*(f*g-d*m)+(t*s-i*o)*(f*p-l*m)+(r*u-n*a)*(c*g-d*h)-(r*s-i*a)*(c*p-l*h)+(n*s-i*u)*(c*m-f*h)}function ot(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],d=t[9],h=t[10],m=t[11],p=t[12],g=t[13],v=t[14],y=t[15],b=r[0],_=r[1],w=r[2],E=r[3];return e[0]=b*n+_*u+w*l+E*p,e[1]=b*i+_*s+w*d+E*g,e[2]=b*o+_*c+w*h+E*v,e[3]=b*a+_*f+w*m+E*y,b=r[4],_=r[5],w=r[6],E=r[7],e[4]=b*n+_*u+w*l+E*p,e[5]=b*i+_*s+w*d+E*g,e[6]=b*o+_*c+w*h+E*v,e[7]=b*a+_*f+w*m+E*y,b=r[8],_=r[9],w=r[10],E=r[11],e[8]=b*n+_*u+w*l+E*p,e[9]=b*i+_*s+w*d+E*g,e[10]=b*o+_*c+w*h+E*v,e[11]=b*a+_*f+w*m+E*y,b=r[12],_=r[13],w=r[14],E=r[15],e[12]=b*n+_*u+w*l+E*p,e[13]=b*i+_*s+w*d+E*g,e[14]=b*o+_*c+w*h+E*v,e[15]=b*a+_*f+w*m+E*y,e}function at(e,t,r){var n,i,o,a,u,s,c,f,l,d,h,m,p=r[0],g=r[1],v=r[2];return t===e?(e[12]=t[0]*p+t[4]*g+t[8]*v+t[12],e[13]=t[1]*p+t[5]*g+t[9]*v+t[13],e[14]=t[2]*p+t[6]*g+t[10]*v+t[14],e[15]=t[3]*p+t[7]*g+t[11]*v+t[15]):(n=t[0],i=t[1],o=t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=t[8],d=t[9],h=t[10],m=t[11],e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=u,e[5]=s,e[6]=c,e[7]=f,e[8]=l,e[9]=d,e[10]=h,e[11]=m,e[12]=n*p+u*g+l*v+t[12],e[13]=i*p+s*g+d*v+t[13],e[14]=o*p+c*g+h*v+t[14],e[15]=a*p+f*g+m*v+t[15]),e}function ut(e,t,r){var n=r[0],i=r[1],o=r[2];return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function st(e,t,r,n){var i,o,a,u,s,c,f,l,d,m,p,g,v,y,b,_,w,E,x,M,A,P,T,S,k=n[0],C=n[1],B=n[2],D=Math.hypot(k,C,B);return D<h?null:(k*=D=1/D,C*=D,B*=D,i=Math.sin(r),a=1-(o=Math.cos(r)),u=t[0],s=t[1],c=t[2],f=t[3],l=t[4],d=t[5],m=t[6],p=t[7],g=t[8],v=t[9],y=t[10],b=t[11],_=k*k*a+o,w=C*k*a+B*i,E=B*k*a-C*i,x=k*C*a-B*i,M=C*C*a+o,A=B*C*a+k*i,P=k*B*a+C*i,T=C*B*a-k*i,S=B*B*a+o,e[0]=u*_+l*w+g*E,e[1]=s*_+d*w+v*E,e[2]=c*_+m*w+y*E,e[3]=f*_+p*w+b*E,e[4]=u*x+l*M+g*A,e[5]=s*x+d*M+v*A,e[6]=c*x+m*M+y*A,e[7]=f*x+p*M+b*A,e[8]=u*P+l*T+g*S,e[9]=s*P+d*T+v*S,e[10]=c*P+m*T+y*S,e[11]=f*P+p*T+b*S,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function ct(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[4],a=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*n,e[5]=a*i+f*n,e[6]=u*i+l*n,e[7]=s*i+d*n,e[8]=c*i-o*n,e[9]=f*i-a*n,e[10]=l*i-u*n,e[11]=d*i-s*n,e}function ft(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],u=t[2],s=t[3],c=t[8],f=t[9],l=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*n,e[1]=a*i-f*n,e[2]=u*i-l*n,e[3]=s*i-d*n,e[8]=o*n+c*i,e[9]=a*n+f*i,e[10]=u*n+l*i,e[11]=s*n+d*i,e}function lt(e,t,r){var n=Math.sin(r),i=Math.cos(r),o=t[0],a=t[1],u=t[2],s=t[3],c=t[4],f=t[5],l=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*n,e[1]=a*i+f*n,e[2]=u*i+l*n,e[3]=s*i+d*n,e[4]=c*i-o*n,e[5]=f*i-a*n,e[6]=l*i-u*n,e[7]=d*i-s*n,e}function dt(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function ht(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function mt(e,t,r){var n,i,o,a=r[0],u=r[1],s=r[2],c=Math.hypot(a,u,s);return c<h?null:(a*=c=1/c,u*=c,s*=c,n=Math.sin(t),o=1-(i=Math.cos(t)),e[0]=a*a*o+i,e[1]=u*a*o+s*n,e[2]=s*a*o-u*n,e[3]=0,e[4]=a*u*o-s*n,e[5]=u*u*o+i,e[6]=s*u*o+a*n,e[7]=0,e[8]=a*s*o+u*n,e[9]=u*s*o-a*n,e[10]=s*s*o+i,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function pt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=r,e[7]=0,e[8]=0,e[9]=-r,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function gt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=0,e[2]=-r,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=r,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function vt(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=0,e[4]=-r,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function yt(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=n+n,s=i+i,c=o+o,f=n*u,l=n*s,d=n*c,h=i*s,m=i*c,p=o*c,g=a*u,v=a*s,y=a*c;return e[0]=1-(h+p),e[1]=l+y,e[2]=d-v,e[3]=0,e[4]=l-y,e[5]=1-(f+p),e[6]=m+g,e[7]=0,e[8]=d+v,e[9]=m-g,e[10]=1-(f+h),e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function bt(e,t){var r=new m(3),n=-t[0],i=-t[1],o=-t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=n*n+i*i+o*o+a*a;return l>0?(r[0]=2*(u*a+f*n+s*o-c*i)/l,r[1]=2*(s*a+f*i+c*n-u*o)/l,r[2]=2*(c*a+f*o+u*i-s*n)/l):(r[0]=2*(u*a+f*n+s*o-c*i),r[1]=2*(s*a+f*i+c*n-u*o),r[2]=2*(c*a+f*o+u*i-s*n)),yt(e,t,r),e}function _t(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function wt(e,t){var r=t[0],n=t[1],i=t[2],o=t[4],a=t[5],u=t[6],s=t[8],c=t[9],f=t[10];return e[0]=Math.hypot(r,n,i),e[1]=Math.hypot(o,a,u),e[2]=Math.hypot(s,c,f),e}function Et(e,t){var r=new m(3);wt(r,t);var n=1/r[0],i=1/r[1],o=1/r[2],a=t[0]*n,u=t[1]*i,s=t[2]*o,c=t[4]*n,f=t[5]*i,l=t[6]*o,d=t[8]*n,h=t[9]*i,p=t[10]*o,g=a+f+p,v=0;return g>0?(v=2*Math.sqrt(g+1),e[3]=.25*v,e[0]=(l-h)/v,e[1]=(d-s)/v,e[2]=(u-c)/v):a>f&&a>p?(v=2*Math.sqrt(1+a-f-p),e[3]=(l-h)/v,e[0]=.25*v,e[1]=(u+c)/v,e[2]=(d+s)/v):f>p?(v=2*Math.sqrt(1+f-a-p),e[3]=(d-s)/v,e[0]=(u+c)/v,e[1]=.25*v,e[2]=(l+h)/v):(v=2*Math.sqrt(1+p-a-f),e[3]=(u-c)/v,e[0]=(d+s)/v,e[1]=(l+h)/v,e[2]=.25*v),e}function xt(e,t,r,n){var i=t[0],o=t[1],a=t[2],u=t[3],s=i+i,c=o+o,f=a+a,l=i*s,d=i*c,h=i*f,m=o*c,p=o*f,g=a*f,v=u*s,y=u*c,b=u*f,_=n[0],w=n[1],E=n[2];return e[0]=(1-(m+g))*_,e[1]=(d+b)*_,e[2]=(h-y)*_,e[3]=0,e[4]=(d-b)*w,e[5]=(1-(l+g))*w,e[6]=(p+v)*w,e[7]=0,e[8]=(h+y)*E,e[9]=(p-v)*E,e[10]=(1-(l+m))*E,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Mt(e,t,r,n,i){var o=t[0],a=t[1],u=t[2],s=t[3],c=o+o,f=a+a,l=u+u,d=o*c,h=o*f,m=o*l,p=a*f,g=a*l,v=u*l,y=s*c,b=s*f,_=s*l,w=n[0],E=n[1],x=n[2],M=i[0],A=i[1],P=i[2],T=(1-(p+v))*w,S=(h+_)*w,k=(m-b)*w,C=(h-_)*E,B=(1-(d+v))*E,D=(g+y)*E,F=(m+b)*x,I=(g-y)*x,R=(1-(d+p))*x;return e[0]=T,e[1]=S,e[2]=k,e[3]=0,e[4]=C,e[5]=B,e[6]=D,e[7]=0,e[8]=F,e[9]=I,e[10]=R,e[11]=0,e[12]=r[0]+M-(T*M+C*A+F*P),e[13]=r[1]+A-(S*M+B*A+I*P),e[14]=r[2]+P-(k*M+D*A+R*P),e[15]=1,e}function At(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r+r,u=n+n,s=i+i,c=r*a,f=n*a,l=n*u,d=i*a,h=i*u,m=i*s,p=o*a,g=o*u,v=o*s;return e[0]=1-l-m,e[1]=f+v,e[2]=d-g,e[3]=0,e[4]=f-v,e[5]=1-c-m,e[6]=h+p,e[7]=0,e[8]=d+g,e[9]=h-p,e[10]=1-c-l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Pt(e,t,r,n,i,o,a){var u=1/(r-t),s=1/(i-n),c=1/(o-a);return e[0]=2*o*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*s,e[6]=0,e[7]=0,e[8]=(r+t)*u,e[9]=(i+n)*s,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0,e}function Tt(e,t,r,n,i){var o,a=1/Math.tan(t/2);return e[0]=a/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}function St(e,t,r,n){var i=Math.tan(t.upDegrees*Math.PI/180),o=Math.tan(t.downDegrees*Math.PI/180),a=Math.tan(t.leftDegrees*Math.PI/180),u=Math.tan(t.rightDegrees*Math.PI/180),s=2/(a+u),c=2/(i+o);return e[0]=s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=c,e[6]=0,e[7]=0,e[8]=-(a-u)*s*.5,e[9]=(i-o)*c*.5,e[10]=n/(r-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*r/(r-n),e[15]=0,e}function kt(e,t,r,n,i,o,a){var u=1/(t-r),s=1/(n-i),c=1/(o-a);return e[0]=-2*u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*s,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+r)*u,e[13]=(i+n)*s,e[14]=(a+o)*c,e[15]=1,e}function Ct(e,t,r,n){var i,o,a,u,s,c,f,l,d,m,p=t[0],g=t[1],v=t[2],y=n[0],b=n[1],_=n[2],w=r[0],E=r[1],x=r[2];return Math.abs(p-w)<h&&Math.abs(g-E)<h&&Math.abs(v-x)<h?et(e):(f=p-w,l=g-E,d=v-x,i=b*(d*=m=1/Math.hypot(f,l,d))-_*(l*=m),o=_*(f*=m)-y*d,a=y*l-b*f,(m=Math.hypot(i,o,a))?(i*=m=1/m,o*=m,a*=m):(i=0,o=0,a=0),u=l*a-d*o,s=d*i-f*a,c=f*o-l*i,(m=Math.hypot(u,s,c))?(u*=m=1/m,s*=m,c*=m):(u=0,s=0,c=0),e[0]=i,e[1]=u,e[2]=f,e[3]=0,e[4]=o,e[5]=s,e[6]=l,e[7]=0,e[8]=a,e[9]=c,e[10]=d,e[11]=0,e[12]=-(i*p+o*g+a*v),e[13]=-(u*p+s*g+c*v),e[14]=-(f*p+l*g+d*v),e[15]=1,e)}function Bt(e,t,r,n){var i=t[0],o=t[1],a=t[2],u=n[0],s=n[1],c=n[2],f=i-r[0],l=o-r[1],d=a-r[2],h=f*f+l*l+d*d;h>0&&(f*=h=1/Math.sqrt(h),l*=h,d*=h);var m=s*d-c*l,p=c*f-u*d,g=u*l-s*f;return(h=m*m+p*p+g*g)>0&&(m*=h=1/Math.sqrt(h),p*=h,g*=h),e[0]=m,e[1]=p,e[2]=g,e[3]=0,e[4]=l*g-d*p,e[5]=d*m-f*g,e[6]=f*p-l*m,e[7]=0,e[8]=f,e[9]=l,e[10]=d,e[11]=0,e[12]=i,e[13]=o,e[14]=a,e[15]=1,e}function Dt(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ft(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function It(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e[9]=t[9]+r[9],e[10]=t[10]+r[10],e[11]=t[11]+r[11],e[12]=t[12]+r[12],e[13]=t[13]+r[13],e[14]=t[14]+r[14],e[15]=t[15]+r[15],e}function Rt(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e[9]=t[9]-r[9],e[10]=t[10]-r[10],e[11]=t[11]-r[11],e[12]=t[12]-r[12],e[13]=t[13]-r[13],e[14]=t[14]-r[14],e[15]=t[15]-r[15],e}function Lt(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12]*r,e[13]=t[13]*r,e[14]=t[14]*r,e[15]=t[15]*r,e}function Ut(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e[9]=t[9]+r[9]*n,e[10]=t[10]+r[10]*n,e[11]=t[11]+r[11]*n,e[12]=t[12]+r[12]*n,e[13]=t[13]+r[13]*n,e[14]=t[14]+r[14]*n,e[15]=t[15]+r[15]*n,e}function Gt(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]}function Ot(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],d=e[10],m=e[11],p=e[12],g=e[13],v=e[14],y=e[15],b=t[0],_=t[1],w=t[2],E=t[3],x=t[4],M=t[5],A=t[6],P=t[7],T=t[8],S=t[9],k=t[10],C=t[11],B=t[12],D=t[13],F=t[14],I=t[15];return Math.abs(r-b)<=h*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(n-_)<=h*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-w)<=h*Math.max(1,Math.abs(i),Math.abs(w))&&Math.abs(o-E)<=h*Math.max(1,Math.abs(o),Math.abs(E))&&Math.abs(a-x)<=h*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(u-M)<=h*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(s-A)<=h*Math.max(1,Math.abs(s),Math.abs(A))&&Math.abs(c-P)<=h*Math.max(1,Math.abs(c),Math.abs(P))&&Math.abs(f-T)<=h*Math.max(1,Math.abs(f),Math.abs(T))&&Math.abs(l-S)<=h*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(d-k)<=h*Math.max(1,Math.abs(d),Math.abs(k))&&Math.abs(m-C)<=h*Math.max(1,Math.abs(m),Math.abs(C))&&Math.abs(p-B)<=h*Math.max(1,Math.abs(p),Math.abs(B))&&Math.abs(g-D)<=h*Math.max(1,Math.abs(g),Math.abs(D))&&Math.abs(v-F)<=h*Math.max(1,Math.abs(v),Math.abs(F))&&Math.abs(y-I)<=h*Math.max(1,Math.abs(y),Math.abs(I))}var Vt=ot,jt=Rt;function Nt(){var e=new m(3);return m!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function $t(e){var t=new m(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Wt(e){var t=e[0],r=e[1],n=e[2];return Math.hypot(t,r,n)}function qt(e,t,r){var n=new m(3);return n[0]=e,n[1]=t,n[2]=r,n}function zt(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Qt(e,t,r,n){return e[0]=t,e[1]=r,e[2]=n,e}function Xt(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e}function Yt(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e}function Ht(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e}function Kt(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e}function Zt(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e}function Jt(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e}function er(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e}function tr(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e}function rr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e}function nr(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function ir(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e}function or(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return Math.hypot(r,n,i)}function ar(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2];return r*r+n*n+i*i}function ur(e){var t=e[0],r=e[1],n=e[2];return t*t+r*r+n*n}function sr(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function cr(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function fr(e,t){var r=t[0],n=t[1],i=t[2],o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e}function lr(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function dr(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],u=r[1],s=r[2];return e[0]=i*s-o*u,e[1]=o*a-n*s,e[2]=n*u-i*a,e}function hr(e,t,r,n){var i=t[0],o=t[1],a=t[2];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e}function mr(e,t,r,n,i,o){var a=o*o,u=a*(2*o-3)+1,s=a*(o-2)+o,c=a*(o-1),f=a*(3-2*o);return e[0]=t[0]*u+r[0]*s+n[0]*c+i[0]*f,e[1]=t[1]*u+r[1]*s+n[1]*c+i[1]*f,e[2]=t[2]*u+r[2]*s+n[2]*c+i[2]*f,e}function pr(e,t,r,n,i,o){var a=1-o,u=a*a,s=o*o,c=u*a,f=3*o*u,l=3*s*a,d=s*o;return e[0]=t[0]*c+r[0]*f+n[0]*l+i[0]*d,e[1]=t[1]*c+r[1]*f+n[1]*l+i[1]*d,e[2]=t[2]*c+r[2]*f+n[2]*l+i[2]*d,e}function gr(e,t){t=t||1;var r=2*p()*Math.PI,n=2*p()-1,i=Math.sqrt(1-n*n)*t;return e[0]=Math.cos(r)*i,e[1]=Math.sin(r)*i,e[2]=n*t,e}function vr(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[3]*n+r[7]*i+r[11]*o+r[15];return a=a||1,e[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/a,e[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/a,e[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/a,e}function yr(e,t,r){var n=t[0],i=t[1],o=t[2];return e[0]=n*r[0]+i*r[3]+o*r[6],e[1]=n*r[1]+i*r[4]+o*r[7],e[2]=n*r[2]+i*r[5]+o*r[8],e}function br(e,t,r){var n=r[0],i=r[1],o=r[2],a=r[3],u=t[0],s=t[1],c=t[2],f=i*c-o*s,l=o*u-n*c,d=n*s-i*u,h=i*d-o*l,m=o*f-n*d,p=n*l-i*f,g=2*a;return f*=g,l*=g,d*=g,h*=2,m*=2,p*=2,e[0]=u+f+h,e[1]=s+l+m,e[2]=c+d+p,e}function _r(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function wr(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function Er(e,t,r,n){var i=[],o=[];return i[0]=t[0]-r[0],i[1]=t[1]-r[1],i[2]=t[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],e[0]=o[0]+r[0],e[1]=o[1]+r[1],e[2]=o[2]+r[2],e}function xr(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],u=t[2],s=Math.sqrt(r*r+n*n+i*i)*Math.sqrt(o*o+a*a+u*u),c=s&&lr(e,t)/s;return Math.acos(Math.min(Math.max(c,-1),1))}function Mr(e){return e[0]=0,e[1]=0,e[2]=0,e}function Ar(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function Pr(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}function Tr(e,t){var r=e[0],n=e[1],i=e[2],o=t[0],a=t[1],u=t[2];return Math.abs(r-o)<=h*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=h*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-u)<=h*Math.max(1,Math.abs(i),Math.abs(u))}var Sr,kr=Yt,Cr=Ht,Br=Kt,Dr=or,Fr=ar,Ir=Wt,Rr=ur,Lr=(Sr=Nt(),function(e,t,r,n,i,o){var a,u;for(t||(t=3),r||(r=0),u=n?Math.min(n*t+r,e.length):e.length,a=r;a<u;a+=t)Sr[0]=e[a],Sr[1]=e[a+1],Sr[2]=e[a+2],i(Sr,Sr,o),e[a]=Sr[0],e[a+1]=Sr[1],e[a+2]=Sr[2];return e});function Ur(){var e=new m(4);return m!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Gr(e){var t=new m(4);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Or(e,t,r,n){var i=new m(4);return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function Vr(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function jr(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function Nr(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function $r(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function Wr(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function qr(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function zr(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function Qr(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function Xr(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function Yr(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function Hr(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function Kr(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function Zr(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function Jr(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return Math.hypot(r,n,i,o)}function en(e,t){var r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],o=t[3]-e[3];return r*r+n*n+i*i+o*o}function tn(e){var t=e[0],r=e[1],n=e[2],i=e[3];return Math.hypot(t,r,n,i)}function rn(e){var t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function nn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function on(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function an(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o;return a>0&&(a=1/Math.sqrt(a)),e[0]=r*a,e[1]=n*a,e[2]=i*a,e[3]=o*a,e}function un(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function sn(e,t,r,n){var i=r[0]*n[1]-r[1]*n[0],o=r[0]*n[2]-r[2]*n[0],a=r[0]*n[3]-r[3]*n[0],u=r[1]*n[2]-r[2]*n[1],s=r[1]*n[3]-r[3]*n[1],c=r[2]*n[3]-r[3]*n[2],f=t[0],l=t[1],d=t[2],h=t[3];return e[0]=l*c-d*s+h*u,e[1]=-f*c+d*a-h*o,e[2]=f*s-l*a+h*i,e[3]=-f*u+l*o-d*i,e}function cn(e,t,r,n){var i=t[0],o=t[1],a=t[2],u=t[3];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e[2]=a+n*(r[2]-a),e[3]=u+n*(r[3]-u),e}function fn(e,t){var r,n,i,o,a,u;t=t||1;do{a=(r=2*p()-1)*r+(n=2*p()-1)*n}while(a>=1);do{u=(i=2*p()-1)*i+(o=2*p()-1)*o}while(u>=1);var s=Math.sqrt((1-a)/u);return e[0]=t*r,e[1]=t*n,e[2]=t*i*s,e[3]=t*o*s,e}function ln(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*a,e[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*a,e[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*a,e[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*a,e}function dn(e,t,r){var n=t[0],i=t[1],o=t[2],a=r[0],u=r[1],s=r[2],c=r[3],f=c*n+u*o-s*i,l=c*i+s*n-a*o,d=c*o+a*i-u*n,h=-a*n-u*i-s*o;return e[0]=f*c+h*-a+l*-s-d*-u,e[1]=l*c+h*-u+d*-a-f*-s,e[2]=d*c+h*-s+f*-u-l*-a,e[3]=t[3],e}function hn(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function mn(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function pn(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function gn(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=t[0],u=t[1],s=t[2],c=t[3];return Math.abs(r-a)<=h*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-u)<=h*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-s)<=h*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))}var vn=$r,yn=Wr,bn=qr,_n=Jr,wn=en,En=tn,xn=rn,Mn=function(){var e=Ur();return function(t,r,n,i,o,a){var u,s;for(r||(r=4),n||(n=0),s=i?Math.min(i*r+n,t.length):t.length,u=n;u<s;u+=r)e[0]=t[u],e[1]=t[u+1],e[2]=t[u+2],e[3]=t[u+3],o(e,e,a),t[u]=e[0],t[u+1]=e[1],t[u+2]=e[2],t[u+3]=e[3];return t}}();function An(){var e=new m(4);return m!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function Pn(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function Tn(e,t,r){r*=.5;var n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function Sn(e,t){var r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>h?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function kn(e,t){var r=ii(e,t);return Math.acos(2*r*r-1)}function Cn(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=r[0],s=r[1],c=r[2],f=r[3];return e[0]=n*f+a*u+i*c-o*s,e[1]=i*f+a*s+o*u-n*c,e[2]=o*f+a*c+n*s-i*u,e[3]=a*f-n*u-i*s-o*c,e}function Bn(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(r),s=Math.cos(r);return e[0]=n*s+a*u,e[1]=i*s+o*u,e[2]=o*s-i*u,e[3]=a*s-n*u,e}function Dn(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(r),s=Math.cos(r);return e[0]=n*s-o*u,e[1]=i*s+a*u,e[2]=o*s+n*u,e[3]=a*s-i*u,e}function Fn(e,t,r){r*=.5;var n=t[0],i=t[1],o=t[2],a=t[3],u=Math.sin(r),s=Math.cos(r);return e[0]=n*s+i*u,e[1]=i*s-n*u,e[2]=o*s+a*u,e[3]=a*s-o*u,e}function In(e,t){var r=t[0],n=t[1],i=t[2];return e[0]=r,e[1]=n,e[2]=i,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),e}function Rn(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=Math.sqrt(r*r+n*n+i*i),u=Math.exp(o),s=a>0?u*Math.sin(a)/a:0;return e[0]=r*s,e[1]=n*s,e[2]=i*s,e[3]=u*Math.cos(a),e}function Ln(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=Math.sqrt(r*r+n*n+i*i),u=a>0?Math.atan2(a,o)/a:0;return e[0]=r*u,e[1]=n*u,e[2]=i*u,e[3]=.5*Math.log(r*r+n*n+i*i+o*o),e}function Un(e,t,r){return Ln(e,t),ni(e,e,r),Rn(e,e),e}function Gn(e,t,r,n){var i,o,a,u,s,c=t[0],f=t[1],l=t[2],d=t[3],m=r[0],p=r[1],g=r[2],v=r[3];return(o=c*m+f*p+l*g+d*v)<0&&(o=-o,m=-m,p=-p,g=-g,v=-v),1-o>h?(i=Math.acos(o),a=Math.sin(i),u=Math.sin((1-n)*i)/a,s=Math.sin(n*i)/a):(u=1-n,s=n),e[0]=u*c+s*m,e[1]=u*f+s*p,e[2]=u*l+s*g,e[3]=u*d+s*v,e}function On(e){var t=p(),r=p(),n=p(),i=Math.sqrt(1-t),o=Math.sqrt(t);return e[0]=i*Math.sin(2*Math.PI*r),e[1]=i*Math.cos(2*Math.PI*r),e[2]=o*Math.sin(2*Math.PI*n),e[3]=o*Math.cos(2*Math.PI*n),e}function Vn(e,t){var r=t[0],n=t[1],i=t[2],o=t[3],a=r*r+n*n+i*i+o*o,u=a?1/a:0;return e[0]=-r*u,e[1]=-n*u,e[2]=-i*u,e[3]=o*u,e}function jn(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function Nn(e,t){var r,n=t[0]+t[4]+t[8];if(n>0)r=Math.sqrt(n+1),e[3]=.5*r,r=.5/r,e[0]=(t[5]-t[7])*r,e[1]=(t[6]-t[2])*r,e[2]=(t[1]-t[3])*r;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[3*i+i]&&(i=2);var o=(i+1)%3,a=(i+2)%3;r=Math.sqrt(t[3*i+i]-t[3*o+o]-t[3*a+a]+1),e[i]=.5*r,r=.5/r,e[3]=(t[3*o+a]-t[3*a+o])*r,e[o]=(t[3*o+i]+t[3*i+o])*r,e[a]=(t[3*a+i]+t[3*i+a])*r}return e}function $n(e,t,r,n){var i=.5*Math.PI/180;t*=i,r*=i,n*=i;var o=Math.sin(t),a=Math.cos(t),u=Math.sin(r),s=Math.cos(r),c=Math.sin(n),f=Math.cos(n);return e[0]=o*s*f-a*u*c,e[1]=a*u*f+o*s*c,e[2]=a*s*c-o*u*f,e[3]=a*s*f+o*u*c,e}function Wn(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}var qn,zn,Qn,Xn,Yn,Hn,Kn=Gr,Zn=Or,Jn=Vr,ei=jr,ti=Nr,ri=Cn,ni=Kr,ii=un,oi=cn,ai=tn,ui=ai,si=rn,ci=si,fi=an,li=pn,di=gn,hi=(qn=Nt(),zn=qt(1,0,0),Qn=qt(0,1,0),function(e,t,r){var n=lr(t,r);return n<-.999999?(dr(qn,zn,t),Ir(qn)<1e-6&&dr(qn,Qn,t),fr(qn,qn),Tn(e,qn,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(dr(qn,t,r),e[0]=qn[0],e[1]=qn[1],e[2]=qn[2],e[3]=1+n,fi(e,e))}),mi=(Xn=An(),Yn=An(),function(e,t,r,n,i,o){return Gn(Xn,t,i,o),Gn(Yn,r,n,o),Gn(e,Xn,Yn,2*o*(1-o)),e}),pi=(Hn=ve(),function(e,t,r,n){return Hn[0]=r[0],Hn[3]=r[1],Hn[6]=r[2],Hn[1]=n[0],Hn[4]=n[1],Hn[7]=n[2],Hn[2]=-t[0],Hn[5]=-t[1],Hn[8]=-t[2],fi(e,Nn(e,Hn))});function gi(){var e=new m(8);return m!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[4]=0,e[5]=0,e[6]=0,e[7]=0),e[3]=1,e}function vi(e){var t=new m(8);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t}function yi(e,t,r,n,i,o,a,u){var s=new m(8);return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s[4]=i,s[5]=o,s[6]=a,s[7]=u,s}function bi(e,t,r,n,i,o,a){var u=new m(8);u[0]=e,u[1]=t,u[2]=r,u[3]=n;var s=.5*i,c=.5*o,f=.5*a;return u[4]=s*n+c*r-f*t,u[5]=c*n+f*e-s*r,u[6]=f*n+s*t-c*e,u[7]=-s*e-c*t-f*r,u}function _i(e,t,r){var n=.5*r[0],i=.5*r[1],o=.5*r[2],a=t[0],u=t[1],s=t[2],c=t[3];return e[0]=a,e[1]=u,e[2]=s,e[3]=c,e[4]=n*c+i*s-o*u,e[5]=i*c+o*a-n*s,e[6]=o*c+n*u-i*a,e[7]=-n*a-i*u-o*s,e}function wi(e,t){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=.5*t[0],e[5]=.5*t[1],e[6]=.5*t[2],e[7]=0,e}function Ei(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function xi(e,t){var r=An();Et(r,t);var n=new m(3);return _t(n,t),_i(e,r,n),e}function Mi(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e}function Ai(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e[6]=0,e[7]=0,e}function Pi(e,t,r,n,i,o,a,u,s){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e[4]=o,e[5]=a,e[6]=u,e[7]=s,e}var Ti=Jn;function Si(e,t){return e[0]=t[4],e[1]=t[5],e[2]=t[6],e[3]=t[7],e}var ki=Jn;function Ci(e,t){return e[4]=t[0],e[5]=t[1],e[6]=t[2],e[7]=t[3],e}function Bi(e,t){var r=t[4],n=t[5],i=t[6],o=t[7],a=-t[0],u=-t[1],s=-t[2],c=t[3];return e[0]=2*(r*c+o*a+n*s-i*u),e[1]=2*(n*c+o*u+i*a-r*s),e[2]=2*(i*c+o*s+r*u-n*a),e}function Di(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=.5*r[0],s=.5*r[1],c=.5*r[2],f=t[4],l=t[5],d=t[6],h=t[7];return e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=a*u+i*c-o*s+f,e[5]=a*s+o*u-n*c+l,e[6]=a*c+n*s-i*u+d,e[7]=-n*u-i*s-o*c+h,e}function Fi(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=u*a+f*n+s*o-c*i,d=s*a+f*i+c*n-u*o,h=c*a+f*o+u*i-s*n,m=f*a-u*n-s*i-c*o;return Bn(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=l*a+m*n+d*o-h*i,e[5]=d*a+m*i+h*n-l*o,e[6]=h*a+m*o+l*i-d*n,e[7]=m*a-l*n-d*i-h*o,e}function Ii(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=u*a+f*n+s*o-c*i,d=s*a+f*i+c*n-u*o,h=c*a+f*o+u*i-s*n,m=f*a-u*n-s*i-c*o;return Dn(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=l*a+m*n+d*o-h*i,e[5]=d*a+m*i+h*n-l*o,e[6]=h*a+m*o+l*i-d*n,e[7]=m*a-l*n-d*i-h*o,e}function Ri(e,t,r){var n=-t[0],i=-t[1],o=-t[2],a=t[3],u=t[4],s=t[5],c=t[6],f=t[7],l=u*a+f*n+s*o-c*i,d=s*a+f*i+c*n-u*o,h=c*a+f*o+u*i-s*n,m=f*a-u*n-s*i-c*o;return Fn(e,t,r),n=e[0],i=e[1],o=e[2],a=e[3],e[4]=l*a+m*n+d*o-h*i,e[5]=d*a+m*i+h*n-l*o,e[6]=h*a+m*o+l*i-d*n,e[7]=m*a-l*n-d*i-h*o,e}function Li(e,t,r){var n=r[0],i=r[1],o=r[2],a=r[3],u=t[0],s=t[1],c=t[2],f=t[3];return e[0]=u*a+f*n+s*o-c*i,e[1]=s*a+f*i+c*n-u*o,e[2]=c*a+f*o+u*i-s*n,e[3]=f*a-u*n-s*i-c*o,u=t[4],s=t[5],c=t[6],f=t[7],e[4]=u*a+f*n+s*o-c*i,e[5]=s*a+f*i+c*n-u*o,e[6]=c*a+f*o+u*i-s*n,e[7]=f*a-u*n-s*i-c*o,e}function Ui(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=r[0],s=r[1],c=r[2],f=r[3];return e[0]=n*f+a*u+i*c-o*s,e[1]=i*f+a*s+o*u-n*c,e[2]=o*f+a*c+n*s-i*u,e[3]=a*f-n*u-i*s-o*c,u=r[4],s=r[5],c=r[6],f=r[7],e[4]=n*f+a*u+i*c-o*s,e[5]=i*f+a*s+o*u-n*c,e[6]=o*f+a*c+n*s-i*u,e[7]=a*f-n*u-i*s-o*c,e}function Gi(e,t,r,n){if(Math.abs(n)<h)return Mi(e,t);var i=Math.hypot(r[0],r[1],r[2]);n*=.5;var o=Math.sin(n),a=o*r[0]/i,u=o*r[1]/i,s=o*r[2]/i,c=Math.cos(n),f=t[0],l=t[1],d=t[2],m=t[3];e[0]=f*c+m*a+l*s-d*u,e[1]=l*c+m*u+d*a-f*s,e[2]=d*c+m*s+f*u-l*a,e[3]=m*c-f*a-l*u-d*s;var p=t[4],g=t[5],v=t[6],y=t[7];return e[4]=p*c+y*a+g*s-v*u,e[5]=g*c+y*u+v*a-p*s,e[6]=v*c+y*s+p*u-g*a,e[7]=y*c-p*a-g*u-v*s,e}function Oi(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e}function Vi(e,t,r){var n=t[0],i=t[1],o=t[2],a=t[3],u=r[4],s=r[5],c=r[6],f=r[7],l=t[4],d=t[5],h=t[6],m=t[7],p=r[0],g=r[1],v=r[2],y=r[3];return e[0]=n*y+a*p+i*v-o*g,e[1]=i*y+a*g+o*p-n*v,e[2]=o*y+a*v+n*g-i*p,e[3]=a*y-n*p-i*g-o*v,e[4]=n*f+a*u+i*c-o*s+l*y+m*p+d*v-h*g,e[5]=i*f+a*s+o*u-n*c+d*y+m*g+h*p-l*v,e[6]=o*f+a*c+n*s-i*u+h*y+m*v+l*g-d*p,e[7]=a*f-n*u-i*s-o*c+m*y-l*p-d*g-h*v,e}var ji=Vi;function Ni(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e}var $i=ii;function Wi(e,t,r,n){var i=1-n;return $i(t,r)<0&&(n=-n),e[0]=t[0]*i+r[0]*n,e[1]=t[1]*i+r[1]*n,e[2]=t[2]*i+r[2]*n,e[3]=t[3]*i+r[3]*n,e[4]=t[4]*i+r[4]*n,e[5]=t[5]*i+r[5]*n,e[6]=t[6]*i+r[6]*n,e[7]=t[7]*i+r[7]*n,e}function qi(e,t){var r=Yi(t);return e[0]=-t[0]/r,e[1]=-t[1]/r,e[2]=-t[2]/r,e[3]=t[3]/r,e[4]=-t[4]/r,e[5]=-t[5]/r,e[6]=-t[6]/r,e[7]=t[7]/r,e}function zi(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e[4]=-t[4],e[5]=-t[5],e[6]=-t[6],e[7]=t[7],e}var Qi=ai,Xi=Qi,Yi=si,Hi=Yi;function Ki(e,t){var r=Yi(t);if(r>0){r=Math.sqrt(r);var n=t[0]/r,i=t[1]/r,o=t[2]/r,a=t[3]/r,u=t[4],s=t[5],c=t[6],f=t[7],l=n*u+i*s+o*c+a*f;e[0]=n,e[1]=i,e[2]=o,e[3]=a,e[4]=(u-n*l)/r,e[5]=(s-i*l)/r,e[6]=(c-o*l)/r,e[7]=(f-a*l)/r}return e}function Zi(e){return"quat2("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+")"}function Ji(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]}function eo(e,t){var r=e[0],n=e[1],i=e[2],o=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=t[0],l=t[1],d=t[2],m=t[3],p=t[4],g=t[5],v=t[6],y=t[7];return Math.abs(r-f)<=h*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-l)<=h*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(i-d)<=h*Math.max(1,Math.abs(i),Math.abs(d))&&Math.abs(o-m)<=h*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-p)<=h*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(u-g)<=h*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(s-v)<=h*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(c-y)<=h*Math.max(1,Math.abs(c),Math.abs(y))}function to(){var e=new m(2);return m!=Float32Array&&(e[0]=0,e[1]=0),e}function ro(e){var t=new m(2);return t[0]=e[0],t[1]=e[1],t}function no(e,t){var r=new m(2);return r[0]=e,r[1]=t,r}function io(e,t){return e[0]=t[0],e[1]=t[1],e}function oo(e,t,r){return e[0]=t,e[1]=r,e}function ao(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function uo(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function so(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function co(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function fo(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function lo(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function ho(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function mo(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function po(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function go(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function vo(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function yo(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.hypot(r,n)}function bo(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function _o(e){var t=e[0],r=e[1];return Math.hypot(t,r)}function wo(e){var t=e[0],r=e[1];return t*t+r*r}function Eo(e,t){return e[0]=-t[0],e[1]=-t[1],e}function xo(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function Mo(e,t){var r=t[0],n=t[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e}function Ao(e,t){return e[0]*t[0]+e[1]*t[1]}function Po(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function To(e,t,r,n){var i=t[0],o=t[1];return e[0]=i+n*(r[0]-i),e[1]=o+n*(r[1]-o),e}function So(e,t){t=t||1;var r=2*p()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function ko(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i,e[1]=r[1]*n+r[3]*i,e}function Co(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[2]*i+r[4],e[1]=r[1]*n+r[3]*i+r[5],e}function Bo(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[3]*i+r[6],e[1]=r[1]*n+r[4]*i+r[7],e}function Do(e,t,r){var n=t[0],i=t[1];return e[0]=r[0]*n+r[4]*i+r[12],e[1]=r[1]*n+r[5]*i+r[13],e}function Fo(e,t,r,n){var i=t[0]-r[0],o=t[1]-r[1],a=Math.sin(n),u=Math.cos(n);return e[0]=i*u-o*a+r[0],e[1]=i*a+o*u+r[1],e}function Io(e,t){var r=e[0],n=e[1],i=t[0],o=t[1],a=Math.sqrt(r*r+n*n)*Math.sqrt(i*i+o*o),u=a&&(r*i+n*o)/a;return Math.acos(Math.min(Math.max(u,-1),1))}function Ro(e){return e[0]=0,e[1]=0,e}function Lo(e){return"vec2("+e[0]+", "+e[1]+")"}function Uo(e,t){return e[0]===t[0]&&e[1]===t[1]}function Go(e,t){var r=e[0],n=e[1],i=t[0],o=t[1];return Math.abs(r-i)<=h*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-o)<=h*Math.max(1,Math.abs(n),Math.abs(o))}var Oo=_o,Vo=uo,jo=so,No=co,$o=yo,Wo=bo,qo=wo,zo=function(){var e=to();return function(t,r,n,i,o,a){var u,s;for(r||(r=2),n||(n=0),s=i?Math.min(i*r+n,t.length):t.length,u=n;u<s;u+=r)e[0]=t[u],e[1]=t[u+1],o(e,e,a),t[u]=e[0],t[u+1]=e[1];return t}}();r.d(t,"glMatrix",(function(){return n})),r.d(t,"mat2",(function(){return i})),r.d(t,"mat2d",(function(){return o})),r.d(t,"mat3",(function(){return a})),r.d(t,"mat4",(function(){return u})),r.d(t,"quat",(function(){return f})),r.d(t,"quat2",(function(){return l})),r.d(t,"vec2",(function(){return d})),r.d(t,"vec3",(function(){return s})),r.d(t,"vec4",(function(){return c}))},function(e,t,r){(function(t,n,i){var o=function(e){var o,a=void 0!==(e=e||{})?e:{},u={};for(o in a)a.hasOwnProperty(o)&&(u[o]=a[o]);var s=[],c=!1,f=!1,l=!1,d=!1,h=!1;c="object"==typeof window,f="function"==typeof importScripts,d="object"==typeof t&&"object"==typeof t.versions&&"string"==typeof t.versions.node,l=d&&!c&&!f,h=!c&&!l&&!f;var m,p,g,v,y="";function b(e){return a.locateFile?a.locateFile(e,y):y+e}l?(y=n+"/",m=function(e,t){var n;return g||(g=r(11)),v||(v=r(12)),e=v.normalize(e),n=g.readFileSync(e),t?n:n.toString()},p=function(e){var t=m(e,!0);return t.buffer||(t=new Uint8Array(t)),S(t.buffer),t},t.argv.length>1&&t.argv[1].replace(/\\/g,"/"),s=t.argv.slice(2),t.on("uncaughtException",(function(e){if(!(e instanceof Gf))throw e})),t.on("unhandledRejection",ye),a.inspect=function(){return"[Emscripten Module object]"}):h?("undefined"!=typeof read&&(m=function(e){return read(e)}),p=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(S("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs?s=scriptArgs:void 0!==arguments&&(s=arguments),"function"==typeof quit&&function(e){quit(e)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(c||f)&&(f?y=self.location.href:document.currentScript&&(y=document.currentScript.src),y=0!==y.indexOf("blob:")?y.substr(0,y.lastIndexOf("/")+1):"",m=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},f&&(p=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){200==n.status||0==n.status&&n.response?t(n.response):r()},n.onerror=r,n.send(null)});var _=a.print||console.log.bind(console),w=a.printErr||console.warn.bind(console);for(o in u)u.hasOwnProperty(o)&&(a[o]=u[o]);u=null,a.arguments&&(s=a.arguments),a.thisProgram&&a.thisProgram,a.quit&&a.quit;function E(e,t,r){return r?+(e>>>0)+4294967296*+(t>>>0):+(e>>>0)+4294967296*+(0|t)}var x,M,A=function(e){e};a.wasmBinary&&(x=a.wasmBinary),a.noExitRuntime&&a.noExitRuntime,"object"!=typeof WebAssembly&&w("no native wasm support detected");var P=new WebAssembly.Table({initial:1629,maximum:1629,element:"anyfunc"}),T=!1;function S(e,t){e||ye("Assertion failed: "+t)}var k="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function C(e,t,r){for(var n=t+r,i=t;e[i]&&!(i>=n);)++i;if(i-t>16&&e.subarray&&k)return k.decode(e.subarray(t,i));for(var o="";t<i;){var a=e[t++];if(128&a){var u=63&e[t++];if(192!=(224&a)){var s=63&e[t++];if((a=224==(240&a)?(15&a)<<12|u<<6|s:(7&a)<<18|u<<12|s<<6|63&e[t++])<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&a)<<6|u)}else o+=String.fromCharCode(a)}return o}function B(e,t){return e?C(U,e,t):""}function D(e,t,r,n){if(!(n>0))return 0;for(var i=r,o=r+n-1,a=0;a<e.length;++a){var u=e.charCodeAt(a);if(u>=55296&&u<=57343)u=65536+((1023&u)<<10)|1023&e.charCodeAt(++a);if(u<=127){if(r>=o)break;t[r++]=u}else if(u<=2047){if(r+1>=o)break;t[r++]=192|u>>6,t[r++]=128|63&u}else if(u<=65535){if(r+2>=o)break;t[r++]=224|u>>12,t[r++]=128|u>>6&63,t[r++]=128|63&u}else{if(r+3>=o)break;t[r++]=240|u>>18,t[r++]=128|u>>12&63,t[r++]=128|u>>6&63,t[r++]=128|63&u}}return t[r]=0,r-i}function F(e,t,r){return D(e,U,t,r)}function I(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++r)),n<=127?++t:t+=n<=2047?2:n<=65535?3:4}return t}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var R,L,U,G,O,V,j,N,$,W=16384,q=65536;function z(e,t){return e%t>0&&(e+=t-e%t),e}function Q(e){R=e,a.HEAP8=L=new Int8Array(e),a.HEAP16=G=new Int16Array(e),a.HEAP32=V=new Int32Array(e),a.HEAPU8=U=new Uint8Array(e),a.HEAPU16=O=new Uint16Array(e),a.HEAPU32=j=new Uint32Array(e),a.HEAPF32=N=new Float32Array(e),a.HEAPF64=$=new Float64Array(e)}var X=5847984,Y=604944,H=a.TOTAL_MEMORY||16777216;function K(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?a.dynCall_v(r):a.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}(M=a.wasmMemory?a.wasmMemory:new WebAssembly.Memory({initial:H/q}))&&(R=M.buffer),H=R.byteLength,Q(R),V[Y>>2]=X;var Z=[],J=[],ee=[],te=[],re=[];function ne(){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)ue(a.preRun.shift());K(Z)}function ie(){!0,a.noFSInit||Ue.init.initialized||Ue.init(),Re.init(),K(J)}function oe(){Ue.ignorePermissions=!1,K(ee)}function ae(){if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;)se(a.postRun.shift());K(re)}function ue(e){Z.unshift(e)}function se(e){re.unshift(e)}var ce=Math.abs,fe=Math.ceil,le=Math.floor,de=Math.min,he=0,me=null,pe=null;function ge(e){he++,a.monitorRunDependencies&&a.monitorRunDependencies(he)}function ve(e){if(he--,a.monitorRunDependencies&&a.monitorRunDependencies(he),0==he&&(null!==me&&(clearInterval(me),me=null),pe)){var t=pe;pe=null,t()}}function ye(e){throw a.onAbort&&a.onAbort(e),_(e+=""),w(e),T=!0,1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}a.preloadedImages={},a.preloadedAudios={};var be="data:application/octet-stream;base64,";function _e(e){return String.prototype.startsWith?e.startsWith(be):0===e.indexOf(be)}var we,Ee,xe="filament.wasm";function Me(){try{if(x)return new Uint8Array(x);if(p)return p(xe);throw"both async and sync fetching of the wasm failed"}catch(e){ye(e)}}function Ae(){return x||!c&&!f||"function"!=typeof fetch?new Promise((function(e,t){e(Me())})):fetch(xe,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+xe+"'";return e.arrayBuffer()})).catch((function(){return Me()}))}function Pe(){var e={env:Bf,wasi_unstable:Bf};function t(e,t){var r=e.exports;a.asm=r,ve()}function r(e){t(e.instance)}function n(t){return Ae().then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){w("failed to asynchronously prepare wasm: "+e),ye(e)}))}if(ge(),a.instantiateWasm)try{return a.instantiateWasm(e,t)}catch(e){return w("Module.instantiateWasm callback failed with error: "+e),!1}return function(){if(x||"function"!=typeof WebAssembly.instantiateStreaming||_e(xe)||"function"!=typeof fetch)return n(r);fetch(xe,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(r,(function(e){w("wasm streaming compile failed: "+e),w("falling back to ArrayBuffer instantiation"),n(r)}))}))}(),{}}function Te(e){return e.replace(/\b_Z[\w\d_]+/g,(function(e){return e===e?e:e+" ["+e+"]"}))}function Se(){var e=new Error;if(!e.stack){try{throw new Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function ke(){var e=Se();return a.extraStackTrace&&(e+="\n"+a.extraStackTrace()),Te(e)}function Ce(e,t){te.unshift({func:e,arg:t})}function Be(){return Ce.apply(null,arguments)}_e(xe)||(xe=b(xe)),J.push({func:function(){If()}});var De={splitPath:function(e){return/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1)},normalizeArray:function(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},normalize:function(e){var t="/"===e.charAt(0),r="/"===e.substr(-1);return(e=De.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},dirname:function(e){var t=De.splitPath(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},basename:function(e){if("/"===e)return"/";var t=e.lastIndexOf("/");return-1===t?e:e.substr(t+1)},extname:function(e){return De.splitPath(e)[3]},join:function(){var e=Array.prototype.slice.call(arguments,0);return De.normalize(e.join("/"))},join2:function(e,t){return De.normalize(e+"/"+t)}};function Fe(e){return a.___errno_location&&(V[a.___errno_location()>>2]=e),e}var Ie={resolve:function(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var n=r>=0?arguments[r]:Ue.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,t="/"===n.charAt(0)}return(t?"/":"")+(e=De.normalizeArray(e.split("/").filter((function(e){return!!e})),!t).join("/"))||"."},relative:function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=Ie.resolve(e).substr(1),t=Ie.resolve(t).substr(1);for(var n=r(e.split("/")),i=r(t.split("/")),o=Math.min(n.length,i.length),a=o,u=0;u<o;u++)if(n[u]!==i[u]){a=u;break}var s=[];for(u=a;u<n.length;u++)s.push("..");return(s=s.concat(i.slice(a))).join("/")}},Re={ttys:[],init:function(){},shutdown:function(){},register:function(e,t){Re.ttys[e]={input:[],output:[],ops:t},Ue.registerDevice(e,Re.stream_ops)},stream_ops:{open:function(e){var t=Re.ttys[e.node.rdev];if(!t)throw new Ue.ErrnoError(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.ops.flush(e.tty)},flush:function(e){e.tty.ops.flush(e.tty)},read:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.get_char)throw new Ue.ErrnoError(60);for(var o=0,a=0;a<n;a++){var u;try{u=e.tty.ops.get_char(e.tty)}catch(e){throw new Ue.ErrnoError(29)}if(void 0===u&&0===o)throw new Ue.ErrnoError(6);if(null==u)break;o++,t[r+a]=u}return o&&(e.node.timestamp=Date.now()),o},write:function(e,t,r,n,i){if(!e.tty||!e.tty.ops.put_char)throw new Ue.ErrnoError(60);try{for(var o=0;o<n;o++)e.tty.ops.put_char(e.tty,t[r+o])}catch(e){throw new Ue.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(e){if(!e.input.length){var r=null;if(l){var n=i.alloc?i.alloc(256):new i(256),o=0;try{o=g.readSync(t.stdin.fd,n,0,256,null)}catch(e){if(-1==e.toString().indexOf("EOF"))throw e;o=0}r=o>0?n.slice(0,o).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(r=window.prompt("Input: "))&&(r+="\n"):"function"==typeof readline&&null!==(r=readline())&&(r+="\n");if(!r)return null;e.input=Cf(r,!0)}return e.input.shift()},put_char:function(e,t){null===t||10===t?(_(C(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(_(C(e.output,0)),e.output=[])}},default_tty1_ops:{put_char:function(e,t){null===t||10===t?(w(C(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},flush:function(e){e.output&&e.output.length>0&&(w(C(e.output,0)),e.output=[])}}},Le={ops_table:null,mount:function(e){return Le.createNode(null,"/",16895,0)},createNode:function(e,t,r,n){if(Ue.isBlkdev(r)||Ue.isFIFO(r))throw new Ue.ErrnoError(63);Le.ops_table||(Le.ops_table={dir:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr,lookup:Le.node_ops.lookup,mknod:Le.node_ops.mknod,rename:Le.node_ops.rename,unlink:Le.node_ops.unlink,rmdir:Le.node_ops.rmdir,readdir:Le.node_ops.readdir,symlink:Le.node_ops.symlink},stream:{llseek:Le.stream_ops.llseek}},file:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr},stream:{llseek:Le.stream_ops.llseek,read:Le.stream_ops.read,write:Le.stream_ops.write,allocate:Le.stream_ops.allocate,mmap:Le.stream_ops.mmap,msync:Le.stream_ops.msync}},link:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr,readlink:Le.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Le.node_ops.getattr,setattr:Le.node_ops.setattr},stream:Ue.chrdev_stream_ops}});var i=Ue.createNode(e,t,r,n);return Ue.isDir(i.mode)?(i.node_ops=Le.ops_table.dir.node,i.stream_ops=Le.ops_table.dir.stream,i.contents={}):Ue.isFile(i.mode)?(i.node_ops=Le.ops_table.file.node,i.stream_ops=Le.ops_table.file.stream,i.usedBytes=0,i.contents=null):Ue.isLink(i.mode)?(i.node_ops=Le.ops_table.link.node,i.stream_ops=Le.ops_table.link.stream):Ue.isChrdev(i.mode)&&(i.node_ops=Le.ops_table.chrdev.node,i.stream_ops=Le.ops_table.chrdev.stream),i.timestamp=Date.now(),e&&(e.contents[t]=i),i},getFileDataAsRegularArray:function(e){if(e.contents&&e.contents.subarray){for(var t=[],r=0;r<e.usedBytes;++r)t.push(e.contents[r]);return t}return e.contents},getFileDataAsTypedArray:function(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array},expandFileStorage:function(e,t){var r=e.contents?e.contents.length:0;if(!(r>=t)){t=Math.max(t,r*(r<1048576?2:1.125)|0),0!=r&&(t=Math.max(t,256));var n=e.contents;e.contents=new Uint8Array(t),e.usedBytes>0&&e.contents.set(n.subarray(0,e.usedBytes),0)}},resizeFileStorage:function(e,t){if(e.usedBytes!=t){if(0==t)return e.contents=null,void(e.usedBytes=0);if(!e.contents||e.contents.subarray){var r=e.contents;return e.contents=new Uint8Array(new ArrayBuffer(t)),r&&e.contents.set(r.subarray(0,Math.min(t,e.usedBytes))),void(e.usedBytes=t)}if(e.contents||(e.contents=[]),e.contents.length>t)e.contents.length=t;else for(;e.contents.length<t;)e.contents.push(0);e.usedBytes=t}},node_ops:{getattr:function(e){var t={};return t.dev=Ue.isChrdev(e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,Ue.isDir(e.mode)?t.size=4096:Ue.isFile(e.mode)?t.size=e.usedBytes:Ue.isLink(e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&Le.resizeFileStorage(e,t.size)},lookup:function(e,t){throw Ue.genericErrors[44]},mknod:function(e,t,r,n){return Le.createNode(e,t,r,n)},rename:function(e,t,r){if(Ue.isDir(e.mode)){var n;try{n=Ue.lookupNode(t,r)}catch(e){}if(n)for(var i in n.contents)throw new Ue.ErrnoError(55)}delete e.parent.contents[e.name],e.name=r,t.contents[r]=e,e.parent=t},unlink:function(e,t){delete e.contents[t]},rmdir:function(e,t){var r=Ue.lookupNode(e,t);for(var n in r.contents)throw new Ue.ErrnoError(55);delete e.contents[t]},readdir:function(e){var t=[".",".."];for(var r in e.contents)e.contents.hasOwnProperty(r)&&t.push(r);return t},symlink:function(e,t,r){var n=Le.createNode(e,t,41471,0);return n.link=r,n},readlink:function(e){if(!Ue.isLink(e.mode))throw new Ue.ErrnoError(28);return e.link}},stream_ops:{read:function(e,t,r,n,i){var o=e.node.contents;if(i>=e.node.usedBytes)return 0;var a=Math.min(e.node.usedBytes-i,n);if(a>8&&o.subarray)t.set(o.subarray(i,i+a),r);else for(var u=0;u<a;u++)t[r+u]=o[i+u];return a},write:function(e,t,r,n,i,o){if(!1,!n)return 0;var a=e.node;if(a.timestamp=Date.now(),t.subarray&&(!a.contents||a.contents.subarray)){if(0===a.usedBytes&&0===i)return a.contents=new Uint8Array(t.subarray(r,r+n)),a.usedBytes=n,n;if(i+n<=a.usedBytes)return a.contents.set(t.subarray(r,r+n),i),n}if(Le.expandFileStorage(a,i+n),a.contents.subarray&&t.subarray)a.contents.set(t.subarray(r,r+n),i);else for(var u=0;u<n;u++)a.contents[i+u]=t[r+u];return a.usedBytes=Math.max(a.usedBytes,i+n),n},llseek:function(e,t,r){var n=t;if(1===r?n+=e.position:2===r&&Ue.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new Ue.ErrnoError(28);return n},allocate:function(e,t,r){Le.expandFileStorage(e.node,t+r),e.node.usedBytes=Math.max(e.node.usedBytes,t+r)},mmap:function(e,t,r,n,i,o,a){if(!Ue.isFile(e.node.mode))throw new Ue.ErrnoError(43);var u,s,c=e.node.contents;if(2&a||c.buffer!==t&&c.buffer!==t.buffer){(i>0||i+n<e.node.usedBytes)&&(c=c.subarray?c.subarray(i,i+n):Array.prototype.slice.call(c,i,i+n)),s=!0;var f=t.buffer==L.buffer;if(!(u=Lf(n)))throw new Ue.ErrnoError(48);(f?L:t).set(c,u)}else s=!1,u=c.byteOffset;return{ptr:u,allocated:s}},msync:function(e,t,r,n,i){if(!Ue.isFile(e.node.mode))throw new Ue.ErrnoError(43);if(2&i)return 0;Le.stream_ops.write(e,t,0,n,r,!1);return 0}}},Ue={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,trackingDelegate:{},tracking:{openFlags:{READ:1,WRITE:2}},ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,handleFSError:function(e){if(!(e instanceof Ue.ErrnoError))throw e+" : "+ke();return Fe(e.errno)},lookupPath:function(e,t){if(t=t||{},!(e=Ie.resolve(Ue.cwd(),e)))return{path:"",node:null};var r={follow_mount:!0,recurse_count:0};for(var n in r)void 0===t[n]&&(t[n]=r[n]);if(t.recurse_count>8)throw new Ue.ErrnoError(32);for(var i=De.normalizeArray(e.split("/").filter((function(e){return!!e})),!1),o=Ue.root,a="/",u=0;u<i.length;u++){var s=u===i.length-1;if(s&&t.parent)break;if(o=Ue.lookupNode(o,i[u]),a=De.join2(a,i[u]),Ue.isMountpoint(o)&&(!s||s&&t.follow_mount)&&(o=o.mounted.root),!s||t.follow)for(var c=0;Ue.isLink(o.mode);){var f=Ue.readlink(a);if(a=Ie.resolve(De.dirname(a),f),o=Ue.lookupPath(a,{recurse_count:t.recurse_count}).node,c++>40)throw new Ue.ErrnoError(32)}}return{path:a,node:o}},getPath:function(e){for(var t;;){if(Ue.isRoot(e)){var r=e.mount.mountpoint;return t?"/"!==r[r.length-1]?r+"/"+t:r+t:r}t=t?e.name+"/"+t:e.name,e=e.parent}},hashName:function(e,t){for(var r=0,n=0;n<t.length;n++)r=(r<<5)-r+t.charCodeAt(n)|0;return(e+r>>>0)%Ue.nameTable.length},hashAddNode:function(e){var t=Ue.hashName(e.parent.id,e.name);e.name_next=Ue.nameTable[t],Ue.nameTable[t]=e},hashRemoveNode:function(e){var t=Ue.hashName(e.parent.id,e.name);if(Ue.nameTable[t]===e)Ue.nameTable[t]=e.name_next;else for(var r=Ue.nameTable[t];r;){if(r.name_next===e){r.name_next=e.name_next;break}r=r.name_next}},lookupNode:function(e,t){var r=Ue.mayLookup(e);if(r)throw new Ue.ErrnoError(r,e);for(var n=Ue.hashName(e.id,t),i=Ue.nameTable[n];i;i=i.name_next){var o=i.name;if(i.parent.id===e.id&&o===t)return i}return Ue.lookup(e,t)},createNode:function(e,t,r,n){if(!Ue.FSNode){Ue.FSNode=function(e,t,r,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=Ue.nextInode++,this.name=t,this.mode=r,this.node_ops={},this.stream_ops={},this.rdev=n},Ue.FSNode.prototype={};Object.defineProperties(Ue.FSNode.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}},isFolder:{get:function(){return Ue.isDir(this.mode)}},isDevice:{get:function(){return Ue.isChrdev(this.mode)}}})}var i=new Ue.FSNode(e,t,r,n);return Ue.hashAddNode(i),i},destroyNode:function(e){Ue.hashRemoveNode(e)},isRoot:function(e){return e===e.parent},isMountpoint:function(e){return!!e.mounted},isFile:function(e){return 32768==(61440&e)},isDir:function(e){return 16384==(61440&e)},isLink:function(e){return 40960==(61440&e)},isChrdev:function(e){return 8192==(61440&e)},isBlkdev:function(e){return 24576==(61440&e)},isFIFO:function(e){return 4096==(61440&e)},isSocket:function(e){return 49152==(49152&e)},flagModes:{r:0,rs:1052672,"r+":2,w:577,wx:705,xw:705,"w+":578,"wx+":706,"xw+":706,a:1089,ax:1217,xa:1217,"a+":1090,"ax+":1218,"xa+":1218},modeStringToFlags:function(e){var t=Ue.flagModes[e];if(void 0===t)throw new Error("Unknown file open mode: "+e);return t},flagsToPermissionString:function(e){var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},nodePermissions:function(e,t){return Ue.ignorePermissions?0:(-1===t.indexOf("r")||292&e.mode)&&(-1===t.indexOf("w")||146&e.mode)&&(-1===t.indexOf("x")||73&e.mode)?0:2},mayLookup:function(e){var t=Ue.nodePermissions(e,"x");return t||(e.node_ops.lookup?0:2)},mayCreate:function(e,t){try{Ue.lookupNode(e,t);return 20}catch(e){}return Ue.nodePermissions(e,"wx")},mayDelete:function(e,t,r){var n;try{n=Ue.lookupNode(e,t)}catch(e){return e.errno}var i=Ue.nodePermissions(e,"wx");if(i)return i;if(r){if(!Ue.isDir(n.mode))return 54;if(Ue.isRoot(n)||Ue.getPath(n)===Ue.cwd())return 10}else if(Ue.isDir(n.mode))return 31;return 0},mayOpen:function(e,t){return e?Ue.isLink(e.mode)?32:Ue.isDir(e.mode)&&("r"!==Ue.flagsToPermissionString(t)||512&t)?31:Ue.nodePermissions(e,Ue.flagsToPermissionString(t)):44},MAX_OPEN_FDS:4096,nextfd:function(e,t){e=e||0,t=t||Ue.MAX_OPEN_FDS;for(var r=e;r<=t;r++)if(!Ue.streams[r])return r;throw new Ue.ErrnoError(33)},getStream:function(e){return Ue.streams[e]},createStream:function(e,t,r){Ue.FSStream||(Ue.FSStream=function(){},Ue.FSStream.prototype={},Object.defineProperties(Ue.FSStream.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},isRead:{get:function(){return 1!=(2097155&this.flags)}},isWrite:{get:function(){return 0!=(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}}));var n=new Ue.FSStream;for(var i in e)n[i]=e[i];e=n;var o=Ue.nextfd(t,r);return e.fd=o,Ue.streams[o]=e,e},closeStream:function(e){Ue.streams[e]=null},chrdev_stream_ops:{open:function(e){var t=Ue.getDevice(e.node.rdev);e.stream_ops=t.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek:function(){throw new Ue.ErrnoError(70)}},major:function(e){return e>>8},minor:function(e){return 255&e},makedev:function(e,t){return e<<8|t},registerDevice:function(e,t){Ue.devices[e]={stream_ops:t}},getDevice:function(e){return Ue.devices[e]},getMounts:function(e){for(var t=[],r=[e];r.length;){var n=r.pop();t.push(n),r.push.apply(r,n.mounts)}return t},syncfs:function(e,t){"function"==typeof e&&(t=e,e=!1),Ue.syncFSRequests++,Ue.syncFSRequests>1&&console.log("warning: "+Ue.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var r=Ue.getMounts(Ue.root.mount),n=0;function i(e){return Ue.syncFSRequests--,t(e)}function o(e){if(e)return o.errored?void 0:(o.errored=!0,i(e));++n>=r.length&&i(null)}r.forEach((function(t){if(!t.type.syncfs)return o(null);t.type.syncfs(t,e,o)}))},mount:function(e,t,r){var n,i="/"===r,o=!r;if(i&&Ue.root)throw new Ue.ErrnoError(10);if(!i&&!o){var a=Ue.lookupPath(r,{follow_mount:!1});if(r=a.path,n=a.node,Ue.isMountpoint(n))throw new Ue.ErrnoError(10);if(!Ue.isDir(n.mode))throw new Ue.ErrnoError(54)}var u={type:e,opts:t,mountpoint:r,mounts:[]},s=e.mount(u);return s.mount=u,u.root=s,i?Ue.root=s:n&&(n.mounted=u,n.mount&&n.mount.mounts.push(u)),s},unmount:function(e){var t=Ue.lookupPath(e,{follow_mount:!1});if(!Ue.isMountpoint(t.node))throw new Ue.ErrnoError(28);var r=t.node,n=r.mounted,i=Ue.getMounts(n);Object.keys(Ue.nameTable).forEach((function(e){for(var t=Ue.nameTable[e];t;){var r=t.name_next;-1!==i.indexOf(t.mount)&&Ue.destroyNode(t),t=r}})),r.mounted=null;var o=r.mount.mounts.indexOf(n);r.mount.mounts.splice(o,1)},lookup:function(e,t){return e.node_ops.lookup(e,t)},mknod:function(e,t,r){var n=Ue.lookupPath(e,{parent:!0}).node,i=De.basename(e);if(!i||"."===i||".."===i)throw new Ue.ErrnoError(28);var o=Ue.mayCreate(n,i);if(o)throw new Ue.ErrnoError(o);if(!n.node_ops.mknod)throw new Ue.ErrnoError(63);return n.node_ops.mknod(n,i,t,r)},create:function(e,t){return t=void 0!==t?t:438,t&=4095,t|=32768,Ue.mknod(e,t,0)},mkdir:function(e,t){return t=void 0!==t?t:511,t&=1023,t|=16384,Ue.mknod(e,t,0)},mkdirTree:function(e,t){for(var r=e.split("/"),n="",i=0;i<r.length;++i)if(r[i]){n+="/"+r[i];try{Ue.mkdir(n,t)}catch(e){if(20!=e.errno)throw e}}},mkdev:function(e,t,r){return void 0===r&&(r=t,t=438),t|=8192,Ue.mknod(e,t,r)},symlink:function(e,t){if(!Ie.resolve(e))throw new Ue.ErrnoError(44);var r=Ue.lookupPath(t,{parent:!0}).node;if(!r)throw new Ue.ErrnoError(44);var n=De.basename(t),i=Ue.mayCreate(r,n);if(i)throw new Ue.ErrnoError(i);if(!r.node_ops.symlink)throw new Ue.ErrnoError(63);return r.node_ops.symlink(r,n,e)},rename:function(e,t){var r,n,i=De.dirname(e),o=De.dirname(t),a=De.basename(e),u=De.basename(t);try{r=Ue.lookupPath(e,{parent:!0}).node,n=Ue.lookupPath(t,{parent:!0}).node}catch(e){throw new Ue.ErrnoError(10)}if(!r||!n)throw new Ue.ErrnoError(44);if(r.mount!==n.mount)throw new Ue.ErrnoError(75);var s,c=Ue.lookupNode(r,a),f=Ie.relative(e,o);if("."!==f.charAt(0))throw new Ue.ErrnoError(28);if("."!==(f=Ie.relative(t,i)).charAt(0))throw new Ue.ErrnoError(55);try{s=Ue.lookupNode(n,u)}catch(e){}if(c!==s){var l=Ue.isDir(c.mode),d=Ue.mayDelete(r,a,l);if(d)throw new Ue.ErrnoError(d);if(d=s?Ue.mayDelete(n,u,l):Ue.mayCreate(n,u))throw new Ue.ErrnoError(d);if(!r.node_ops.rename)throw new Ue.ErrnoError(63);if(Ue.isMountpoint(c)||s&&Ue.isMountpoint(s))throw new Ue.ErrnoError(10);if(n!==r&&(d=Ue.nodePermissions(r,"w")))throw new Ue.ErrnoError(d);try{Ue.trackingDelegate.willMovePath&&Ue.trackingDelegate.willMovePath(e,t)}catch(r){console.log("FS.trackingDelegate['willMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}Ue.hashRemoveNode(c);try{r.node_ops.rename(c,n,u)}catch(e){throw e}finally{Ue.hashAddNode(c)}try{Ue.trackingDelegate.onMovePath&&Ue.trackingDelegate.onMovePath(e,t)}catch(r){console.log("FS.trackingDelegate['onMovePath']('"+e+"', '"+t+"') threw an exception: "+r.message)}}},rmdir:function(e){var t=Ue.lookupPath(e,{parent:!0}).node,r=De.basename(e),n=Ue.lookupNode(t,r),i=Ue.mayDelete(t,r,!0);if(i)throw new Ue.ErrnoError(i);if(!t.node_ops.rmdir)throw new Ue.ErrnoError(63);if(Ue.isMountpoint(n))throw new Ue.ErrnoError(10);try{Ue.trackingDelegate.willDeletePath&&Ue.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.rmdir(t,r),Ue.destroyNode(n);try{Ue.trackingDelegate.onDeletePath&&Ue.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readdir:function(e){var t=Ue.lookupPath(e,{follow:!0}).node;if(!t.node_ops.readdir)throw new Ue.ErrnoError(54);return t.node_ops.readdir(t)},unlink:function(e){var t=Ue.lookupPath(e,{parent:!0}).node,r=De.basename(e),n=Ue.lookupNode(t,r),i=Ue.mayDelete(t,r,!1);if(i)throw new Ue.ErrnoError(i);if(!t.node_ops.unlink)throw new Ue.ErrnoError(63);if(Ue.isMountpoint(n))throw new Ue.ErrnoError(10);try{Ue.trackingDelegate.willDeletePath&&Ue.trackingDelegate.willDeletePath(e)}catch(t){console.log("FS.trackingDelegate['willDeletePath']('"+e+"') threw an exception: "+t.message)}t.node_ops.unlink(t,r),Ue.destroyNode(n);try{Ue.trackingDelegate.onDeletePath&&Ue.trackingDelegate.onDeletePath(e)}catch(t){console.log("FS.trackingDelegate['onDeletePath']('"+e+"') threw an exception: "+t.message)}},readlink:function(e){var t=Ue.lookupPath(e).node;if(!t)throw new Ue.ErrnoError(44);if(!t.node_ops.readlink)throw new Ue.ErrnoError(28);return Ie.resolve(Ue.getPath(t.parent),t.node_ops.readlink(t))},stat:function(e,t){var r=Ue.lookupPath(e,{follow:!t}).node;if(!r)throw new Ue.ErrnoError(44);if(!r.node_ops.getattr)throw new Ue.ErrnoError(63);return r.node_ops.getattr(r)},lstat:function(e){return Ue.stat(e,!0)},chmod:function(e,t,r){var n;"string"==typeof e?n=Ue.lookupPath(e,{follow:!r}).node:n=e;if(!n.node_ops.setattr)throw new Ue.ErrnoError(63);n.node_ops.setattr(n,{mode:4095&t|-4096&n.mode,timestamp:Date.now()})},lchmod:function(e,t){Ue.chmod(e,t,!0)},fchmod:function(e,t){var r=Ue.getStream(e);if(!r)throw new Ue.ErrnoError(8);Ue.chmod(r.node,t)},chown:function(e,t,r,n){var i;"string"==typeof e?i=Ue.lookupPath(e,{follow:!n}).node:i=e;if(!i.node_ops.setattr)throw new Ue.ErrnoError(63);i.node_ops.setattr(i,{timestamp:Date.now()})},lchown:function(e,t,r){Ue.chown(e,t,r,!0)},fchown:function(e,t,r){var n=Ue.getStream(e);if(!n)throw new Ue.ErrnoError(8);Ue.chown(n.node,t,r)},truncate:function(e,t){if(t<0)throw new Ue.ErrnoError(28);var r;"string"==typeof e?r=Ue.lookupPath(e,{follow:!0}).node:r=e;if(!r.node_ops.setattr)throw new Ue.ErrnoError(63);if(Ue.isDir(r.mode))throw new Ue.ErrnoError(31);if(!Ue.isFile(r.mode))throw new Ue.ErrnoError(28);var n=Ue.nodePermissions(r,"w");if(n)throw new Ue.ErrnoError(n);r.node_ops.setattr(r,{size:t,timestamp:Date.now()})},ftruncate:function(e,t){var r=Ue.getStream(e);if(!r)throw new Ue.ErrnoError(8);if(0==(2097155&r.flags))throw new Ue.ErrnoError(28);Ue.truncate(r.node,t)},utime:function(e,t,r){var n=Ue.lookupPath(e,{follow:!0}).node;n.node_ops.setattr(n,{timestamp:Math.max(t,r)})},open:function(e,t,r,n,i){if(""===e)throw new Ue.ErrnoError(44);var o;if(r=void 0===r?438:r,r=64&(t="string"==typeof t?Ue.modeStringToFlags(t):t)?4095&r|32768:0,"object"==typeof e)o=e;else{e=De.normalize(e);try{o=Ue.lookupPath(e,{follow:!(131072&t)}).node}catch(e){}}var u=!1;if(64&t)if(o){if(128&t)throw new Ue.ErrnoError(20)}else o=Ue.mknod(e,r,0),u=!0;if(!o)throw new Ue.ErrnoError(44);if(Ue.isChrdev(o.mode)&&(t&=-513),65536&t&&!Ue.isDir(o.mode))throw new Ue.ErrnoError(54);if(!u){var s=Ue.mayOpen(o,t);if(s)throw new Ue.ErrnoError(s)}512&t&&Ue.truncate(o,0),t&=-641;var c=Ue.createStream({node:o,path:Ue.getPath(o),flags:t,seekable:!0,position:0,stream_ops:o.stream_ops,ungotten:[],error:!1},n,i);c.stream_ops.open&&c.stream_ops.open(c),!a.logReadFiles||1&t||(Ue.readFiles||(Ue.readFiles={}),e in Ue.readFiles||(Ue.readFiles[e]=1,console.log("FS.trackingDelegate error on read file: "+e)));try{if(Ue.trackingDelegate.onOpenFile){var f=0;1!=(2097155&t)&&(f|=Ue.tracking.openFlags.READ),0!=(2097155&t)&&(f|=Ue.tracking.openFlags.WRITE),Ue.trackingDelegate.onOpenFile(e,f)}}catch(t){console.log("FS.trackingDelegate['onOpenFile']('"+e+"', flags) threw an exception: "+t.message)}return c},close:function(e){if(Ue.isClosed(e))throw new Ue.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(e){throw e}finally{Ue.closeStream(e.fd)}e.fd=null},isClosed:function(e){return null===e.fd},llseek:function(e,t,r){if(Ue.isClosed(e))throw new Ue.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new Ue.ErrnoError(70);if(0!=r&&1!=r&&2!=r)throw new Ue.ErrnoError(28);return e.position=e.stream_ops.llseek(e,t,r),e.ungotten=[],e.position},read:function(e,t,r,n,i){if(n<0||i<0)throw new Ue.ErrnoError(28);if(Ue.isClosed(e))throw new Ue.ErrnoError(8);if(1==(2097155&e.flags))throw new Ue.ErrnoError(8);if(Ue.isDir(e.node.mode))throw new Ue.ErrnoError(31);if(!e.stream_ops.read)throw new Ue.ErrnoError(28);var o=void 0!==i;if(o){if(!e.seekable)throw new Ue.ErrnoError(70)}else i=e.position;var a=e.stream_ops.read(e,t,r,n,i);return o||(e.position+=a),a},write:function(e,t,r,n,i,o){if(n<0||i<0)throw new Ue.ErrnoError(28);if(Ue.isClosed(e))throw new Ue.ErrnoError(8);if(0==(2097155&e.flags))throw new Ue.ErrnoError(8);if(Ue.isDir(e.node.mode))throw new Ue.ErrnoError(31);if(!e.stream_ops.write)throw new Ue.ErrnoError(28);1024&e.flags&&Ue.llseek(e,0,2);var a=void 0!==i;if(a){if(!e.seekable)throw new Ue.ErrnoError(70)}else i=e.position;var u=e.stream_ops.write(e,t,r,n,i,o);a||(e.position+=u);try{e.path&&Ue.trackingDelegate.onWriteToFile&&Ue.trackingDelegate.onWriteToFile(e.path)}catch(t){console.log("FS.trackingDelegate['onWriteToFile']('"+e.path+"') threw an exception: "+t.message)}return u},allocate:function(e,t,r){if(Ue.isClosed(e))throw new Ue.ErrnoError(8);if(t<0||r<=0)throw new Ue.ErrnoError(28);if(0==(2097155&e.flags))throw new Ue.ErrnoError(8);if(!Ue.isFile(e.node.mode)&&!Ue.isDir(e.node.mode))throw new Ue.ErrnoError(43);if(!e.stream_ops.allocate)throw new Ue.ErrnoError(138);e.stream_ops.allocate(e,t,r)},mmap:function(e,t,r,n,i,o,a){if(0!=(2&o)&&0==(2&a)&&2!=(2097155&e.flags))throw new Ue.ErrnoError(2);if(1==(2097155&e.flags))throw new Ue.ErrnoError(2);if(!e.stream_ops.mmap)throw new Ue.ErrnoError(43);return e.stream_ops.mmap(e,t,r,n,i,o,a)},msync:function(e,t,r,n,i){return e&&e.stream_ops.msync?e.stream_ops.msync(e,t,r,n,i):0},munmap:function(e){return 0},ioctl:function(e,t,r){if(!e.stream_ops.ioctl)throw new Ue.ErrnoError(59);return e.stream_ops.ioctl(e,t,r)},readFile:function(e,t){if((t=t||{}).flags=t.flags||"r",t.encoding=t.encoding||"binary","utf8"!==t.encoding&&"binary"!==t.encoding)throw new Error('Invalid encoding type "'+t.encoding+'"');var r,n=Ue.open(e,t.flags),i=Ue.stat(e).size,o=new Uint8Array(i);return Ue.read(n,o,0,i,0),"utf8"===t.encoding?r=C(o,0):"binary"===t.encoding&&(r=o),Ue.close(n),r},writeFile:function(e,t,r){(r=r||{}).flags=r.flags||"w";var n=Ue.open(e,r.flags,r.mode);if("string"==typeof t){var i=new Uint8Array(I(t)+1),o=D(t,i,0,i.length);Ue.write(n,i,0,o,void 0,r.canOwn)}else{if(!ArrayBuffer.isView(t))throw new Error("Unsupported data type");Ue.write(n,t,0,t.byteLength,void 0,r.canOwn)}Ue.close(n)},cwd:function(){return Ue.currentPath},chdir:function(e){var t=Ue.lookupPath(e,{follow:!0});if(null===t.node)throw new Ue.ErrnoError(44);if(!Ue.isDir(t.node.mode))throw new Ue.ErrnoError(54);var r=Ue.nodePermissions(t.node,"x");if(r)throw new Ue.ErrnoError(r);Ue.currentPath=t.path},createDefaultDirectories:function(){Ue.mkdir("/tmp"),Ue.mkdir("/home"),Ue.mkdir("/home/web_user")},createDefaultDevices:function(){var e;if(Ue.mkdir("/dev"),Ue.registerDevice(Ue.makedev(1,3),{read:function(){return 0},write:function(e,t,r,n,i){return n}}),Ue.mkdev("/dev/null",Ue.makedev(1,3)),Re.register(Ue.makedev(5,0),Re.default_tty_ops),Re.register(Ue.makedev(6,0),Re.default_tty1_ops),Ue.mkdev("/dev/tty",Ue.makedev(5,0)),Ue.mkdev("/dev/tty1",Ue.makedev(6,0)),"object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var t=new Uint8Array(1);e=function(){return crypto.getRandomValues(t),t[0]}}else if(l)try{var n=r(13);e=function(){return n.randomBytes(1)[0]}}catch(e){}e||(e=function(){ye("random_device")}),Ue.createDevice("/dev","random",e),Ue.createDevice("/dev","urandom",e),Ue.mkdir("/dev/shm"),Ue.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Ue.mkdir("/proc"),Ue.mkdir("/proc/self"),Ue.mkdir("/proc/self/fd"),Ue.mount({mount:function(){var e=Ue.createNode("/proc/self","fd",16895,73);return e.node_ops={lookup:function(e,t){var r=+t,n=Ue.getStream(r);if(!n)throw new Ue.ErrnoError(8);var i={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return n.path}}};return i.parent=i,i}},e}},{},"/proc/self/fd")},createStandardStreams:function(){a.stdin?Ue.createDevice("/dev","stdin",a.stdin):Ue.symlink("/dev/tty","/dev/stdin"),a.stdout?Ue.createDevice("/dev","stdout",null,a.stdout):Ue.symlink("/dev/tty","/dev/stdout"),a.stderr?Ue.createDevice("/dev","stderr",null,a.stderr):Ue.symlink("/dev/tty1","/dev/stderr");Ue.open("/dev/stdin","r"),Ue.open("/dev/stdout","w"),Ue.open("/dev/stderr","w")},ensureErrnoError:function(){Ue.ErrnoError||(Ue.ErrnoError=function(e,t){this.node=t,this.setErrno=function(e){this.errno=e},this.setErrno(e),this.message="FS error"},Ue.ErrnoError.prototype=new Error,Ue.ErrnoError.prototype.constructor=Ue.ErrnoError,[44].forEach((function(e){Ue.genericErrors[e]=new Ue.ErrnoError(e),Ue.genericErrors[e].stack="<generic error, no stack>"})))},staticInit:function(){Ue.ensureErrnoError(),Ue.nameTable=new Array(4096),Ue.mount(Le,{},"/"),Ue.createDefaultDirectories(),Ue.createDefaultDevices(),Ue.createSpecialDirectories(),Ue.filesystems={MEMFS:Le}},init:function(e,t,r){Ue.init.initialized=!0,Ue.ensureErrnoError(),a.stdin=e||a.stdin,a.stdout=t||a.stdout,a.stderr=r||a.stderr,Ue.createStandardStreams()},quit:function(){Ue.init.initialized=!1;var e=a._fflush;e&&e(0);for(var t=0;t<Ue.streams.length;t++){var r=Ue.streams[t];r&&Ue.close(r)}},getMode:function(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r},joinPath:function(e,t){var r=De.join.apply(null,e);return t&&"/"==r[0]&&(r=r.substr(1)),r},absolutePath:function(e,t){return Ie.resolve(t,e)},standardizePath:function(e){return De.normalize(e)},findObject:function(e,t){var r=Ue.analyzePath(e,t);return r.exists?r.object:(Fe(r.error),null)},analyzePath:function(e,t){try{e=(n=Ue.lookupPath(e,{follow:!t})).path}catch(e){}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var n=Ue.lookupPath(e,{parent:!0});r.parentExists=!0,r.parentPath=n.path,r.parentObject=n.node,r.name=De.basename(e),n=Ue.lookupPath(e,{follow:!t}),r.exists=!0,r.path=n.path,r.object=n.node,r.name=n.node.name,r.isRoot="/"===n.path}catch(e){r.error=e.errno}return r},createFolder:function(e,t,r,n){var i=De.join2("string"==typeof e?e:Ue.getPath(e),t),o=Ue.getMode(r,n);return Ue.mkdir(i,o)},createPath:function(e,t,r,n){e="string"==typeof e?e:Ue.getPath(e);for(var i=t.split("/").reverse();i.length;){var o=i.pop();if(o){var a=De.join2(e,o);try{Ue.mkdir(a)}catch(e){}e=a}}return a},createFile:function(e,t,r,n,i){var o=De.join2("string"==typeof e?e:Ue.getPath(e),t),a=Ue.getMode(n,i);return Ue.create(o,a)},createDataFile:function(e,t,r,n,i,o){var a=t?De.join2("string"==typeof e?e:Ue.getPath(e),t):e,u=Ue.getMode(n,i),s=Ue.create(a,u);if(r){if("string"==typeof r){for(var c=new Array(r.length),f=0,l=r.length;f<l;++f)c[f]=r.charCodeAt(f);r=c}Ue.chmod(s,146|u);var d=Ue.open(s,"w");Ue.write(d,r,0,r.length,0,o),Ue.close(d),Ue.chmod(s,u)}return s},createDevice:function(e,t,r,n){var i=De.join2("string"==typeof e?e:Ue.getPath(e),t),o=Ue.getMode(!!r,!!n);Ue.createDevice.major||(Ue.createDevice.major=64);var a=Ue.makedev(Ue.createDevice.major++,0);return Ue.registerDevice(a,{open:function(e){e.seekable=!1},close:function(e){n&&n.buffer&&n.buffer.length&&n(10)},read:function(e,t,n,i,o){for(var a=0,u=0;u<i;u++){var s;try{s=r()}catch(e){throw new Ue.ErrnoError(29)}if(void 0===s&&0===a)throw new Ue.ErrnoError(6);if(null==s)break;a++,t[n+u]=s}return a&&(e.node.timestamp=Date.now()),a},write:function(e,t,r,i,o){for(var a=0;a<i;a++)try{n(t[r+a])}catch(e){throw new Ue.ErrnoError(29)}return i&&(e.node.timestamp=Date.now()),a}}),Ue.mkdev(i,o,a)},createLink:function(e,t,r,n,i){var o=De.join2("string"==typeof e?e:Ue.getPath(e),t);return Ue.symlink(r,o)},forceLoadFile:function(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;var t=!0;if("undefined"!=typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!m)throw new Error("Cannot load without read() or XMLHttpRequest.");try{e.contents=Cf(m(e.url),!0),e.usedBytes=e.contents.length}catch(e){t=!1}return t||Fe(29),t},createLazyFile:function(e,t,r,n,i){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(e){if(!(e>this.length-1||e<0)){var t=e%this.chunkSize,r=e/this.chunkSize|0;return this.getter(r)[t]}},o.prototype.setDataGetter=function(e){this.getter=e},o.prototype.cacheLength=function(){var e=new XMLHttpRequest;if(e.open("HEAD",r,!1),e.send(null),!(e.status>=200&&e.status<300||304===e.status))throw new Error("Couldn't load "+r+". Status: "+e.status);var t,n=Number(e.getResponseHeader("Content-length")),i=(t=e.getResponseHeader("Accept-Ranges"))&&"bytes"===t,o=(t=e.getResponseHeader("Content-Encoding"))&&"gzip"===t,a=1048576;i||(a=n);var u=this;u.setDataGetter((function(e){var t=e*a,i=(e+1)*a-1;if(i=Math.min(i,n-1),void 0===u.chunks[e]&&(u.chunks[e]=function(e,t){if(e>t)throw new Error("invalid range ("+e+", "+t+") or no bytes requested!");if(t>n-1)throw new Error("only "+n+" bytes available! programmer error!");var i=new XMLHttpRequest;if(i.open("GET",r,!1),n!==a&&i.setRequestHeader("Range","bytes="+e+"-"+t),"undefined"!=typeof Uint8Array&&(i.responseType="arraybuffer"),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.send(null),!(i.status>=200&&i.status<300||304===i.status))throw new Error("Couldn't load "+r+". Status: "+i.status);return void 0!==i.response?new Uint8Array(i.response||[]):Cf(i.responseText||"",!0)}(t,i)),void 0===u.chunks[e])throw new Error("doXHR failed!");return u.chunks[e]})),!o&&n||(a=n=1,n=this.getter(0).length,a=n,console.log("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=n,this._chunkSize=a,this.lengthKnown=!0},"undefined"!=typeof XMLHttpRequest){if(!f)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var a=new o;Object.defineProperties(a,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var u={isDevice:!1,contents:a}}else u={isDevice:!1,url:r};var s=Ue.createFile(e,t,u,n,i);u.contents?s.contents=u.contents:u.url&&(s.contents=null,s.url=u.url),Object.defineProperties(s,{usedBytes:{get:function(){return this.contents.length}}});var c={};return Object.keys(s.stream_ops).forEach((function(e){var t=s.stream_ops[e];c[e]=function(){if(!Ue.forceLoadFile(s))throw new Ue.ErrnoError(29);return t.apply(null,arguments)}})),c.read=function(e,t,r,n,i){if(!Ue.forceLoadFile(s))throw new Ue.ErrnoError(29);var o=e.node.contents;if(i>=o.length)return 0;var a=Math.min(o.length-i,n);if(o.slice)for(var u=0;u<a;u++)t[r+u]=o[i+u];else for(u=0;u<a;u++)t[r+u]=o.get(i+u);return a},s.stream_ops=c,s},createPreloadedFile:function(e,t,r,n,i,o,u,s,c,f){Browser.init();var l=t?Ie.resolve(De.join2(e,t)):e;function d(r){function d(r){f&&f(),s||Ue.createDataFile(e,t,r,n,i,c),o&&o(),ve()}var h=!1;a.preloadPlugins.forEach((function(e){h||e.canHandle(l)&&(e.handle(r,l,d,(function(){u&&u(),ve()})),h=!0)})),h||d(r)}ge(),"string"==typeof r?Browser.asyncLoad(r,(function(e){d(e)}),u):d(r)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=Ue.indexedDB();try{var i=n.open(Ue.DB_NAME(),Ue.DB_VERSION)}catch(e){return r(e)}i.onupgradeneeded=function(){console.log("creating db"),i.result.createObjectStore(Ue.DB_STORE_NAME)},i.onsuccess=function(){var n=i.result.transaction([Ue.DB_STORE_NAME],"readwrite"),o=n.objectStore(Ue.DB_STORE_NAME),a=0,u=0,s=e.length;function c(){0==u?t():r()}e.forEach((function(e){var t=o.put(Ue.analyzePath(e).object.contents,e);t.onsuccess=function(){++a+u==s&&c()},t.onerror=function(){u++,a+u==s&&c()}})),n.onerror=r},i.onerror=r},loadFilesFromDB:function(e,t,r){t=t||function(){},r=r||function(){};var n=Ue.indexedDB();try{var i=n.open(Ue.DB_NAME(),Ue.DB_VERSION)}catch(e){return r(e)}i.onupgradeneeded=r,i.onsuccess=function(){var n=i.result;try{var o=n.transaction([Ue.DB_STORE_NAME],"readonly")}catch(e){return void r(e)}var a=o.objectStore(Ue.DB_STORE_NAME),u=0,s=0,c=e.length;function f(){0==s?t():r()}e.forEach((function(e){var t=a.get(e);t.onsuccess=function(){Ue.analyzePath(e).exists&&Ue.unlink(e),Ue.createDataFile(De.dirname(e),De.basename(e),t.result,!0,!0,!0),++u+s==c&&f()},t.onerror=function(){s++,u+s==c&&f()}})),o.onerror=r},i.onerror=r}},Ge={DEFAULT_POLLMASK:5,mappings:{},umask:511,calculateAt:function(e,t){if("/"!==t[0]){var r;if(-100===e)r=Ue.cwd();else{var n=Ue.getStream(e);if(!n)throw new Ue.ErrnoError(8);r=n.path}t=De.join2(r,t)}return t},doStat:function(e,t,r){try{var n=e(t)}catch(e){if(e&&e.node&&De.normalize(t)!==De.normalize(Ue.getPath(e.node)))return-54;throw e}return V[r>>2]=n.dev,V[r+4>>2]=0,V[r+8>>2]=n.ino,V[r+12>>2]=n.mode,V[r+16>>2]=n.nlink,V[r+20>>2]=n.uid,V[r+24>>2]=n.gid,V[r+28>>2]=n.rdev,V[r+32>>2]=0,Ee=[n.size>>>0,(we=n.size,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],V[r+40>>2]=Ee[0],V[r+44>>2]=Ee[1],V[r+48>>2]=4096,V[r+52>>2]=n.blocks,V[r+56>>2]=n.atime.getTime()/1e3|0,V[r+60>>2]=0,V[r+64>>2]=n.mtime.getTime()/1e3|0,V[r+68>>2]=0,V[r+72>>2]=n.ctime.getTime()/1e3|0,V[r+76>>2]=0,Ee=[n.ino>>>0,(we=n.ino,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],V[r+80>>2]=Ee[0],V[r+84>>2]=Ee[1],0},doMsync:function(e,t,r,n){var i=new Uint8Array(U.subarray(e,e+r));Ue.msync(t,i,0,r,n)},doMkdir:function(e,t){return"/"===(e=De.normalize(e))[e.length-1]&&(e=e.substr(0,e.length-1)),Ue.mkdir(e,t,0),0},doMknod:function(e,t,r){switch(61440&t){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Ue.mknod(e,t,r),0},doReadlink:function(e,t,r){if(r<=0)return-28;var n=Ue.readlink(e),i=Math.min(r,I(n)),o=L[t+i];return F(n,t,r+1),L[t+i]=o,i},doAccess:function(e,t){if(-8&t)return-28;var r;if(!(r=Ue.lookupPath(e,{follow:!0}).node))return-44;var n="";return 4&t&&(n+="r"),2&t&&(n+="w"),1&t&&(n+="x"),n&&Ue.nodePermissions(r,n)?-2:0},doDup:function(e,t,r){var n=Ue.getStream(r);return n&&Ue.close(n),Ue.open(e,t,0,r,r).fd},doReadv:function(e,t,r,n){for(var i=0,o=0;o<r;o++){var a=V[t+8*o>>2],u=V[t+(8*o+4)>>2],s=Ue.read(e,L,a,u,n);if(s<0)return-1;if(i+=s,s<u)break}return i},doWritev:function(e,t,r,n){for(var i=0,o=0;o<r;o++){var a=V[t+8*o>>2],u=V[t+(8*o+4)>>2],s=Ue.write(e,L,a,u,n);if(s<0)return-1;i+=s}return i},varargs:0,get:function(e){return Ge.varargs+=4,V[Ge.varargs-4>>2]},getStr:function(){return B(Ge.get())},getStreamFromFD:function(e){void 0===e&&(e=Ge.get());var t=Ue.getStream(e);if(!t)throw new Ue.ErrnoError(8);return t},get64:function(){var e=Ge.get();Ge.get();return e},getZero:function(){Ge.get()}};function Oe(e,t){Ge.varargs=t;try{var r=Ge.getStreamFromFD(),n=Ge.get(),i=Ge.get();return Ue.read(r,L,n,i)}catch(e){return void 0!==Ue&&e instanceof Ue.ErrnoError||ye(e),-e.errno}}function Ve(e,t){Ge.varargs=t;try{var r=Ge.getStr(),n=Ge.get(),i=Ge.get();return Ue.open(r,n,i).fd}catch(e){return void 0!==Ue&&e instanceof Ue.ErrnoError||ye(e),-e.errno}}var je={};function Ne(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function $e(e){return this.fromWireType(j[e>>2])}var We={},qe={},ze={},Qe=48,Xe=57;function Ye(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=Qe&&t<=Xe?"_"+e:e}function He(e,t){return e=Ye(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Ke(e,t){var r=He(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var Ze=void 0;function Je(e){throw new Ze(e)}function et(e,t,r){function n(t){var n=r(t);n.length!==e.length&&Je("Mismatched type converter count");for(var i=0;i<e.length;++i)ft(e[i],n[i])}e.forEach((function(e){ze[e]=t}));var i=new Array(t.length),o=[],a=0;t.forEach((function(e,t){qe.hasOwnProperty(e)?i[t]=qe[e]:(o.push(e),We.hasOwnProperty(e)||(We[e]=[]),We[e].push((function(){i[t]=qe[e],++a===o.length&&n(i)})))})),0===o.length&&n(i)}function tt(e){var t=je[e];delete je[e];var r=t.elements,n=r.length,i=r.map((function(e){return e.getterReturnType})).concat(r.map((function(e){return e.setterArgumentType}))),o=t.rawConstructor,a=t.rawDestructor;et([e],i,(function(e){return r.forEach((function(t,r){var i=e[r],o=t.getter,a=t.getterContext,u=e[r+n],s=t.setter,c=t.setterContext;t.read=function(e){return i.fromWireType(o(a,e))},t.write=function(e,t){var r=[];s(c,e,u.toWireType(r,t)),Ne(r)}})),[{name:t.name,fromWireType:function(e){for(var t=new Array(n),i=0;i<n;++i)t[i]=r[i].read(e);return a(e),t},toWireType:function(e,i){if(n!==i.length)throw new TypeError("Incorrect number of tuple elements for "+t.name+": expected="+n+", actual="+i.length);for(var u=o(),s=0;s<n;++s)r[s].write(u,i[s]);return null!==e&&e.push(a,u),u},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:a}]}))}var rt={};function nt(e){var t=rt[e];delete rt[e];var r=t.rawConstructor,n=t.rawDestructor,i=t.fields;et([e],i.map((function(e){return e.getterReturnType})).concat(i.map((function(e){return e.setterArgumentType}))),(function(e){var o={};return i.forEach((function(t,r){var n=t.fieldName,a=e[r],u=t.getter,s=t.getterContext,c=e[r+i.length],f=t.setter,l=t.setterContext;o[n]={read:function(e){return a.fromWireType(u(s,e))},write:function(e,t){var r=[];f(l,e,c.toWireType(r,t)),Ne(r)}}})),[{name:t.name,fromWireType:function(e){var t={};for(var r in o)t[r]=o[r].read(e);return n(e),t},toWireType:function(e,t){for(var i in o)if(!(i in t))throw new TypeError("Missing field");var a=r();for(i in o)o[i].write(a,t[i]);return null!==e&&e.push(n,a),a},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:n}]}))}function it(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}function ot(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);at=e}var at=void 0;function ut(e){for(var t="",r=e;U[r];)t+=at[U[r++]];return t}var st=void 0;function ct(e){throw new st(e)}function ft(e,t,r){if(r=r||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||ct('type "'+n+'" must have a positive integer typeid pointer'),qe.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;ct("Cannot register type '"+n+"' twice")}if(qe[e]=t,delete ze[e],We.hasOwnProperty(e)){var i=We[e];delete We[e],i.forEach((function(e){e()}))}}function lt(e,t,r,n,i){var o=it(r);ft(e,{name:t=ut(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:i},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=L;else if(2===r)n=G;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=V}return this.fromWireType(n[e>>o])},destructorFunction:null})}function dt(e){if(!(this instanceof St))return!1;if(!(e instanceof St))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,i=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return t===n&&r===i}function ht(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function mt(e){ct(e.$$.ptrType.registeredClass.name+" instance already deleted")}var pt=!1;function gt(e){}function vt(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}function yt(e){e.count.value-=1,0===e.count.value&&vt(e)}function bt(e){return"undefined"==typeof FinalizationGroup?(bt=function(e){return e},e):(pt=new FinalizationGroup((function(e){for(var t=e.next();!t.done;t=e.next()){var r=t.value;r.ptr?yt(r):console.warn("object already deleted: "+r.ptr)}})),gt=function(e){pt.unregister(e.$$)},(bt=function(e){return pt.register(e,e.$$,e.$$),e})(e))}function _t(){if(this.$$.ptr||mt(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=bt(Object.create(Object.getPrototypeOf(this),{$$:{value:ht(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e}function wt(){this.$$.ptr||mt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ct("Object already scheduled for deletion"),gt(this),yt(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Et(){return!this.$$.ptr}var xt=void 0,Mt=[];function At(){for(;Mt.length;){var e=Mt.pop();e.$$.deleteScheduled=!1,e.delete()}}function Pt(){return this.$$.ptr||mt(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&ct("Object already scheduled for deletion"),Mt.push(this),1===Mt.length&&xt&&xt(At),this.$$.deleteScheduled=!0,this}function Tt(){St.prototype.isAliasOf=dt,St.prototype.clone=_t,St.prototype.delete=wt,St.prototype.isDeleted=Et,St.prototype.deleteLater=Pt}function St(){}var kt={};function Ct(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||ct("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].overloadTable+")!"),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function Bt(e,t,r){a.hasOwnProperty(e)?((void 0===r||void 0!==a[e].overloadTable&&void 0!==a[e].overloadTable[r])&&ct("Cannot register public name '"+e+"' twice"),Ct(a,e,e),a.hasOwnProperty(r)&&ct("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),a[e].overloadTable[r]=t):(a[e]=t,void 0!==r&&(a[e].numArguments=r))}function Dt(e,t,r,n,i,o,a,u){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=i,this.getActualType=o,this.upcast=a,this.downcast=u,this.pureVirtualFunctions=[]}function Ft(e,t,r){for(;t!==r;)t.upcast||ct("Expected null or instance of "+r.name+", got an instance of "+t.name),e=t.upcast(e),t=t.baseClass;return e}function It(e,t){if(null===t)return this.isReference&&ct("null is not a valid "+this.name),0;t.$$||ct('Cannot pass "'+Mr(t)+'" as a '+this.name),t.$$.ptr||ct("Cannot pass deleted object as a pointer of type "+this.name);var r=t.$$.ptrType.registeredClass;return Ft(t.$$.ptr,r,this.registeredClass)}function Rt(e,t){var r;if(null===t)return this.isReference&&ct("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||ct('Cannot pass "'+Mr(t)+'" as a '+this.name),t.$$.ptr||ct("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&t.$$.ptrType.isConst&&ct("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);var n=t.$$.ptrType.registeredClass;if(r=Ft(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&ct("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:ct("Cannot convert argument of type "+(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var i=t.clone();r=this.rawShare(r,yr((function(){i.delete()}))),null!==e&&e.push(this.rawDestructor,r)}break;default:ct("Unsupporting sharing policy")}return r}function Lt(e,t){if(null===t)return this.isReference&&ct("null is not a valid "+this.name),0;t.$$||ct('Cannot pass "'+Mr(t)+'" as a '+this.name),t.$$.ptr||ct("Cannot pass deleted object as a pointer of type "+this.name),t.$$.ptrType.isConst&&ct("Cannot convert argument of type "+t.$$.ptrType.name+" to parameter type "+this.name);var r=t.$$.ptrType.registeredClass;return Ft(t.$$.ptr,r,this.registeredClass)}function Ut(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e}function Gt(e){this.rawDestructor&&this.rawDestructor(e)}function Ot(e){null!==e&&e.delete()}function Vt(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=Vt(e,t,r.baseClass);return null===n?null:r.downcast(n)}function jt(){return Object.keys(qt).length}function Nt(){var e=[];for(var t in qt)qt.hasOwnProperty(t)&&e.push(qt[t]);return e}function $t(e){xt=e,Mt.length&&xt&&xt(At)}function Wt(){a.getInheritedInstanceCount=jt,a.getLiveInheritedInstances=Nt,a.flushPendingDeletes=At,a.setDelayFunction=$t}var qt={};function zt(e,t){for(void 0===t&&ct("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}function Qt(e,t){return t=zt(e,t),qt[t]}function Xt(e,t){return t.ptrType&&t.ptr||Je("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!==!!t.smartPtr&&Je("Both smartPtrType and smartPtr must be specified"),t.count={value:1},bt(Object.create(e,{$$:{value:t}}))}function Yt(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=Qt(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function i(){return this.isSmartPointer?Xt(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):Xt(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o,a=this.registeredClass.getActualType(t),u=kt[a];if(!u)return i.call(this);o=this.isConst?u.constPointerType:u.pointerType;var s=Vt(t,this.registeredClass,o.registeredClass);return null===s?i.call(this):this.isSmartPointer?Xt(o.registeredClass.instancePrototype,{ptrType:o,ptr:s,smartPtrType:this,smartPtr:e}):Xt(o.registeredClass.instancePrototype,{ptrType:o,ptr:s})}function Ht(){Kt.prototype.getPointee=Ut,Kt.prototype.destructor=Gt,Kt.prototype.argPackAdvance=8,Kt.prototype.readValueFromPointer=$e,Kt.prototype.deleteObject=Ot,Kt.prototype.fromWireType=Yt}function Kt(e,t,r,n,i,o,a,u,s,c,f){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=i,this.pointeeType=o,this.sharingPolicy=a,this.rawGetPointee=u,this.rawConstructor=s,this.rawShare=c,this.rawDestructor=f,i||void 0!==t.baseClass?this.toWireType=Rt:n?(this.toWireType=It,this.destructorFunction=null):(this.toWireType=Lt,this.destructorFunction=null)}function Zt(e,t,r){a.hasOwnProperty(e)||Je("Replacing nonexistant public symbol"),void 0!==a[e].overloadTable&&void 0!==r?a[e].overloadTable[r]=t:(a[e]=t,a[e].argCount=r)}function Jt(e,t){var r;if(e=ut(e),void 0!==a["FUNCTION_TABLE_"+e])r=a["FUNCTION_TABLE_"+e][t];else if("undefined"!=typeof FUNCTION_TABLE)r=FUNCTION_TABLE[t];else{var n=a["dynCall_"+e];void 0===n&&void 0===(n=a["dynCall_"+e.replace(/f/g,"d")])&&ct("No dynCall invoker for signature: "+e),r=function(r){for(var n=[],i=1;i<e.length;++i)n.push("a"+i);var o="return function "+("dynCall_"+e+"_"+t)+"("+n.join(", ")+") {\n";return o+="    return dynCall(rawFunction"+(n.length?", ":"")+n.join(", ")+");\n",o+="};\n",new Function("dynCall","rawFunction",o)(r,t)}(n)}return"function"!=typeof r&&ct("unknown function pointer with signature "+e+": "+t),r}var er=void 0;function tr(e){var t=Uf(e),r=ut(t);return Rf(t),r}function rr(e,t){var r=[],n={};throw t.forEach((function e(t){n[t]||qe[t]||(ze[t]?ze[t].forEach(e):(r.push(t),n[t]=!0))})),new er(e+": "+r.map(tr).join([", "]))}function nr(e,t,r,n,i,o,a,u,s,c,f,l,d){f=ut(f),o=Jt(i,o),u&&(u=Jt(a,u)),c&&(c=Jt(s,c)),d=Jt(l,d);var h=Ye(f);Bt(h,(function(){rr("Cannot construct "+f+" due to unbound types",[n])})),et([e,t,r],n?[n]:[],(function(t){var r,i;t=t[0],i=n?(r=t.registeredClass).instancePrototype:St.prototype;var a=He(h,(function(){if(Object.getPrototypeOf(this)!==s)throw new st("Use 'new' to construct "+f);if(void 0===l.constructor_body)throw new st(f+" has no accessible constructor");var e=l.constructor_body[arguments.length];if(void 0===e)throw new st("Tried to invoke ctor of "+f+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(l.constructor_body).toString()+") parameters instead!");return e.apply(this,arguments)})),s=Object.create(i,{constructor:{value:a}});a.prototype=s;var l=new Dt(f,a,s,d,r,o,u,c),m=new Kt(f,l,!0,!1,!1),p=new Kt(f+"*",l,!1,!1,!1),g=new Kt(f+" const*",l,!1,!0,!1);return kt[e]={pointerType:p,constPointerType:g},Zt(h,a),[m,p,g]}))}function ir(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type "+typeof e+" which is not a function");var r=He(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,i=e.apply(n,t);return i instanceof Object?i:n}function or(e,t,r,n,i){var o=t.length;o<2&&ct("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=null!==t[1]&&null!==r,u=!1,s=1;s<t.length;++s)if(null!==t[s]&&void 0===t[s].destructorFunction){u=!0;break}var c="void"!==t[0].name,f="",l="";for(s=0;s<o-2;++s)f+=(0!==s?", ":"")+"arg"+s,l+=(0!==s?", ":"")+"arg"+s+"Wired";var d="return function "+Ye(e)+"("+f+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n";u&&(d+="var destructors = [];\n");var h=u?"destructors":"null",m=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],p=[ct,n,i,Ne,t[0],t[1]];a&&(d+="var thisWired = classParam.toWireType("+h+", this);\n");for(s=0;s<o-2;++s)d+="var arg"+s+"Wired = argType"+s+".toWireType("+h+", arg"+s+"); // "+t[s+2].name+"\n",m.push("argType"+s),p.push(t[s+2]);if(a&&(l="thisWired"+(l.length>0?", ":"")+l),d+=(c?"var rv = ":"")+"invoker(fn"+(l.length>0?", ":"")+l+");\n",u)d+="runDestructors(destructors);\n";else for(s=a?1:2;s<t.length;++s){var g=1===s?"thisWired":"arg"+(s-2)+"Wired";null!==t[s].destructorFunction&&(d+=g+"_dtor("+g+"); // "+t[s].name+"\n",m.push(g+"_dtor"),p.push(t[s].destructorFunction))}return c&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",m.push(d),ir(Function,m).apply(null,p)}function ar(e,t){for(var r=[],n=0;n<e;n++)r.push(V[(t>>2)+n]);return r}function ur(e,t,r,n,i,o,a){var u=ar(r,n);t=ut(t),o=Jt(i,o),et([],[e],(function(e){var n=(e=e[0]).name+"."+t;function i(){rr("Cannot call "+n+" due to unbound types",u)}var s=e.registeredClass.constructor;return void 0===s[t]?(i.argCount=r-1,s[t]=i):(Ct(s,t,n),s[t].overloadTable[r-1]=i),et([],u,(function(e){var i=[e[0],null].concat(e.slice(1)),u=or(n,i,null,o,a);return void 0===s[t].overloadTable?(u.argCount=r-1,s[t]=u):s[t].overloadTable[r-1]=u,[]})),[]}))}function sr(e,t,r,n,i,o){var a=ar(t,r);i=Jt(n,i),et([],[e],(function(e){var r="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new st("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.registeredClass.constructor_body[t-1]=function(){rr("Cannot construct "+e.name+" due to unbound types",a)},et([],a,(function(n){return e.registeredClass.constructor_body[t-1]=function(){arguments.length!==t-1&&ct(r+" called with "+arguments.length+" arguments, expected "+(t-1));var e=[],a=new Array(t);a[0]=o;for(var u=1;u<t;++u)a[u]=n[u].toWireType(e,arguments[u-1]);var s=i.apply(null,a);return Ne(e),n[0].fromWireType(s)},[]})),[]}))}function cr(e,t,r,n,i,o,a,u){var s=ar(r,n);t=ut(t),o=Jt(i,o),et([],[e],(function(e){var n=(e=e[0]).name+"."+t;function i(){rr("Cannot call "+n+" due to unbound types",s)}u&&e.registeredClass.pureVirtualFunctions.push(t);var c=e.registeredClass.instancePrototype,f=c[t];return void 0===f||void 0===f.overloadTable&&f.className!==e.name&&f.argCount===r-2?(i.argCount=r-2,i.className=e.name,c[t]=i):(Ct(c,t,n),c[t].overloadTable[r-2]=i),et([],s,(function(i){var u=or(n,i,e,o,a);return void 0===c[t].overloadTable?(u.argCount=r-2,c[t]=u):c[t].overloadTable[r-2]=u,[]})),[]}))}function fr(e,t,r){return e instanceof Object||ct(r+' with invalid "this": '+e),e instanceof t.registeredClass.constructor||ct(r+' incompatible with "this" of type '+e.constructor.name),e.$$.ptr||ct("cannot call emscripten binding method "+r+" on deleted object"),Ft(e.$$.ptr,e.$$.ptrType.registeredClass,t.registeredClass)}function lr(e,t,r,n,i,o,a,u,s,c){t=ut(t),i=Jt(n,i),et([],[e],(function(e){var n=(e=e[0]).name+"."+t,f={get:function(){rr("Cannot access "+n+" due to unbound types",[r,a])},enumerable:!0,configurable:!0};return f.set=s?function(){rr("Cannot access "+n+" due to unbound types",[r,a])}:function(e){ct(n+" is a read-only property")},Object.defineProperty(e.registeredClass.instancePrototype,t,f),et([],s?[r,a]:[r],(function(r){var a=r[0],f={get:function(){var t=fr(this,e,n+" getter");return a.fromWireType(i(o,t))},enumerable:!0};if(s){s=Jt(u,s);var l=r[1];f.set=function(t){var r=fr(this,e,n+" setter"),i=[];s(c,r,l.toWireType(i,t)),Ne(i)}}return Object.defineProperty(e.registeredClass.instancePrototype,t,f),[]})),[]}))}var dr=[],hr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function mr(e){e>4&&0==--hr[e].refcount&&(hr[e]=void 0,dr.push(e))}function pr(){for(var e=0,t=5;t<hr.length;++t)void 0!==hr[t]&&++e;return e}function gr(){for(var e=5;e<hr.length;++e)if(void 0!==hr[e])return hr[e];return null}function vr(){a.count_emval_handles=pr,a.get_first_emval=gr}function yr(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=dr.length?dr.pop():hr.length;return hr[t]={refcount:1,value:e},t}}function br(e,t){ft(e,{name:t=ut(t),fromWireType:function(e){var t=hr[e].value;return mr(e),t},toWireType:function(e,t){return yr(t)},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:null})}function _r(e,t,r){switch(t){case 0:return function(e){var t=r?L:U;return this.fromWireType(t[e])};case 1:return function(e){var t=r?G:O;return this.fromWireType(t[e>>1])};case 2:return function(e){var t=r?V:j;return this.fromWireType(t[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function wr(e,t,r,n){var i=it(r);function o(){}t=ut(t),o.values={},ft(e,{name:t,constructor:o,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:_r(t,i,n),destructorFunction:null}),Bt(t,o)}function Er(e,t){var r=qe[e];return void 0===r&&ct(t+" has unknown type "+tr(e)),r}function xr(e,t,r){var n=Er(e,"enum");t=ut(t);var i=n.constructor,o=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:He(n.name+"_"+t,(function(){}))}});i.values[r]=o,i[t]=o}function Mr(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function Ar(e,t){switch(t){case 2:return function(e){return this.fromWireType(N[e>>2])};case 3:return function(e){return this.fromWireType($[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Pr(e,t,r){var n=it(r);ft(e,{name:t=ut(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!=typeof t&&"boolean"!=typeof t)throw new TypeError('Cannot convert "'+Mr(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:Ar(t,n),destructorFunction:null})}function Tr(e,t,r,n,i,o){var a=ar(t,r);e=ut(e),i=Jt(n,i),Bt(e,(function(){rr("Cannot call "+e+" due to unbound types",a)}),t-1),et([],a,(function(r){var n=[r[0],null].concat(r.slice(1));return Zt(e,or(e,n,null,i,o),t-1),[]}))}function Sr(e,t,r){switch(t){case 0:return r?function(e){return L[e]}:function(e){return U[e]};case 1:return r?function(e){return G[e>>1]}:function(e){return O[e>>1]};case 2:return r?function(e){return V[e>>2]}:function(e){return j[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function kr(e,t,r,n,i){t=ut(t),-1===i&&(i=4294967295);var o=it(r),a=function(e){return e};if(0===n){var u=32-8*r;a=function(e){return e<<u>>>u}}var s=-1!=t.indexOf("unsigned");ft(e,{name:t,fromWireType:a,toWireType:function(e,r){if("number"!=typeof r&&"boolean"!=typeof r)throw new TypeError('Cannot convert "'+Mr(r)+'" to '+this.name);if(r<n||r>i)throw new TypeError('Passing a number "'+Mr(r)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+n+", "+i+"]!");return s?r>>>0:0|r},argPackAdvance:8,readValueFromPointer:Sr(t,o,0!==n),destructorFunction:null})}function Cr(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=j,r=t[e>>=2],i=t[e+1];return new n(t.buffer,i,r)}ft(e,{name:r=ut(r),fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})}function Br(e,t){var r="std::string"===(t=ut(t));ft(e,{name:t,fromWireType:function(e){var t,n=j[e>>2];if(r){var i=U[e+4+n],o=0;0!=i&&(o=i,U[e+4+n]=0);for(var a=e+4,u=0;u<=n;++u){var s=e+4+u;if(0==U[s]){var c=B(a);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),a=s+1}}0!=o&&(U[e+4+n]=o)}else{var f=new Array(n);for(u=0;u<n;++u)f[u]=String.fromCharCode(U[e+4+u]);t=f.join("")}return Rf(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n="string"==typeof t;n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ct("Cannot pass non-string to std::string");var i=(r&&n?function(){return I(t)}:function(){return t.length})(),o=Lf(4+i+1);if(j[o>>2]=i,r&&n)F(t,o+4,i+1);else if(n)for(var a=0;a<i;++a){var u=t.charCodeAt(a);u>255&&(Rf(o),ct("String has UTF-16 code units that do not fit in 8 bits")),U[o+4+a]=u}else for(a=0;a<i;++a)U[o+4+a]=t[a];return null!==e&&e.push(Rf,o),o},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:function(e){Rf(e)}})}function Dr(e,t,r){var n,i;r=ut(r),2===t?(n=function(){return O},i=1):4===t&&(n=function(){return j},i=2),ft(e,{name:r,fromWireType:function(e){for(var t=n(),r=j[e>>2],o=new Array(r),a=e+4>>i,u=0;u<r;++u)o[u]=String.fromCharCode(t[a+u]);return Rf(e),o.join("")},toWireType:function(e,r){var o=r.length,a=Lf(4+o*t),u=n();j[a>>2]=o;for(var s=a+4>>i,c=0;c<o;++c)u[s+c]=r.charCodeAt(c);return null!==e&&e.push(Rf,a),a},argPackAdvance:8,readValueFromPointer:$e,destructorFunction:function(e){Rf(e)}})}function Fr(e,t,r,n,i,o){je[e]={name:ut(t),rawConstructor:Jt(r,n),rawDestructor:Jt(i,o),elements:[]}}function Ir(e,t,r,n,i,o,a,u,s){je[e].elements.push({getterReturnType:t,getter:Jt(r,n),getterContext:i,setterArgumentType:o,setter:Jt(a,u),setterContext:s})}function Rr(e,t,r,n,i,o){rt[e]={name:ut(t),rawConstructor:Jt(r,n),rawDestructor:Jt(i,o),fields:[]}}function Lr(e,t,r,n,i,o,a,u,s,c){rt[e].fields.push({fieldName:ut(t),getterReturnType:r,getter:Jt(n,i),getterContext:o,setterArgumentType:a,setter:Jt(u,s),setterContext:c})}function Ur(e,t){ft(e,{isVoid:!0,name:t=ut(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}function Gr(e){return e||ct("Cannot use deleted val. handle = "+e),hr[e].value}function Or(e,t,r){e=Gr(e),t=Er(t,"emval::as");var n=[],i=yr(n);return V[r>>2]=i,t.toWireType(n,e)}function Vr(e,t){return yr((e=Gr(e))[t=Gr(t)])}function jr(e){e>4&&(hr[e].refcount+=1)}var Nr={};function $r(e){var t=Nr[e];return void 0===t?ut(e):t}function Wr(e){return yr($r(e))}function qr(e){Ne(hr[e].value),mr(e)}function zr(e,t){return yr((e=Er(e,"_emval_take_value")).readValueFromPointer(t))}function Qr(){ye()}function Xr(){ye()}function Yr(){return l||"undefined"!=typeof dateNow||"object"==typeof performance&&performance&&"function"==typeof performance.now}function Hr(e,t){var r;if(0===e)r=Date.now();else{if(1!==e||!Yr())return Fe(28),-1;r=Xr()}return V[t>>2]=r/1e3|0,V[t+4>>2]=r%1e3*1e3*1e3|0,0}function Kr(){return L.length}function Zr(){return 604944}var Jr={counter:1,lastError:0,buffers:[],mappedBuffers:{},programs:[],framebuffers:[],renderbuffers:[],textures:[],uniforms:[],shaders:[],vaos:[],contexts:{},currentContext:null,offscreenCanvases:{},timerQueriesEXT:[],queries:[],samplers:[],transformFeedbacks:[],syncs:[],programInfos:{},stringCache:{},stringiCache:{},unpackAlignment:4,init:function(){Jr.miniTempBuffer=new Float32Array(Jr.MINI_TEMP_BUFFER_SIZE);for(var e=0;e<Jr.MINI_TEMP_BUFFER_SIZE;e++)Jr.miniTempBufferViews[e]=Jr.miniTempBuffer.subarray(0,e+1)},recordError:function(e){Jr.lastError||(Jr.lastError=e)},getNewId:function(e){for(var t=Jr.counter++,r=e.length;r<t;r++)e[r]=null;return t},MINI_TEMP_BUFFER_SIZE:256,miniTempBuffer:null,miniTempBufferViews:[0],getSource:function(e,t,r,n){for(var i="",o=0;o<t;++o){var a=n?V[n+4*o>>2]:-1;i+=B(V[r+4*o>>2],a<0?void 0:a)}return i},createContext:function(e,t){var r=t.majorVersion>1?e.getContext("webgl2",t):e.getContext("webgl",t)||e.getContext("experimental-webgl",t);return r?Jr.registerContext(r,t):0},registerContext:function(e,t){var r=Lf(8),n={handle:r,attributes:t,version:t.majorVersion,GLctx:e};function i(){var e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return!!e&&parseInt(e[2],10)}return n.supportsWebGL2EntryPoints=n.version>=2&&(!1===i()||i()>=58),e.canvas&&(e.canvas.GLctxObject=n),Jr.contexts[r]=n,(void 0===t.enableExtensionsByDefault||t.enableExtensionsByDefault)&&Jr.initExtensions(n),r},makeContextCurrent:function(e){return Jr.currentContext=Jr.contexts[e],a.ctx=Va=Jr.currentContext&&Jr.currentContext.GLctx,!(e&&!Va)},getContext:function(e){return Jr.contexts[e]},deleteContext:function(e){Jr.currentContext===Jr.contexts[e]&&(Jr.currentContext=null),"object"==typeof JSEvents&&JSEvents.removeAllHandlersOnTarget(Jr.contexts[e].GLctx.canvas),Jr.contexts[e]&&Jr.contexts[e].GLctx.canvas&&(Jr.contexts[e].GLctx.canvas.GLctxObject=void 0),Rf(Jr.contexts[e]),Jr.contexts[e]=null},acquireInstancedArraysExtension:function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,r){t.vertexAttribDivisorANGLE(e,r)},e.drawArraysInstanced=function(e,r,n,i){t.drawArraysInstancedANGLE(e,r,n,i)},e.drawElementsInstanced=function(e,r,n,i,o){t.drawElementsInstancedANGLE(e,r,n,i,o)})},acquireVertexArrayObjectExtension:function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})},acquireDrawBuffersExtension:function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,r){t.drawBuffersWEBGL(e,r)})},initExtensions:function(e){if(e||(e=Jr.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var t=e.GLctx;e.version<2&&(Jr.acquireInstancedArraysExtension(t),Jr.acquireVertexArrayObjectExtension(t),Jr.acquireDrawBuffersExtension(t)),t.disjointTimerQueryExt=t.getExtension("EXT_disjoint_timer_query");var r=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2"];(t.getSupportedExtensions()||[]).forEach((function(e){-1!=r.indexOf(e)&&t.getExtension(e)}))}},populateUniformTable:function(e){for(var t=Jr.programs[e],r=Jr.programInfos[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},n=r.uniforms,i=Va.getProgramParameter(t,35718),o=0;o<i;++o){var a=Va.getActiveUniform(t,o),u=a.name;r.maxUniformLength=Math.max(r.maxUniformLength,u.length+1),"]"==u.slice(-1)&&(u=u.slice(0,u.lastIndexOf("[")));var s=Va.getUniformLocation(t,u);if(s){var c=Jr.getNewId(Jr.uniforms);n[u]=[a.size,c],Jr.uniforms[c]=s;for(var f=1;f<a.size;++f){var l=u+"["+f+"]";s=Va.getUniformLocation(t,l),c=Jr.getNewId(Jr.uniforms),Jr.uniforms[c]=s}}}}};function en(e){Va.activeTexture(e)}function tn(e,t){Va.attachShader(Jr.programs[e],Jr.shaders[t])}function rn(e,t){Va.beginQuery(e,Jr.queries[t])}function nn(e,t){Va.disjointTimerQueryExt.beginQueryEXT(e,Jr.timerQueriesEXT[t])}function on(e){Va.beginTransformFeedback(e)}function an(e,t,r){Va.bindAttribLocation(Jr.programs[e],t,B(r))}function un(e,t){35051==e?Va.currentPixelPackBufferBinding=t:35052==e&&(Va.currentPixelUnpackBufferBinding=t),Va.bindBuffer(e,Jr.buffers[t])}function sn(e,t,r){Va.bindBufferBase(e,t,Jr.buffers[r])}function cn(e,t,r,n,i){Va.bindBufferRange(e,t,Jr.buffers[r],n,i)}function fn(e,t){Va.bindFramebuffer(e,Jr.framebuffers[t])}function ln(e,t){Va.bindRenderbuffer(e,Jr.renderbuffers[t])}function dn(e,t){Va.bindSampler(e,Jr.samplers[t])}function hn(e,t){Va.bindTexture(e,Jr.textures[t])}function mn(e,t){Va.bindTransformFeedback(e,Jr.transformFeedbacks[t])}function pn(e){Va.bindVertexArray(Jr.vaos[e])}function gn(e){Va.bindVertexArray(Jr.vaos[e])}function vn(e,t,r,n){Va.blendColor(e,t,r,n)}function yn(e){Va.blendEquation(e)}function bn(e,t){Va.blendEquationSeparate(e,t)}function _n(e,t){Va.blendFunc(e,t)}function wn(e,t,r,n){Va.blendFuncSeparate(e,t,r,n)}function En(e,t,r,n,i,o,a,u,s,c){Va.blitFramebuffer(e,t,r,n,i,o,a,u,s,c)}function xn(e,t,r,n){Jr.currentContext.supportsWebGL2EntryPoints?r?Va.bufferData(e,U,n,r,t):Va.bufferData(e,t,n):Va.bufferData(e,r?U.subarray(r,r+t):t,n)}function Mn(e,t,r,n){Jr.currentContext.supportsWebGL2EntryPoints?Va.bufferSubData(e,t,U,n,r):Va.bufferSubData(e,t,U.subarray(n,n+r))}function An(e){return Va.checkFramebufferStatus(e)}function Pn(e){Va.clear(e)}function Tn(e,t,r,n){Va.clearBufferfi(e,t,r,n)}function Sn(e,t,r){Va.clearBufferfv(e,t,N,r>>2)}function kn(e,t,r){Va.clearBufferiv(e,t,V,r>>2)}function Cn(e,t,r){Va.clearBufferuiv(e,t,j,r>>2)}function Bn(e,t,r,n){Va.clearColor(e,t,r,n)}function Dn(e){Va.clearDepth(e)}function Fn(e){Va.clearStencil(e)}function In(e,t,r,n){n>>>=0;var i=4294967295==(r>>>=0)&&4294967295==n?-1:E(r,n,!0);return Va.clientWaitSync(Jr.syncs[e],t,i)}function Rn(e,t,r,n){Va.colorMask(!!e,!!t,!!r,!!n)}function Ln(e){Va.compileShader(Jr.shaders[e])}function Un(e,t,r,n,i,o,a,u){Jr.currentContext.supportsWebGL2EntryPoints?Va.currentPixelUnpackBufferBinding?Va.compressedTexImage2D(e,t,r,n,i,o,a,u):Va.compressedTexImage2D(e,t,r,n,i,o,U,u,a):Va.compressedTexImage2D(e,t,r,n,i,o,u?U.subarray(u,u+a):null)}function Gn(e,t,r,n,i,o,a,u,s){Jr.currentContext.supportsWebGL2EntryPoints?Va.currentPixelUnpackBufferBinding?Va.compressedTexImage3D(e,t,r,n,i,o,a,u,s):Va.compressedTexImage3D(e,t,r,n,i,o,a,U,s,u):Va.compressedTexImage3D(e,t,r,n,i,o,a,s?U.subarray(s,s+u):null)}function On(e,t,r,n,i,o,a,u,s){Jr.currentContext.supportsWebGL2EntryPoints?Va.currentPixelUnpackBufferBinding?Va.compressedTexSubImage2D(e,t,r,n,i,o,a,u,s):Va.compressedTexSubImage2D(e,t,r,n,i,o,a,U,s,u):Va.compressedTexSubImage2D(e,t,r,n,i,o,a,s?U.subarray(s,s+u):null)}function Vn(e,t,r,n,i,o,a,u,s,c,f){Jr.currentContext.supportsWebGL2EntryPoints?Va.currentPixelUnpackBufferBinding?Va.compressedTexSubImage3D(e,t,r,n,i,o,a,u,s,c,f):Va.compressedTexSubImage3D(e,t,r,n,i,o,a,u,s,U,f,c):Va.compressedTexSubImage3D(e,t,r,n,i,o,a,u,s,f?U.subarray(f,f+c):null)}function jn(e,t,r,n,i){Va.copyBufferSubData(e,t,r,n,i)}function Nn(e,t,r,n,i,o,a,u){Va.copyTexImage2D(e,t,r,n,i,o,a,u)}function $n(e,t,r,n,i,o,a,u){Va.copyTexSubImage2D(e,t,r,n,i,o,a,u)}function Wn(e,t,r,n,i,o,a,u,s){Va.copyTexSubImage3D(e,t,r,n,i,o,a,u,s)}function qn(){var e=Jr.getNewId(Jr.programs),t=Va.createProgram();return t.name=e,Jr.programs[e]=t,e}function zn(e){var t=Jr.getNewId(Jr.shaders);return Jr.shaders[t]=Va.createShader(e),t}function Qn(e){Va.cullFace(e)}function Xn(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2],i=Jr.buffers[n];i&&(Va.deleteBuffer(i),i.name=0,Jr.buffers[n]=null,n==Jr.currArrayBuffer&&(Jr.currArrayBuffer=0),n==Jr.currElementArrayBuffer&&(Jr.currElementArrayBuffer=0),n==Va.currentPixelPackBufferBinding&&(Va.currentPixelPackBufferBinding=0),n==Va.currentPixelUnpackBufferBinding&&(Va.currentPixelUnpackBufferBinding=0))}}function Yn(e,t){for(var r=0;r<e;++r){var n=V[t+4*r>>2],i=Jr.framebuffers[n];i&&(Va.deleteFramebuffer(i),i.name=0,Jr.framebuffers[n]=null)}}function Hn(e){if(e){var t=Jr.programs[e];t?(Va.deleteProgram(t),t.name=0,Jr.programs[e]=null,Jr.programInfos[e]=null):Jr.recordError(1281)}}function Kn(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2],i=Jr.queries[n];i&&(Va.deleteQuery(i),Jr.queries[n]=null)}}function Zn(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2],i=Jr.timerQueriesEXT[n];i&&(Va.disjointTimerQueryExt.deleteQueryEXT(i),Jr.timerQueriesEXT[n]=null)}}function Jn(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2],i=Jr.renderbuffers[n];i&&(Va.deleteRenderbuffer(i),i.name=0,Jr.renderbuffers[n]=null)}}function ei(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2],i=Jr.samplers[n];i&&(Va.deleteSampler(i),i.name=0,Jr.samplers[n]=null)}}function ti(e){if(e){var t=Jr.shaders[e];t?(Va.deleteShader(t),Jr.shaders[e]=null):Jr.recordError(1281)}}function ri(e){if(e){var t=Jr.syncs[e];t?(Va.deleteSync(t),t.name=0,Jr.syncs[e]=null):Jr.recordError(1281)}}function ni(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2],i=Jr.textures[n];i&&(Va.deleteTexture(i),i.name=0,Jr.textures[n]=null)}}function ii(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2],i=Jr.transformFeedbacks[n];i&&(Va.deleteTransformFeedback(i),i.name=0,Jr.transformFeedbacks[n]=null)}}function oi(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2];Va.deleteVertexArray(Jr.vaos[n]),Jr.vaos[n]=null}}function ai(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2];Va.deleteVertexArray(Jr.vaos[n]),Jr.vaos[n]=null}}function ui(e){Va.depthFunc(e)}function si(e){Va.depthMask(!!e)}function ci(e,t){Va.depthRange(e,t)}function fi(e,t){Va.detachShader(Jr.programs[e],Jr.shaders[t])}function li(e){Va.disable(e)}function di(e){Va.disableVertexAttribArray(e)}function hi(e,t,r){Va.drawArrays(e,t,r)}function mi(e,t,r,n){Va.drawArraysInstanced(e,t,r,n)}function pi(e,t,r,n){Va.drawArraysInstanced(e,t,r,n)}function gi(e,t,r,n){Va.drawArraysInstanced(e,t,r,n)}function vi(e,t,r,n){Va.drawArraysInstanced(e,t,r,n)}function yi(e,t,r,n){Va.drawArraysInstanced(e,t,r,n)}var bi=[];function _i(e,t){for(var r=bi[e],n=0;n<e;n++)r[n]=V[t+4*n>>2];Va.drawBuffers(r)}function wi(e,t){for(var r=bi[e],n=0;n<e;n++)r[n]=V[t+4*n>>2];Va.drawBuffers(r)}function Ei(e,t){for(var r=bi[e],n=0;n<e;n++)r[n]=V[t+4*n>>2];Va.drawBuffers(r)}function xi(e,t,r,n){Va.drawElements(e,t,r,n)}function Mi(e,t,r,n,i){Va.drawElementsInstanced(e,t,r,n,i)}function Ai(e,t,r,n,i){Va.drawElementsInstanced(e,t,r,n,i)}function Pi(e,t,r,n,i){Va.drawElementsInstanced(e,t,r,n,i)}function Ti(e,t,r,n,i){Va.drawElementsInstanced(e,t,r,n,i)}function Si(e,t,r,n,i){Va.drawElementsInstanced(e,t,r,n,i)}function ki(e,t,r,n){Va.drawElements(e,t,r,n)}function Ci(e,t,r,n,i,o){ki(e,n,i,o)}function Bi(e){Va.enable(e)}function Di(e){Va.enableVertexAttribArray(e)}function Fi(e){Va.endQuery(e)}function Ii(e){Va.disjointTimerQueryExt.endQueryEXT(e)}function Ri(){Va.endTransformFeedback()}function Li(e,t){var r=Va.fenceSync(e,t);if(r){var n=Jr.getNewId(Jr.syncs);return r.name=n,Jr.syncs[n]=r,n}return 0}function Ui(){Va.finish()}function Gi(){Va.flush()}function Oi(){w("missing function: emscripten_glFlushMappedBufferRange"),ye(-1)}function Vi(e,t,r,n){Va.framebufferRenderbuffer(e,t,r,Jr.renderbuffers[n])}function ji(e,t,r,n,i){Va.framebufferTexture2D(e,t,r,Jr.textures[n],i)}function Ni(e,t,r,n,i){Va.framebufferTextureLayer(e,t,Jr.textures[r],n,i)}function $i(e){Va.frontFace(e)}function Wi(e,t,r,n){for(var i=0;i<e;i++){var o=Va[r](),a=o&&Jr.getNewId(n);o?(o.name=a,n[a]=o):Jr.recordError(1282),V[t+4*i>>2]=a}}function qi(e,t){Wi(e,t,"createBuffer",Jr.buffers)}function zi(e,t){Wi(e,t,"createFramebuffer",Jr.framebuffers)}function Qi(e,t){Wi(e,t,"createQuery",Jr.queries)}function Xi(e,t){for(var r=0;r<e;r++){var n=Va.disjointTimerQueryExt.createQueryEXT();if(!n){for(Jr.recordError(1282);r<e;)V[t+4*r++>>2]=0;return}var i=Jr.getNewId(Jr.timerQueriesEXT);n.name=i,Jr.timerQueriesEXT[i]=n,V[t+4*r>>2]=i}}function Yi(e,t){Wi(e,t,"createRenderbuffer",Jr.renderbuffers)}function Hi(e,t){Wi(e,t,"createSampler",Jr.samplers)}function Ki(e,t){Wi(e,t,"createTexture",Jr.textures)}function Zi(e,t){Wi(e,t,"createTransformFeedback",Jr.transformFeedbacks)}function Ji(e,t){Wi(e,t,"createVertexArray",Jr.vaos)}function eo(e,t){Wi(e,t,"createVertexArray",Jr.vaos)}function to(e){Va.generateMipmap(e)}function ro(e,t,r,n,i,o,a){e=Jr.programs[e];var u=Va.getActiveAttrib(e,t);if(u){var s=r>0&&a?F(u.name,a,r):0;n&&(V[n>>2]=s),i&&(V[i>>2]=u.size),o&&(V[o>>2]=u.type)}}function no(e,t,r,n,i,o,a){e=Jr.programs[e];var u=Va.getActiveUniform(e,t);if(u){var s=r>0&&a?F(u.name,a,r):0;n&&(V[n>>2]=s),i&&(V[i>>2]=u.size),o&&(V[o>>2]=u.type)}}function io(e,t,r,n,i){e=Jr.programs[e];var o=Va.getActiveUniformBlockName(e,t);if(o)if(i&&r>0){var a=F(o,i,r);n&&(V[n>>2]=a)}else n&&(V[n>>2]=0)}function oo(e,t,r,n){if(n)switch(e=Jr.programs[e],r){case 35393:var i=Va.getActiveUniformBlockName(e,t);return void(V[n>>2]=i.length+1);default:var o=Va.getActiveUniformBlockParameter(e,t,r);if(!o)return;if("number"==typeof o)V[n>>2]=o;else for(var a=0;a<o.length;a++)V[n+4*a>>2]=o[a]}else Jr.recordError(1281)}function ao(e,t,r,n,i){if(i)if(t>0&&0==r)Jr.recordError(1281);else{e=Jr.programs[e];for(var o=[],a=0;a<t;a++)o.push(V[r+4*a>>2]);var u=Va.getActiveUniforms(e,o,n);if(u){var s=u.length;for(a=0;a<s;a++)V[i+4*a>>2]=u[a]}}else Jr.recordError(1281)}function uo(e,t,r,n){var i=Va.getAttachedShaders(Jr.programs[e]),o=i.length;o>t&&(o=t),V[r>>2]=o;for(var a=0;a<o;++a){var u=Jr.shaders.indexOf(i[a]);V[n+4*a>>2]=u}}function so(e,t){return Va.getAttribLocation(Jr.programs[e],B(t))}function co(e,t,r){if(t){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return void(0!=r&&1!=r&&Jr.recordError(1280));case 34814:case 36345:n=0;break;case 34466:var i=Va.getParameter(34467);n=i?i.length:0;break;case 33309:if(Jr.currentContext.version<2)return void Jr.recordError(1282);n=2*(Va.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(Jr.currentContext.version<2)return void Jr.recordError(1280);n=33307==e?3:0}if(void 0===n){var o=Va.getParameter(e);switch(typeof o){case"number":n=o;break;case"boolean":n=o?1:0;break;case"string":return void Jr.recordError(1280);case"object":if(null===o)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 35097:case 36389:case 34068:n=0;break;default:return void Jr.recordError(1280)}else{if(o instanceof Float32Array||o instanceof Uint32Array||o instanceof Int32Array||o instanceof Array){for(var a=0;a<o.length;++a)switch(r){case 0:V[t+4*a>>2]=o[a];break;case 2:N[t+4*a>>2]=o[a];break;case 4:L[t+a>>0]=o[a]?1:0}return}try{n=0|o.name}catch(t){return Jr.recordError(1280),void w("GL_INVALID_ENUM in glGet"+r+"v: Unknown object returned from WebGL getParameter("+e+")! (error: "+t+")")}}break;default:return Jr.recordError(1280),void w("GL_INVALID_ENUM in glGet"+r+"v: Native code calling glGet"+r+"v("+e+") and it returns "+o+" of type "+typeof o+"!")}}switch(r){case 1:Ee=[n>>>0,(we=n,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],V[t>>2]=Ee[0],V[t+4>>2]=Ee[1];break;case 0:V[t>>2]=n;break;case 2:N[t>>2]=n;break;case 4:L[t>>0]=n?1:0}}else Jr.recordError(1281)}function fo(e,t){co(e,t,4)}function lo(e,t,r){r?(Ee=[Va.getBufferParameter(e,t)>>>0,(we=Va.getBufferParameter(e,t),+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],V[r>>2]=Ee[0],V[r+4>>2]=Ee[1]):Jr.recordError(1281)}function ho(e,t,r){r?V[r>>2]=Va.getBufferParameter(e,t):Jr.recordError(1281)}function mo(){w("missing function: emscripten_glGetBufferPointerv"),ye(-1)}function po(){var e=Va.getError()||Jr.lastError;return Jr.lastError=0,e}function go(e,t){co(e,t,2)}function vo(e,t){return Va.getFragDataLocation(Jr.programs[e],B(t))}function yo(e,t,r,n){var i=Va.getFramebufferAttachmentParameter(e,t,r);(i instanceof WebGLRenderbuffer||i instanceof WebGLTexture)&&(i=0|i.name),V[n>>2]=i}function bo(e,t,r,n){if(r){var i,o=Va.getIndexedParameter(e,t);switch(typeof o){case"boolean":i=o?1:0;break;case"number":i=o;break;case"object":if(null===o)switch(e){case 35983:case 35368:i=0;break;default:return void Jr.recordError(1280)}else{if(!(o instanceof WebGLBuffer))return void Jr.recordError(1280);i=0|o.name}break;default:return void Jr.recordError(1280)}switch(n){case 1:Ee=[i>>>0,(we=i,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],V[r>>2]=Ee[0],V[r+4>>2]=Ee[1];break;case 0:V[r>>2]=i;break;case 2:N[r>>2]=i;break;case 4:L[r>>0]=i?1:0;break;default:throw"internal emscriptenWebGLGetIndexed() error, bad type: "+n}}else Jr.recordError(1281)}function _o(e,t,r){bo(e,t,r,1)}function wo(e,t){co(e,t,1)}function Eo(e,t,r){bo(e,t,r,0)}function xo(e,t){co(e,t,0)}function Mo(e,t,r,n,i){if(n<0)Jr.recordError(1281);else if(i){var o=Va.getInternalformatParameter(e,t,r);if(null!==o)for(var a=0;a<o.length&&a<n;++a)V[i+a>>2]=o[a]}else Jr.recordError(1281)}function Ao(e,t,r,n,i){Jr.recordError(1282)}function Po(e,t,r,n){var i=Va.getProgramInfoLog(Jr.programs[e]);null===i&&(i="(unknown error)");var o=t>0&&n?F(i,n,t):0;r&&(V[r>>2]=o)}function To(e,t,r){if(r)if(e>=Jr.counter)Jr.recordError(1281);else{var n=Jr.programInfos[e];if(n)if(35716==t){var i=Va.getProgramInfoLog(Jr.programs[e]);null===i&&(i="(unknown error)"),V[r>>2]=i.length+1}else if(35719==t)V[r>>2]=n.maxUniformLength;else if(35722==t){if(-1==n.maxAttributeLength){e=Jr.programs[e];var o=Va.getProgramParameter(e,35721);n.maxAttributeLength=0;for(var a=0;a<o;++a){var u=Va.getActiveAttrib(e,a);n.maxAttributeLength=Math.max(n.maxAttributeLength,u.name.length+1)}}V[r>>2]=n.maxAttributeLength}else if(35381==t){if(-1==n.maxUniformBlockNameLength){e=Jr.programs[e];var s=Va.getProgramParameter(e,35382);n.maxUniformBlockNameLength=0;for(a=0;a<s;++a){var c=Va.getActiveUniformBlockName(e,a);n.maxUniformBlockNameLength=Math.max(n.maxUniformBlockNameLength,c.length+1)}}V[r>>2]=n.maxUniformBlockNameLength}else V[r>>2]=Va.getProgramParameter(Jr.programs[e],t);else Jr.recordError(1282)}else Jr.recordError(1281)}function So(e,t,r){if(r){var n,i=Jr.timerQueriesEXT[e],o=Va.disjointTimerQueryExt.getQueryObjectEXT(i,t);Ee=[(n="boolean"==typeof o?o?1:0:o)>>>0,(we=n,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],V[r>>2]=Ee[0],V[r+4>>2]=Ee[1]}else Jr.recordError(1281)}function ko(e,t,r){if(r){var n,i=Jr.timerQueriesEXT[e],o=Va.disjointTimerQueryExt.getQueryObjectEXT(i,t);n="boolean"==typeof o?o?1:0:o,V[r>>2]=n}else Jr.recordError(1281)}function Co(e,t,r){if(r){var n,i=Jr.timerQueriesEXT[e],o=Va.disjointTimerQueryExt.getQueryObjectEXT(i,t);Ee=[(n="boolean"==typeof o?o?1:0:o)>>>0,(we=n,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],V[r>>2]=Ee[0],V[r+4>>2]=Ee[1]}else Jr.recordError(1281)}function Bo(e,t,r){if(r){var n,i=Jr.queries[e],o=Va.getQueryParameter(i,t);n="boolean"==typeof o?o?1:0:o,V[r>>2]=n}else Jr.recordError(1281)}function Do(e,t,r){if(r){var n,i=Jr.timerQueriesEXT[e],o=Va.disjointTimerQueryExt.getQueryObjectEXT(i,t);n="boolean"==typeof o?o?1:0:o,V[r>>2]=n}else Jr.recordError(1281)}function Fo(e,t,r){r?V[r>>2]=Va.getQuery(e,t):Jr.recordError(1281)}function Io(e,t,r){r?V[r>>2]=Va.disjointTimerQueryExt.getQueryEXT(e,t):Jr.recordError(1281)}function Ro(e,t,r){r?V[r>>2]=Va.getRenderbufferParameter(e,t):Jr.recordError(1281)}function Lo(e,t,r){r?(e=Jr.samplers[e],N[r>>2]=Va.getSamplerParameter(e,t)):Jr.recordError(1281)}function Uo(e,t,r){r?(e=Jr.samplers[e],V[r>>2]=Va.getSamplerParameter(e,t)):Jr.recordError(1281)}function Go(e,t,r,n){var i=Va.getShaderInfoLog(Jr.shaders[e]);null===i&&(i="(unknown error)");var o=t>0&&n?F(i,n,t):0;r&&(V[r>>2]=o)}function Oo(e,t,r,n){var i=Va.getShaderPrecisionFormat(e,t);V[r>>2]=i.rangeMin,V[r+4>>2]=i.rangeMax,V[n>>2]=i.precision}function Vo(e,t,r,n){var i=Va.getShaderSource(Jr.shaders[e]);if(i){var o=t>0&&n?F(i,n,t):0;r&&(V[r>>2]=o)}}function jo(e,t,r){if(r)if(35716==t){var n=Va.getShaderInfoLog(Jr.shaders[e]);null===n&&(n="(unknown error)"),V[r>>2]=n.length+1}else if(35720==t){var i=Va.getShaderSource(Jr.shaders[e]),o=null===i||0==i.length?0:i.length+1;V[r>>2]=o}else V[r>>2]=Va.getShaderParameter(Jr.shaders[e],t);else Jr.recordError(1281)}function No(e){var t=I(e)+1,r=Lf(t);return F(e,r,t),r}function $o(e){if(Jr.stringCache[e])return Jr.stringCache[e];var t;switch(e){case 7939:var r=Va.getSupportedExtensions()||[];t=No((r=r.concat(r.map((function(e){return"GL_"+e})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:var n=Va.getParameter(e);n||Jr.recordError(1280),t=No(n);break;case 7938:var i=Va.getParameter(Va.VERSION);t=No(i=Jr.currentContext.version>=2?"OpenGL ES 3.0 ("+i+")":"OpenGL ES 2.0 ("+i+")");break;case 35724:var o=Va.getParameter(Va.SHADING_LANGUAGE_VERSION),a=o.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==a&&(3==a[1].length&&(a[1]=a[1]+"0"),o="OpenGL ES GLSL ES "+a[1]+" ("+o+")"),t=No(o);break;default:return Jr.recordError(1280),0}return Jr.stringCache[e]=t,t}function Wo(e,t){if(Jr.currentContext.version<2)return Jr.recordError(1282),0;var r=Jr.stringiCache[e];if(r)return t<0||t>=r.length?(Jr.recordError(1281),0):r[t];switch(e){case 7939:var n=Va.getSupportedExtensions()||[];return n=(n=n.concat(n.map((function(e){return"GL_"+e})))).map((function(e){return No(e)})),r=Jr.stringiCache[e]=n,t<0||t>=r.length?(Jr.recordError(1281),0):r[t];default:return Jr.recordError(1280),0}}function qo(e,t,r,n,i){if(r<0)Jr.recordError(1281);else if(i){var o=Va.getSyncParameter(Jr.syncs[e],t);V[n>>2]=o,null!==o&&n&&(V[n>>2]=1)}else Jr.recordError(1281)}function zo(e,t,r){r?N[r>>2]=Va.getTexParameter(e,t):Jr.recordError(1281)}function Qo(e,t,r){r?V[r>>2]=Va.getTexParameter(e,t):Jr.recordError(1281)}function Xo(e,t,r,n,i,o,a){e=Jr.programs[e];var u=Va.getTransformFeedbackVarying(e,t);if(u){if(a&&r>0){var s=F(u.name,a,r);n&&(V[n>>2]=s)}else n&&(V[n>>2]=0);i&&(V[i>>2]=u.size),o&&(V[o>>2]=u.type)}}function Yo(e,t){return Va.getUniformBlockIndex(Jr.programs[e],B(t))}function Ho(e,t,r,n){if(n)if(t>0&&(0==r||0==n))Jr.recordError(1281);else{e=Jr.programs[e];for(var i=[],o=0;o<t;o++)i.push(B(V[r+4*o>>2]));var a=Va.getUniformIndices(e,i);if(a){var u=a.length;for(o=0;o<u;o++)V[n+4*o>>2]=a[o]}}else Jr.recordError(1281)}function Ko(e,t){var r=0;if("]"==(t=B(t))[t.length-1]){var n=t.lastIndexOf("[");r="]"!=t[n+1]?parseInt(t.slice(n+1)):0,t=t.slice(0,n)}var i=Jr.programInfos[e]&&Jr.programInfos[e].uniforms[t];return i&&r>=0&&r<i[0]?i[1]+r:-1}function Zo(e,t,r,n){if(r){var i=Va.getUniform(Jr.programs[e],Jr.uniforms[t]);if("number"==typeof i||"boolean"==typeof i)switch(n){case 0:V[r>>2]=i;break;case 2:N[r>>2]=i;break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+n}else for(var o=0;o<i.length;o++)switch(n){case 0:V[r+4*o>>2]=i[o];break;case 2:N[r+4*o>>2]=i[o];break;default:throw"internal emscriptenWebGLGetUniform() error, bad type: "+n}}else Jr.recordError(1281)}function Jo(e,t,r){Zo(e,t,r,2)}function ea(e,t,r){Zo(e,t,r,0)}function ta(e,t,r){Zo(e,t,r,0)}function ra(e,t,r,n){if(r){var i=Va.getVertexAttrib(e,t);if(34975==t)V[r>>2]=i.name;else if("number"==typeof i||"boolean"==typeof i)switch(n){case 0:V[r>>2]=i;break;case 2:N[r>>2]=i;break;case 5:V[r>>2]=Math.fround(i);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+n}else for(var o=0;o<i.length;o++)switch(n){case 0:V[r+4*o>>2]=i[o];break;case 2:N[r+4*o>>2]=i[o];break;case 5:V[r+4*o>>2]=Math.fround(i[o]);break;default:throw"internal emscriptenWebGLGetVertexAttrib() error, bad type: "+n}}else Jr.recordError(1281)}function na(e,t,r){ra(e,t,r,0)}function ia(e,t,r){ra(e,t,r,0)}function oa(e,t,r){r?V[r>>2]=Va.getVertexAttribOffset(e,t):Jr.recordError(1281)}function aa(e,t,r){ra(e,t,r,2)}function ua(e,t,r){ra(e,t,r,5)}function sa(e,t){Va.hint(e,t)}function ca(e,t,r){for(var n=bi[t],i=0;i<t;i++)n[i]=V[r+4*i>>2];Va.invalidateFramebuffer(e,n)}function fa(e,t,r,n,i,o,a){for(var u=bi[t],s=0;s<t;s++)u[s]=V[r+4*s>>2];Va.invalidateSubFramebuffer(e,u,n,i,o,a)}function la(e){var t=Jr.buffers[e];return t?Va.isBuffer(t):0}function da(e){return Va.isEnabled(e)}function ha(e){var t=Jr.framebuffers[e];return t?Va.isFramebuffer(t):0}function ma(e){return(e=Jr.programs[e])?Va.isProgram(e):0}function pa(e){var t=Jr.queries[e];return t?Va.isQuery(t):0}function ga(e){var t=Jr.timerQueriesEXT[e];return t?Va.disjointTimerQueryExt.isQueryEXT(t):0}function va(e){var t=Jr.renderbuffers[e];return t?Va.isRenderbuffer(t):0}function ya(e){var t=Jr.samplers[e];return t?Va.isSampler(t):0}function ba(e){var t=Jr.shaders[e];return t?Va.isShader(t):0}function _a(e){return(e=Jr.syncs[e])?Va.isSync(e):0}function wa(e){var t=Jr.textures[e];return t?Va.isTexture(t):0}function Ea(e){return Va.isTransformFeedback(Jr.transformFeedbacks[e])}function xa(e){var t=Jr.vaos[e];return t?Va.isVertexArray(t):0}function Ma(e){var t=Jr.vaos[e];return t?Va.isVertexArray(t):0}function Aa(e){Va.lineWidth(e)}function Pa(e){Va.linkProgram(Jr.programs[e]),Jr.populateUniformTable(e)}function Ta(){w("missing function: emscripten_glMapBufferRange"),ye(-1)}function Sa(){Va.pauseTransformFeedback()}function ka(e,t){3317==e&&(Jr.unpackAlignment=t),Va.pixelStorei(e,t)}function Ca(e,t){Va.polygonOffset(e,t)}function Ba(e,t,r,n){Jr.recordError(1280)}function Da(e,t,r){Jr.recordError(1280)}function Fa(e,t){Va.disjointTimerQueryExt.queryCounterEXT(Jr.timerQueriesEXT[e],t)}function Ia(e){Va.readBuffer(e)}function Ra(e,t,r,n){var i;return t*(e*r+(i=n)-1&-i)}var La={6402:1,6403:1,6406:1,6407:3,6408:4,6409:1,6410:2,33319:2,33320:2,35904:3,35906:4,36244:1,36248:3,36249:4},Ua={5120:1,5121:1,5122:2,5123:2,5124:4,5125:4,5126:4,5131:2,32819:2,32820:2,33635:2,33640:4,34042:4,35899:4,35902:4,36193:2};function Ga(e,t,r,n,i,o){var a=La[t]*Ua[e];if(a){var u=i+Ra(r,n,a,Jr.unpackAlignment);switch(e){case 5120:return L.subarray(i,u);case 5121:return U.subarray(i,u);case 5122:return G.subarray(i>>1,u>>1);case 5124:return V.subarray(i>>2,u>>2);case 5126:return N.subarray(i>>2,u>>2);case 5125:case 34042:case 35902:case 33640:case 35899:return j.subarray(i>>2,u>>2);case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return O.subarray(i>>1,u>>1);default:Jr.recordError(1280)}}else Jr.recordError(1280)}function Oa(e){switch(e){case 5120:return L;case 5121:return U;case 5122:return G;case 5123:case 33635:case 32819:case 32820:case 36193:case 5131:return O;case 5124:return V;case 5125:case 34042:case 35902:case 33640:case 35899:case 34042:return j;case 5126:return N}}var Va,ja={5122:1,5123:1,5124:2,5125:2,5126:2,5131:1,32819:1,32820:1,33635:1,33640:2,34042:2,35899:2,35902:2,36193:1};function Na(e,t,r,n,i,o,a){if(Jr.currentContext.supportsWebGL2EntryPoints)Va.currentPixelPackBufferBinding?Va.readPixels(e,t,r,n,i,o,a):Va.readPixels(e,t,r,n,i,o,Oa(o),a>>(0|ja[o]));else{var u=Ga(o,i,r,n,a);u?Va.readPixels(e,t,r,n,i,o,u):Jr.recordError(1280)}}function $a(){}function Wa(e,t,r,n){Va.renderbufferStorage(e,t,r,n)}function qa(e,t,r,n,i){Va.renderbufferStorageMultisample(e,t,r,n,i)}function za(){Va.resumeTransformFeedback()}function Qa(e,t){Va.sampleCoverage(e,!!t)}function Xa(e,t,r){Va.samplerParameterf(Jr.samplers[e],t,r)}function Ya(e,t,r){var n=N[r>>2];Va.samplerParameterf(Jr.samplers[e],t,n)}function Ha(e,t,r){Va.samplerParameteri(Jr.samplers[e],t,r)}function Ka(e,t,r){var n=V[r>>2];Va.samplerParameteri(Jr.samplers[e],t,n)}function Za(e,t,r,n){Va.scissor(e,t,r,n)}function Ja(){Jr.recordError(1280)}function eu(e,t,r,n){var i=Jr.getSource(e,t,r,n);Va.shaderSource(Jr.shaders[e],i)}function tu(e,t,r){Va.stencilFunc(e,t,r)}function ru(e,t,r,n){Va.stencilFuncSeparate(e,t,r,n)}function nu(e){Va.stencilMask(e)}function iu(e,t){Va.stencilMaskSeparate(e,t)}function ou(e,t,r){Va.stencilOp(e,t,r)}function au(e,t,r,n){Va.stencilOpSeparate(e,t,r,n)}function uu(e,t,r,n,i,o,a,u,s){Jr.currentContext.supportsWebGL2EntryPoints?Va.currentPixelUnpackBufferBinding?Va.texImage2D(e,t,r,n,i,o,a,u,s):0!=s?Va.texImage2D(e,t,r,n,i,o,a,u,Oa(u),s>>(0|ja[u])):Va.texImage2D(e,t,r,n,i,o,a,u,null):Va.texImage2D(e,t,r,n,i,o,a,u,s?Ga(u,a,n,i,s):null)}function su(e,t,r,n,i,o,a,u,s,c){Va.currentPixelUnpackBufferBinding?Va.texImage3D(e,t,r,n,i,o,a,u,s,c):0!=c?Va.texImage3D(e,t,r,n,i,o,a,u,s,Oa(s),c>>(0|ja[s])):Va.texImage3D(e,t,r,n,i,o,a,u,s,null)}function cu(e,t,r){Va.texParameterf(e,t,r)}function fu(e,t,r){var n=N[r>>2];Va.texParameterf(e,t,n)}function lu(e,t,r){Va.texParameteri(e,t,r)}function du(e,t,r){var n=V[r>>2];Va.texParameteri(e,t,n)}function hu(e,t,r,n,i){Va.texStorage2D(e,t,r,n,i)}function mu(e,t,r,n,i,o){Va.texStorage3D(e,t,r,n,i,o)}function pu(e,t,r,n,i,o,a,u,s){if(Jr.currentContext.supportsWebGL2EntryPoints)Va.currentPixelUnpackBufferBinding?Va.texSubImage2D(e,t,r,n,i,o,a,u,s):0!=s?Va.texSubImage2D(e,t,r,n,i,o,a,u,Oa(u),s>>(0|ja[u])):Va.texSubImage2D(e,t,r,n,i,o,a,u,null);else{var c=null;s&&(c=Ga(u,a,i,o,s)),Va.texSubImage2D(e,t,r,n,i,o,a,u,c)}}function gu(e,t,r,n,i,o,a,u,s,c,f){Va.currentPixelUnpackBufferBinding?Va.texSubImage3D(e,t,r,n,i,o,a,u,s,c,f):0!=f?Va.texSubImage3D(e,t,r,n,i,o,a,u,s,c,Oa(c),f>>(0|ja[c])):Va.texSubImage3D(e,t,r,n,i,o,a,u,s,c,null)}function vu(e,t,r,n){e=Jr.programs[e];for(var i=[],o=0;o<t;o++)i.push(B(V[r+4*o>>2]));Va.transformFeedbackVaryings(e,i,n)}function yu(e,t){Va.uniform1f(Jr.uniforms[e],t)}function bu(e,t,r){if(Jr.currentContext.supportsWebGL2EntryPoints)Va.uniform1fv(Jr.uniforms[e],N,r>>2,t);else{if(t<=Jr.MINI_TEMP_BUFFER_SIZE)for(var n=Jr.miniTempBufferViews[t-1],i=0;i<t;++i)n[i]=N[r+4*i>>2];else n=N.subarray(r>>2,r+4*t>>2);Va.uniform1fv(Jr.uniforms[e],n)}}function _u(e,t){Va.uniform1i(Jr.uniforms[e],t)}function wu(e,t,r){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniform1iv(Jr.uniforms[e],V,r>>2,t):Va.uniform1iv(Jr.uniforms[e],V.subarray(r>>2,r+4*t>>2))}function Eu(e,t){Va.uniform1ui(Jr.uniforms[e],t)}function xu(e,t,r){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniform1uiv(Jr.uniforms[e],j,r>>2,t):Va.uniform1uiv(Jr.uniforms[e],j.subarray(r>>2,r+4*t>>2))}function Mu(e,t,r){Va.uniform2f(Jr.uniforms[e],t,r)}function Au(e,t,r){if(Jr.currentContext.supportsWebGL2EntryPoints)Va.uniform2fv(Jr.uniforms[e],N,r>>2,2*t);else{if(2*t<=Jr.MINI_TEMP_BUFFER_SIZE)for(var n=Jr.miniTempBufferViews[2*t-1],i=0;i<2*t;i+=2)n[i]=N[r+4*i>>2],n[i+1]=N[r+(4*i+4)>>2];else n=N.subarray(r>>2,r+8*t>>2);Va.uniform2fv(Jr.uniforms[e],n)}}function Pu(e,t,r){Va.uniform2i(Jr.uniforms[e],t,r)}function Tu(e,t,r){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniform2iv(Jr.uniforms[e],V,r>>2,2*t):Va.uniform2iv(Jr.uniforms[e],V.subarray(r>>2,r+8*t>>2))}function Su(e,t,r){Va.uniform2ui(Jr.uniforms[e],t,r)}function ku(e,t,r){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniform2uiv(Jr.uniforms[e],j,r>>2,2*t):Va.uniform2uiv(Jr.uniforms[e],j.subarray(r>>2,r+8*t>>2))}function Cu(e,t,r,n){Va.uniform3f(Jr.uniforms[e],t,r,n)}function Bu(e,t,r){if(Jr.currentContext.supportsWebGL2EntryPoints)Va.uniform3fv(Jr.uniforms[e],N,r>>2,3*t);else{if(3*t<=Jr.MINI_TEMP_BUFFER_SIZE)for(var n=Jr.miniTempBufferViews[3*t-1],i=0;i<3*t;i+=3)n[i]=N[r+4*i>>2],n[i+1]=N[r+(4*i+4)>>2],n[i+2]=N[r+(4*i+8)>>2];else n=N.subarray(r>>2,r+12*t>>2);Va.uniform3fv(Jr.uniforms[e],n)}}function Du(e,t,r,n){Va.uniform3i(Jr.uniforms[e],t,r,n)}function Fu(e,t,r){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniform3iv(Jr.uniforms[e],V,r>>2,3*t):Va.uniform3iv(Jr.uniforms[e],V.subarray(r>>2,r+12*t>>2))}function Iu(e,t,r,n){Va.uniform3ui(Jr.uniforms[e],t,r,n)}function Ru(e,t,r){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniform3uiv(Jr.uniforms[e],j,r>>2,3*t):Va.uniform3uiv(Jr.uniforms[e],j.subarray(r>>2,r+12*t>>2))}function Lu(e,t,r,n,i){Va.uniform4f(Jr.uniforms[e],t,r,n,i)}function Uu(e,t,r){if(Jr.currentContext.supportsWebGL2EntryPoints)Va.uniform4fv(Jr.uniforms[e],N,r>>2,4*t);else{if(4*t<=Jr.MINI_TEMP_BUFFER_SIZE)for(var n=Jr.miniTempBufferViews[4*t-1],i=0;i<4*t;i+=4)n[i]=N[r+4*i>>2],n[i+1]=N[r+(4*i+4)>>2],n[i+2]=N[r+(4*i+8)>>2],n[i+3]=N[r+(4*i+12)>>2];else n=N.subarray(r>>2,r+16*t>>2);Va.uniform4fv(Jr.uniforms[e],n)}}function Gu(e,t,r,n,i){Va.uniform4i(Jr.uniforms[e],t,r,n,i)}function Ou(e,t,r){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniform4iv(Jr.uniforms[e],V,r>>2,4*t):Va.uniform4iv(Jr.uniforms[e],V.subarray(r>>2,r+16*t>>2))}function Vu(e,t,r,n,i){Va.uniform4ui(Jr.uniforms[e],t,r,n,i)}function ju(e,t,r){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniform4uiv(Jr.uniforms[e],j,r>>2,4*t):Va.uniform4uiv(Jr.uniforms[e],j.subarray(r>>2,r+16*t>>2))}function Nu(e,t,r){e=Jr.programs[e],Va.uniformBlockBinding(e,t,r)}function $u(e,t,r,n){if(Jr.currentContext.supportsWebGL2EntryPoints)Va.uniformMatrix2fv(Jr.uniforms[e],!!r,N,n>>2,4*t);else{if(4*t<=Jr.MINI_TEMP_BUFFER_SIZE)for(var i=Jr.miniTempBufferViews[4*t-1],o=0;o<4*t;o+=4)i[o]=N[n+4*o>>2],i[o+1]=N[n+(4*o+4)>>2],i[o+2]=N[n+(4*o+8)>>2],i[o+3]=N[n+(4*o+12)>>2];else i=N.subarray(n>>2,n+16*t>>2);Va.uniformMatrix2fv(Jr.uniforms[e],!!r,i)}}function Wu(e,t,r,n){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniformMatrix2x3fv(Jr.uniforms[e],!!r,N,n>>2,6*t):Va.uniformMatrix2x3fv(Jr.uniforms[e],!!r,N.subarray(n>>2,n+24*t>>2))}function qu(e,t,r,n){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniformMatrix2x4fv(Jr.uniforms[e],!!r,N,n>>2,8*t):Va.uniformMatrix2x4fv(Jr.uniforms[e],!!r,N.subarray(n>>2,n+32*t>>2))}function zu(e,t,r,n){if(Jr.currentContext.supportsWebGL2EntryPoints)Va.uniformMatrix3fv(Jr.uniforms[e],!!r,N,n>>2,9*t);else{if(9*t<=Jr.MINI_TEMP_BUFFER_SIZE)for(var i=Jr.miniTempBufferViews[9*t-1],o=0;o<9*t;o+=9)i[o]=N[n+4*o>>2],i[o+1]=N[n+(4*o+4)>>2],i[o+2]=N[n+(4*o+8)>>2],i[o+3]=N[n+(4*o+12)>>2],i[o+4]=N[n+(4*o+16)>>2],i[o+5]=N[n+(4*o+20)>>2],i[o+6]=N[n+(4*o+24)>>2],i[o+7]=N[n+(4*o+28)>>2],i[o+8]=N[n+(4*o+32)>>2];else i=N.subarray(n>>2,n+36*t>>2);Va.uniformMatrix3fv(Jr.uniforms[e],!!r,i)}}function Qu(e,t,r,n){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniformMatrix3x2fv(Jr.uniforms[e],!!r,N,n>>2,6*t):Va.uniformMatrix3x2fv(Jr.uniforms[e],!!r,N.subarray(n>>2,n+24*t>>2))}function Xu(e,t,r,n){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniformMatrix3x4fv(Jr.uniforms[e],!!r,N,n>>2,12*t):Va.uniformMatrix3x4fv(Jr.uniforms[e],!!r,N.subarray(n>>2,n+48*t>>2))}function Yu(e,t,r,n){if(Jr.currentContext.supportsWebGL2EntryPoints)Va.uniformMatrix4fv(Jr.uniforms[e],!!r,N,n>>2,16*t);else{if(16*t<=Jr.MINI_TEMP_BUFFER_SIZE)for(var i=Jr.miniTempBufferViews[16*t-1],o=0;o<16*t;o+=16)i[o]=N[n+4*o>>2],i[o+1]=N[n+(4*o+4)>>2],i[o+2]=N[n+(4*o+8)>>2],i[o+3]=N[n+(4*o+12)>>2],i[o+4]=N[n+(4*o+16)>>2],i[o+5]=N[n+(4*o+20)>>2],i[o+6]=N[n+(4*o+24)>>2],i[o+7]=N[n+(4*o+28)>>2],i[o+8]=N[n+(4*o+32)>>2],i[o+9]=N[n+(4*o+36)>>2],i[o+10]=N[n+(4*o+40)>>2],i[o+11]=N[n+(4*o+44)>>2],i[o+12]=N[n+(4*o+48)>>2],i[o+13]=N[n+(4*o+52)>>2],i[o+14]=N[n+(4*o+56)>>2],i[o+15]=N[n+(4*o+60)>>2];else i=N.subarray(n>>2,n+64*t>>2);Va.uniformMatrix4fv(Jr.uniforms[e],!!r,i)}}function Hu(e,t,r,n){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniformMatrix4x2fv(Jr.uniforms[e],!!r,N,n>>2,8*t):Va.uniformMatrix4x2fv(Jr.uniforms[e],!!r,N.subarray(n>>2,n+32*t>>2))}function Ku(e,t,r,n){Jr.currentContext.supportsWebGL2EntryPoints?Va.uniformMatrix4x3fv(Jr.uniforms[e],!!r,N,n>>2,12*t):Va.uniformMatrix4x3fv(Jr.uniforms[e],!!r,N.subarray(n>>2,n+48*t>>2))}function Zu(){w("missing function: emscripten_glUnmapBuffer"),ye(-1)}function Ju(e){Va.useProgram(Jr.programs[e])}function es(e){Va.validateProgram(Jr.programs[e])}function ts(e,t){Va.vertexAttrib1f(e,t)}function rs(e,t){Va.vertexAttrib1f(e,N[t>>2])}function ns(e,t,r){Va.vertexAttrib2f(e,t,r)}function is(e,t){Va.vertexAttrib2f(e,N[t>>2],N[t+4>>2])}function os(e,t,r,n){Va.vertexAttrib3f(e,t,r,n)}function as(e,t){Va.vertexAttrib3f(e,N[t>>2],N[t+4>>2],N[t+8>>2])}function us(e,t,r,n,i){Va.vertexAttrib4f(e,t,r,n,i)}function ss(e,t){Va.vertexAttrib4f(e,N[t>>2],N[t+4>>2],N[t+8>>2],N[t+12>>2])}function cs(e,t){Va.vertexAttribDivisor(e,t)}function fs(e,t){Va.vertexAttribDivisor(e,t)}function ls(e,t){Va.vertexAttribDivisor(e,t)}function ds(e,t){Va.vertexAttribDivisor(e,t)}function hs(e,t){Va.vertexAttribDivisor(e,t)}function ms(e,t,r,n,i){Va.vertexAttribI4i(e,t,r,n,i)}function ps(e,t){Va.vertexAttribI4i(e,V[t>>2],V[t+4>>2],V[t+8>>2],V[t+12>>2])}function gs(e,t,r,n,i){Va.vertexAttribI4ui(e,t,r,n,i)}function vs(e,t){Va.vertexAttribI4ui(e,j[t>>2],j[t+4>>2],j[t+8>>2],j[t+12>>2])}function ys(e,t,r,n,i){Va.vertexAttribIPointer(e,t,r,n,i)}function bs(e,t,r,n,i,o){Va.vertexAttribPointer(e,t,r,!!n,i,o)}function _s(e,t,r,n){Va.viewport(e,t,r,n)}function ws(e,t,r,n){n>>>=0;var i=4294967295==(r>>>=0)&&4294967295==n?-1:E(r,n,!0);Va.waitSync(Jr.syncs[e],t,i)}function Es(e,t,r){U.set(U.subarray(t,t+r),e)}function xs(e){try{return M.grow(e-R.byteLength+65535>>16),Q(M.buffer),1}catch(e){}}function Ms(e){var t=Kr();if(e>2147418112)return!1;for(var r=Math.max(t,16777216);r<e;)r=r<=536870912?z(2*r,65536):Math.min(z((3*r+2147483648)/4,65536),2147418112);return!!xs(r)}function As(e){try{var t=Ge.getStreamFromFD(e);return Ue.close(t),0}catch(e){return void 0!==Ue&&e instanceof Ue.ErrnoError||ye(e),e.errno}}function Ps(e,t,r,n,i){try{var o=Ge.getStreamFromFD(e),a=4294967296*r+(t>>>0);return a<=-9007199254740992||a>=9007199254740992?-61:(Ue.llseek(o,a,n),Ee=[o.position>>>0,(we=o.position,+ce(we)>=1?we>0?(0|de(+le(we/4294967296),4294967295))>>>0:~~+fe((we-+(~~we>>>0))/4294967296)>>>0:0)],V[i>>2]=Ee[0],V[i+4>>2]=Ee[1],o.getdents&&0===a&&0===n&&(o.getdents=null),0)}catch(e){return void 0!==Ue&&e instanceof Ue.ErrnoError||ye(e),e.errno}}function Ts(e,t,r,n){try{var i=Ge.getStreamFromFD(e),o=Ge.doWritev(i,t,r);return V[n>>2]=o,0}catch(e){return void 0!==Ue&&e instanceof Ue.ErrnoError||ye(e),e.errno}}function Ss(e){Va.activeTexture(e)}function ks(e,t){Va.attachShader(Jr.programs[e],Jr.shaders[t])}function Cs(e,t){35051==e?Va.currentPixelPackBufferBinding=t:35052==e&&(Va.currentPixelUnpackBufferBinding=t),Va.bindBuffer(e,Jr.buffers[t])}function Bs(e,t,r,n,i){Va.bindBufferRange(e,t,Jr.buffers[r],n,i)}function Ds(e,t){Va.bindFramebuffer(e,Jr.framebuffers[t])}function Fs(e,t){Va.bindRenderbuffer(e,Jr.renderbuffers[t])}function Is(e,t){Va.bindSampler(e,Jr.samplers[t])}function Rs(e,t){Va.bindTexture(e,Jr.textures[t])}function Ls(e){Va.bindVertexArray(Jr.vaos[e])}function Us(e,t){Va.blendEquationSeparate(e,t)}function Gs(e,t,r,n){Va.blendFuncSeparate(e,t,r,n)}function Os(e,t,r,n,i,o,a,u,s,c){Va.blitFramebuffer(e,t,r,n,i,o,a,u,s,c)}function Vs(e,t,r,n){Jr.currentContext.supportsWebGL2EntryPoints?r?Va.bufferData(e,U,n,r,t):Va.bufferData(e,t,n):Va.bufferData(e,r?U.subarray(r,r+t):t,n)}function js(e,t,r,n){Jr.currentContext.supportsWebGL2EntryPoints?Va.bufferSubData(e,t,U,n,r):Va.bufferSubData(e,t,U.subarray(n,n+r))}function Ns(e){Va.clear(e)}function $s(e,t,r,n){Va.clearColor(e,t,r,n)}function Ws(e){Va.clearDepth(e)}function qs(e){Va.clearStencil(e)}function zs(e,t,r,n){n>>>=0;var i=4294967295==(r>>>=0)&&4294967295==n?-1:E(r,n,!0);return Va.clientWaitSync(Jr.syncs[e],t,i)}function Qs(e,t,r,n){Va.colorMask(!!e,!!t,!!r,!!n)}function Xs(e){Va.compileShader(Jr.shaders[e])}function Ys(e,t,r,n,i,o,a,u,s){Jr.currentContext.supportsWebGL2EntryPoints?Va.currentPixelUnpackBufferBinding?Va.compressedTexSubImage2D(e,t,r,n,i,o,a,u,s):Va.compressedTexSubImage2D(e,t,r,n,i,o,a,U,s,u):Va.compressedTexSubImage2D(e,t,r,n,i,o,a,s?U.subarray(s,s+u):null)}function Hs(e,t,r,n,i,o,a,u,s,c,f){Jr.currentContext.supportsWebGL2EntryPoints?Va.currentPixelUnpackBufferBinding?Va.compressedTexSubImage3D(e,t,r,n,i,o,a,u,s,c,f):Va.compressedTexSubImage3D(e,t,r,n,i,o,a,u,s,U,f,c):Va.compressedTexSubImage3D(e,t,r,n,i,o,a,u,s,f?U.subarray(f,f+c):null)}function Ks(){var e=Jr.getNewId(Jr.programs),t=Va.createProgram();return t.name=e,Jr.programs[e]=t,e}function Zs(e){var t=Jr.getNewId(Jr.shaders);return Jr.shaders[t]=Va.createShader(e),t}function Js(e){Va.cullFace(e)}function ec(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2],i=Jr.buffers[n];i&&(Va.deleteBuffer(i),i.name=0,Jr.buffers[n]=null,n==Jr.currArrayBuffer&&(Jr.currArrayBuffer=0),n==Jr.currElementArrayBuffer&&(Jr.currElementArrayBuffer=0),n==Va.currentPixelPackBufferBinding&&(Va.currentPixelPackBufferBinding=0),n==Va.currentPixelUnpackBufferBinding&&(Va.currentPixelUnpackBufferBinding=0))}}function tc(e,t){for(var r=0;r<e;++r){var n=V[t+4*r>>2],i=Jr.framebuffers[n];i&&(Va.deleteFramebuffer(i),i.name=0,Jr.framebuffers[n]=null)}}function rc(e){if(e){var t=Jr.programs[e];t?(Va.deleteProgram(t),t.name=0,Jr.programs[e]=null,Jr.programInfos[e]=null):Jr.recordError(1281)}}function nc(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2],i=Jr.renderbuffers[n];i&&(Va.deleteRenderbuffer(i),i.name=0,Jr.renderbuffers[n]=null)}}function ic(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2],i=Jr.samplers[n];i&&(Va.deleteSampler(i),i.name=0,Jr.samplers[n]=null)}}function oc(e){if(e){var t=Jr.shaders[e];t?(Va.deleteShader(t),Jr.shaders[e]=null):Jr.recordError(1281)}}function ac(e){if(e){var t=Jr.syncs[e];t?(Va.deleteSync(t),t.name=0,Jr.syncs[e]=null):Jr.recordError(1281)}}function uc(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2],i=Jr.textures[n];i&&(Va.deleteTexture(i),i.name=0,Jr.textures[n]=null)}}function sc(e,t){for(var r=0;r<e;r++){var n=V[t+4*r>>2];Va.deleteVertexArray(Jr.vaos[n]),Jr.vaos[n]=null}}function cc(e){Va.depthFunc(e)}function fc(e){Va.depthMask(!!e)}function lc(e,t){Va.detachShader(Jr.programs[e],Jr.shaders[t])}function dc(e){Va.disable(e)}function hc(e){Va.disableVertexAttribArray(e)}function mc(e,t,r){Va.drawArrays(e,t,r)}function pc(e,t,r,n,i,o){ki(e,n,i,o)}function gc(e){Va.enable(e)}function vc(e){Va.enableVertexAttribArray(e)}function yc(e,t){var r=Va.fenceSync(e,t);if(r){var n=Jr.getNewId(Jr.syncs);return r.name=n,Jr.syncs[n]=r,n}return 0}function bc(){Va.finish()}function _c(){Va.flush()}function wc(e,t,r,n){Va.framebufferRenderbuffer(e,t,r,Jr.renderbuffers[n])}function Ec(e,t,r,n,i){Va.framebufferTexture2D(e,t,r,Jr.textures[n],i)}function xc(e,t,r,n,i){Va.framebufferTextureLayer(e,t,Jr.textures[r],n,i)}function Mc(e){Va.frontFace(e)}function Ac(e,t){Wi(e,t,"createBuffer",Jr.buffers)}function Pc(e,t){Wi(e,t,"createFramebuffer",Jr.framebuffers)}function Tc(e,t){Wi(e,t,"createRenderbuffer",Jr.renderbuffers)}function Sc(e,t){Wi(e,t,"createSampler",Jr.samplers)}function kc(e,t){Wi(e,t,"createTexture",Jr.textures)}function Cc(e,t){Wi(e,t,"createVertexArray",Jr.vaos)}function Bc(e){Va.generateMipmap(e)}function Dc(){var e=Va.getError()||Jr.lastError;return Jr.lastError=0,e}function Fc(e,t){co(e,t,2)}function Ic(e,t){co(e,t,0)}function Rc(e,t,r,n){var i=Va.getProgramInfoLog(Jr.programs[e]);null===i&&(i="(unknown error)");var o=t>0&&n?F(i,n,t):0;r&&(V[r>>2]=o)}function Lc(e,t,r){if(r)if(e>=Jr.counter)Jr.recordError(1281);else{var n=Jr.programInfos[e];if(n)if(35716==t){var i=Va.getProgramInfoLog(Jr.programs[e]);null===i&&(i="(unknown error)"),V[r>>2]=i.length+1}else if(35719==t)V[r>>2]=n.maxUniformLength;else if(35722==t){if(-1==n.maxAttributeLength){e=Jr.programs[e];var o=Va.getProgramParameter(e,35721);n.maxAttributeLength=0;for(var a=0;a<o;++a){var u=Va.getActiveAttrib(e,a);n.maxAttributeLength=Math.max(n.maxAttributeLength,u.name.length+1)}}V[r>>2]=n.maxAttributeLength}else if(35381==t){if(-1==n.maxUniformBlockNameLength){e=Jr.programs[e];var s=Va.getProgramParameter(e,35382);n.maxUniformBlockNameLength=0;for(a=0;a<s;++a){var c=Va.getActiveUniformBlockName(e,a);n.maxUniformBlockNameLength=Math.max(n.maxUniformBlockNameLength,c.length+1)}}V[r>>2]=n.maxUniformBlockNameLength}else V[r>>2]=Va.getProgramParameter(Jr.programs[e],t);else Jr.recordError(1282)}else Jr.recordError(1281)}function Uc(e,t,r,n){var i=Va.getShaderInfoLog(Jr.shaders[e]);null===i&&(i="(unknown error)");var o=t>0&&n?F(i,n,t):0;r&&(V[r>>2]=o)}function Gc(e,t,r){if(r)if(35716==t){var n=Va.getShaderInfoLog(Jr.shaders[e]);null===n&&(n="(unknown error)"),V[r>>2]=n.length+1}else if(35720==t){var i=Va.getShaderSource(Jr.shaders[e]),o=null===i||0==i.length?0:i.length+1;V[r>>2]=o}else V[r>>2]=Va.getShaderParameter(Jr.shaders[e],t);else Jr.recordError(1281)}function Oc(e){if(Jr.stringCache[e])return Jr.stringCache[e];var t;switch(e){case 7939:var r=Va.getSupportedExtensions()||[];t=No((r=r.concat(r.map((function(e){return"GL_"+e})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:var n=Va.getParameter(e);n||Jr.recordError(1280),t=No(n);break;case 7938:var i=Va.getParameter(Va.VERSION);t=No(i=Jr.currentContext.version>=2?"OpenGL ES 3.0 ("+i+")":"OpenGL ES 2.0 ("+i+")");break;case 35724:var o=Va.getParameter(Va.SHADING_LANGUAGE_VERSION),a=o.match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==a&&(3==a[1].length&&(a[1]=a[1]+"0"),o="OpenGL ES GLSL ES "+a[1]+" ("+o+")"),t=No(o);break;default:return Jr.recordError(1280),0}return Jr.stringCache[e]=t,t}function Vc(e,t){if(Jr.currentContext.version<2)return Jr.recordError(1282),0;var r=Jr.stringiCache[e];if(r)return t<0||t>=r.length?(Jr.recordError(1281),0):r[t];switch(e){case 7939:var n=Va.getSupportedExtensions()||[];return n=(n=n.concat(n.map((function(e){return"GL_"+e})))).map((function(e){return No(e)})),r=Jr.stringiCache[e]=n,t<0||t>=r.length?(Jr.recordError(1281),0):r[t];default:return Jr.recordError(1280),0}}function jc(e,t){return Va.getUniformBlockIndex(Jr.programs[e],B(t))}function Nc(e,t){var r=0;if("]"==(t=B(t))[t.length-1]){var n=t.lastIndexOf("[");r="]"!=t[n+1]?parseInt(t.slice(n+1)):0,t=t.slice(0,n)}var i=Jr.programInfos[e]&&Jr.programInfos[e].uniforms[t];return i&&r>=0&&r<i[0]?i[1]+r:-1}function $c(e,t,r){ra(e,t,r,5)}function Wc(e,t){Va.hint(e,t)}function qc(e,t,r){for(var n=bi[t],i=0;i<t;i++)n[i]=V[r+4*i>>2];Va.invalidateFramebuffer(e,n)}function zc(e,t,r,n,i,o,a){for(var u=bi[t],s=0;s<t;s++)u[s]=V[r+4*s>>2];Va.invalidateSubFramebuffer(e,u,n,i,o,a)}function Qc(e){return Va.isEnabled(e)}function Xc(e){Va.linkProgram(Jr.programs[e]),Jr.populateUniformTable(e)}function Yc(){w("missing function: glMapBufferRange"),ye(-1)}function Hc(e,t){3317==e&&(Jr.unpackAlignment=t),Va.pixelStorei(e,t)}function Kc(e,t){Va.polygonOffset(e,t)}function Zc(e,t,r,n,i,o,a){if(Jr.currentContext.supportsWebGL2EntryPoints)Va.currentPixelPackBufferBinding?Va.readPixels(e,t,r,n,i,o,a):Va.readPixels(e,t,r,n,i,o,Oa(o),a>>(0|ja[o]));else{var u=Ga(o,i,r,n,a);u?Va.readPixels(e,t,r,n,i,o,u):Jr.recordError(1280)}}function Jc(e,t,r,n){Va.renderbufferStorage(e,t,r,n)}function ef(e,t,r,n,i){Va.renderbufferStorageMultisample(e,t,r,n,i)}function tf(e,t,r){Va.samplerParameteri(Jr.samplers[e],t,r)}function rf(e,t,r,n){Va.scissor(e,t,r,n)}function nf(e,t,r,n){var i=Jr.getSource(e,t,r,n);Va.shaderSource(Jr.shaders[e],i)}function of(e,t,r){Va.texParameteri(e,t,r)}function af(e,t,r,n,i){Va.texStorage2D(e,t,r,n,i)}function uf(e,t,r,n,i,o){Va.texStorage3D(e,t,r,n,i,o)}function sf(e,t,r,n,i,o,a,u,s){if(Jr.currentContext.supportsWebGL2EntryPoints)Va.currentPixelUnpackBufferBinding?Va.texSubImage2D(e,t,r,n,i,o,a,u,s):0!=s?Va.texSubImage2D(e,t,r,n,i,o,a,u,Oa(u),s>>(0|ja[u])):Va.texSubImage2D(e,t,r,n,i,o,a,u,null);else{var c=null;s&&(c=Ga(u,a,i,o,s)),Va.texSubImage2D(e,t,r,n,i,o,a,u,c)}}function cf(e,t,r,n,i,o,a,u,s,c,f){Va.currentPixelUnpackBufferBinding?Va.texSubImage3D(e,t,r,n,i,o,a,u,s,c,f):0!=f?Va.texSubImage3D(e,t,r,n,i,o,a,u,s,c,Oa(c),f>>(0|ja[c])):Va.texSubImage3D(e,t,r,n,i,o,a,u,s,c,null)}function ff(e,t){Va.uniform1f(Jr.uniforms[e],t)}function lf(e,t){Va.uniform1i(Jr.uniforms[e],t)}function df(e,t,r,n,i){Va.uniform4f(Jr.uniforms[e],t,r,n,i)}function hf(e,t,r){e=Jr.programs[e],Va.uniformBlockBinding(e,t,r)}function mf(){w("missing function: glUnmapBuffer"),ye(-1)}function pf(e){Va.useProgram(Jr.programs[e])}function gf(e,t,r,n,i){Va.vertexAttrib4f(e,t,r,n,i)}function vf(e,t,r,n,i){Va.vertexAttribI4ui(e,t,r,n,i)}function yf(e,t,r,n,i){Va.vertexAttribIPointer(e,t,r,n,i)}function bf(e,t,r,n,i,o){Va.vertexAttribPointer(e,t,r,!!n,i,o)}function _f(e,t,r,n){Va.viewport(e,t,r,n)}function wf(e,t,r,n){n>>>=0;var i=4294967295==(r>>>=0)&&4294967295==n?-1:E(r,n,!0);Va.waitSync(Jr.syncs[e],t,i)}function Ef(){return 0}function xf(){return 0}function Mf(){return 6}function Af(){}function Pf(e){return(e=+e)>=0?+le(e+.5):+fe(e-.5)}function Tf(e){A(0|e)}function Sf(e){switch(e){case 30:return W;case 85:return 2147418112/W;case 132:case 133:case 12:case 137:case 138:case 15:case 235:case 16:case 17:case 18:case 19:case 20:case 149:case 13:case 10:case 236:case 153:case 9:case 21:case 22:case 159:case 154:case 14:case 77:case 78:case 139:case 80:case 81:case 82:case 68:case 67:case 164:case 11:case 29:case 47:case 48:case 95:case 52:case 51:case 46:return 200809;case 79:return 0;case 27:case 246:case 127:case 128:case 23:case 24:case 160:case 161:case 181:case 182:case 242:case 183:case 184:case 243:case 244:case 245:case 165:case 178:case 179:case 49:case 50:case 168:case 169:case 175:case 170:case 171:case 172:case 97:case 76:case 32:case 173:case 35:return-1;case 176:case 177:case 7:case 155:case 8:case 157:case 125:case 126:case 92:case 93:case 129:case 130:case 131:case 94:case 91:return 1;case 74:case 60:case 69:case 70:case 4:return 1024;case 31:case 42:case 72:return 32;case 87:case 26:case 33:return 2147483647;case 34:case 1:return 47839;case 38:case 36:return 99;case 43:case 37:return 2048;case 0:return 2097152;case 3:return 65536;case 28:return 32768;case 44:return 32767;case 75:return 16384;case 39:return 1e3;case 89:return 700;case 71:return 256;case 40:return 255;case 2:return 100;case 180:return 64;case 25:return 20;case 5:return 16;case 6:return 6;case 73:return 4;case 84:return"object"==typeof navigator&&navigator.hardwareConcurrency||1}return Fe(28),-1}Ue.staticInit(),Ze=a.InternalError=Ke(Error,"InternalError"),ot(),st=a.BindingError=Ke(Error,"BindingError"),Tt(),Ht(),Wt(),er=a.UnboundTypeError=Ke(Error,"UnboundTypeError"),vr(),Xr=l?function(){var e=t.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:"object"==typeof performance&&performance&&"function"==typeof performance.now?function(){return performance.now()}:Date.now,Jr.init();for(var kf=0;kf<32;kf++)bi.push(new Array(kf));function Cf(e,t,r){var n=r>0?r:I(e)+1,i=new Array(n),o=D(e,i,0,i.length);return t&&(i.length=o),i}var Bf={__cxa_atexit:Be,__syscall3:Oe,__syscall5:Ve,_embind_finalize_value_array:tt,_embind_finalize_value_object:nt,_embind_register_bool:lt,_embind_register_class:nr,_embind_register_class_class_function:ur,_embind_register_class_constructor:sr,_embind_register_class_function:cr,_embind_register_class_property:lr,_embind_register_emval:br,_embind_register_enum:wr,_embind_register_enum_value:xr,_embind_register_float:Pr,_embind_register_function:Tr,_embind_register_integer:kr,_embind_register_memory_view:Cr,_embind_register_std_string:Br,_embind_register_std_wstring:Dr,_embind_register_value_array:Fr,_embind_register_value_array_element:Ir,_embind_register_value_object:Rr,_embind_register_value_object_field:Lr,_embind_register_void:Ur,_emval_as:Or,_emval_decref:mr,_emval_get_property:Vr,_emval_incref:jr,_emval_new_cstring:Wr,_emval_run_destructors:qr,_emval_take_value:zr,abort:Qr,clock_gettime:Hr,emscripten_get_sbrk_ptr:Zr,emscripten_glActiveTexture:en,emscripten_glAttachShader:tn,emscripten_glBeginQuery:rn,emscripten_glBeginQueryEXT:nn,emscripten_glBeginTransformFeedback:on,emscripten_glBindAttribLocation:an,emscripten_glBindBuffer:un,emscripten_glBindBufferBase:sn,emscripten_glBindBufferRange:cn,emscripten_glBindFramebuffer:fn,emscripten_glBindRenderbuffer:ln,emscripten_glBindSampler:dn,emscripten_glBindTexture:hn,emscripten_glBindTransformFeedback:mn,emscripten_glBindVertexArray:pn,emscripten_glBindVertexArrayOES:gn,emscripten_glBlendColor:vn,emscripten_glBlendEquation:yn,emscripten_glBlendEquationSeparate:bn,emscripten_glBlendFunc:_n,emscripten_glBlendFuncSeparate:wn,emscripten_glBlitFramebuffer:En,emscripten_glBufferData:xn,emscripten_glBufferSubData:Mn,emscripten_glCheckFramebufferStatus:An,emscripten_glClear:Pn,emscripten_glClearBufferfi:Tn,emscripten_glClearBufferfv:Sn,emscripten_glClearBufferiv:kn,emscripten_glClearBufferuiv:Cn,emscripten_glClearColor:Bn,emscripten_glClearDepthf:Dn,emscripten_glClearStencil:Fn,emscripten_glClientWaitSync:In,emscripten_glColorMask:Rn,emscripten_glCompileShader:Ln,emscripten_glCompressedTexImage2D:Un,emscripten_glCompressedTexImage3D:Gn,emscripten_glCompressedTexSubImage2D:On,emscripten_glCompressedTexSubImage3D:Vn,emscripten_glCopyBufferSubData:jn,emscripten_glCopyTexImage2D:Nn,emscripten_glCopyTexSubImage2D:$n,emscripten_glCopyTexSubImage3D:Wn,emscripten_glCreateProgram:qn,emscripten_glCreateShader:zn,emscripten_glCullFace:Qn,emscripten_glDeleteBuffers:Xn,emscripten_glDeleteFramebuffers:Yn,emscripten_glDeleteProgram:Hn,emscripten_glDeleteQueries:Kn,emscripten_glDeleteQueriesEXT:Zn,emscripten_glDeleteRenderbuffers:Jn,emscripten_glDeleteSamplers:ei,emscripten_glDeleteShader:ti,emscripten_glDeleteSync:ri,emscripten_glDeleteTextures:ni,emscripten_glDeleteTransformFeedbacks:ii,emscripten_glDeleteVertexArrays:oi,emscripten_glDeleteVertexArraysOES:ai,emscripten_glDepthFunc:ui,emscripten_glDepthMask:si,emscripten_glDepthRangef:ci,emscripten_glDetachShader:fi,emscripten_glDisable:li,emscripten_glDisableVertexAttribArray:di,emscripten_glDrawArrays:hi,emscripten_glDrawArraysInstanced:mi,emscripten_glDrawArraysInstancedANGLE:pi,emscripten_glDrawArraysInstancedARB:gi,emscripten_glDrawArraysInstancedEXT:vi,emscripten_glDrawArraysInstancedNV:yi,emscripten_glDrawBuffers:_i,emscripten_glDrawBuffersEXT:wi,emscripten_glDrawBuffersWEBGL:Ei,emscripten_glDrawElements:xi,emscripten_glDrawElementsInstanced:Mi,emscripten_glDrawElementsInstancedANGLE:Ai,emscripten_glDrawElementsInstancedARB:Pi,emscripten_glDrawElementsInstancedEXT:Ti,emscripten_glDrawElementsInstancedNV:Si,emscripten_glDrawRangeElements:Ci,emscripten_glEnable:Bi,emscripten_glEnableVertexAttribArray:Di,emscripten_glEndQuery:Fi,emscripten_glEndQueryEXT:Ii,emscripten_glEndTransformFeedback:Ri,emscripten_glFenceSync:Li,emscripten_glFinish:Ui,emscripten_glFlush:Gi,emscripten_glFlushMappedBufferRange:Oi,emscripten_glFramebufferRenderbuffer:Vi,emscripten_glFramebufferTexture2D:ji,emscripten_glFramebufferTextureLayer:Ni,emscripten_glFrontFace:$i,emscripten_glGenBuffers:qi,emscripten_glGenFramebuffers:zi,emscripten_glGenQueries:Qi,emscripten_glGenQueriesEXT:Xi,emscripten_glGenRenderbuffers:Yi,emscripten_glGenSamplers:Hi,emscripten_glGenTextures:Ki,emscripten_glGenTransformFeedbacks:Zi,emscripten_glGenVertexArrays:Ji,emscripten_glGenVertexArraysOES:eo,emscripten_glGenerateMipmap:to,emscripten_glGetActiveAttrib:ro,emscripten_glGetActiveUniform:no,emscripten_glGetActiveUniformBlockName:io,emscripten_glGetActiveUniformBlockiv:oo,emscripten_glGetActiveUniformsiv:ao,emscripten_glGetAttachedShaders:uo,emscripten_glGetAttribLocation:so,emscripten_glGetBooleanv:fo,emscripten_glGetBufferParameteri64v:lo,emscripten_glGetBufferParameteriv:ho,emscripten_glGetBufferPointerv:mo,emscripten_glGetError:po,emscripten_glGetFloatv:go,emscripten_glGetFragDataLocation:vo,emscripten_glGetFramebufferAttachmentParameteriv:yo,emscripten_glGetInteger64i_v:_o,emscripten_glGetInteger64v:wo,emscripten_glGetIntegeri_v:Eo,emscripten_glGetIntegerv:xo,emscripten_glGetInternalformativ:Mo,emscripten_glGetProgramBinary:Ao,emscripten_glGetProgramInfoLog:Po,emscripten_glGetProgramiv:To,emscripten_glGetQueryObjecti64vEXT:So,emscripten_glGetQueryObjectivEXT:ko,emscripten_glGetQueryObjectui64vEXT:Co,emscripten_glGetQueryObjectuiv:Bo,emscripten_glGetQueryObjectuivEXT:Do,emscripten_glGetQueryiv:Fo,emscripten_glGetQueryivEXT:Io,emscripten_glGetRenderbufferParameteriv:Ro,emscripten_glGetSamplerParameterfv:Lo,emscripten_glGetSamplerParameteriv:Uo,emscripten_glGetShaderInfoLog:Go,emscripten_glGetShaderPrecisionFormat:Oo,emscripten_glGetShaderSource:Vo,emscripten_glGetShaderiv:jo,emscripten_glGetString:$o,emscripten_glGetStringi:Wo,emscripten_glGetSynciv:qo,emscripten_glGetTexParameterfv:zo,emscripten_glGetTexParameteriv:Qo,emscripten_glGetTransformFeedbackVarying:Xo,emscripten_glGetUniformBlockIndex:Yo,emscripten_glGetUniformIndices:Ho,emscripten_glGetUniformLocation:Ko,emscripten_glGetUniformfv:Jo,emscripten_glGetUniformiv:ea,emscripten_glGetUniformuiv:ta,emscripten_glGetVertexAttribIiv:na,emscripten_glGetVertexAttribIuiv:ia,emscripten_glGetVertexAttribPointerv:oa,emscripten_glGetVertexAttribfv:aa,emscripten_glGetVertexAttribiv:ua,emscripten_glHint:sa,emscripten_glInvalidateFramebuffer:ca,emscripten_glInvalidateSubFramebuffer:fa,emscripten_glIsBuffer:la,emscripten_glIsEnabled:da,emscripten_glIsFramebuffer:ha,emscripten_glIsProgram:ma,emscripten_glIsQuery:pa,emscripten_glIsQueryEXT:ga,emscripten_glIsRenderbuffer:va,emscripten_glIsSampler:ya,emscripten_glIsShader:ba,emscripten_glIsSync:_a,emscripten_glIsTexture:wa,emscripten_glIsTransformFeedback:Ea,emscripten_glIsVertexArray:xa,emscripten_glIsVertexArrayOES:Ma,emscripten_glLineWidth:Aa,emscripten_glLinkProgram:Pa,emscripten_glMapBufferRange:Ta,emscripten_glPauseTransformFeedback:Sa,emscripten_glPixelStorei:ka,emscripten_glPolygonOffset:Ca,emscripten_glProgramBinary:Ba,emscripten_glProgramParameteri:Da,emscripten_glQueryCounterEXT:Fa,emscripten_glReadBuffer:Ia,emscripten_glReadPixels:Na,emscripten_glReleaseShaderCompiler:$a,emscripten_glRenderbufferStorage:Wa,emscripten_glRenderbufferStorageMultisample:qa,emscripten_glResumeTransformFeedback:za,emscripten_glSampleCoverage:Qa,emscripten_glSamplerParameterf:Xa,emscripten_glSamplerParameterfv:Ya,emscripten_glSamplerParameteri:Ha,emscripten_glSamplerParameteriv:Ka,emscripten_glScissor:Za,emscripten_glShaderBinary:Ja,emscripten_glShaderSource:eu,emscripten_glStencilFunc:tu,emscripten_glStencilFuncSeparate:ru,emscripten_glStencilMask:nu,emscripten_glStencilMaskSeparate:iu,emscripten_glStencilOp:ou,emscripten_glStencilOpSeparate:au,emscripten_glTexImage2D:uu,emscripten_glTexImage3D:su,emscripten_glTexParameterf:cu,emscripten_glTexParameterfv:fu,emscripten_glTexParameteri:lu,emscripten_glTexParameteriv:du,emscripten_glTexStorage2D:hu,emscripten_glTexStorage3D:mu,emscripten_glTexSubImage2D:pu,emscripten_glTexSubImage3D:gu,emscripten_glTransformFeedbackVaryings:vu,emscripten_glUniform1f:yu,emscripten_glUniform1fv:bu,emscripten_glUniform1i:_u,emscripten_glUniform1iv:wu,emscripten_glUniform1ui:Eu,emscripten_glUniform1uiv:xu,emscripten_glUniform2f:Mu,emscripten_glUniform2fv:Au,emscripten_glUniform2i:Pu,emscripten_glUniform2iv:Tu,emscripten_glUniform2ui:Su,emscripten_glUniform2uiv:ku,emscripten_glUniform3f:Cu,emscripten_glUniform3fv:Bu,emscripten_glUniform3i:Du,emscripten_glUniform3iv:Fu,emscripten_glUniform3ui:Iu,emscripten_glUniform3uiv:Ru,emscripten_glUniform4f:Lu,emscripten_glUniform4fv:Uu,emscripten_glUniform4i:Gu,emscripten_glUniform4iv:Ou,emscripten_glUniform4ui:Vu,emscripten_glUniform4uiv:ju,emscripten_glUniformBlockBinding:Nu,emscripten_glUniformMatrix2fv:$u,emscripten_glUniformMatrix2x3fv:Wu,emscripten_glUniformMatrix2x4fv:qu,emscripten_glUniformMatrix3fv:zu,emscripten_glUniformMatrix3x2fv:Qu,emscripten_glUniformMatrix3x4fv:Xu,emscripten_glUniformMatrix4fv:Yu,emscripten_glUniformMatrix4x2fv:Hu,emscripten_glUniformMatrix4x3fv:Ku,emscripten_glUnmapBuffer:Zu,emscripten_glUseProgram:Ju,emscripten_glValidateProgram:es,emscripten_glVertexAttrib1f:ts,emscripten_glVertexAttrib1fv:rs,emscripten_glVertexAttrib2f:ns,emscripten_glVertexAttrib2fv:is,emscripten_glVertexAttrib3f:os,emscripten_glVertexAttrib3fv:as,emscripten_glVertexAttrib4f:us,emscripten_glVertexAttrib4fv:ss,emscripten_glVertexAttribDivisor:cs,emscripten_glVertexAttribDivisorANGLE:fs,emscripten_glVertexAttribDivisorARB:ls,emscripten_glVertexAttribDivisorEXT:ds,emscripten_glVertexAttribDivisorNV:hs,emscripten_glVertexAttribI4i:ms,emscripten_glVertexAttribI4iv:ps,emscripten_glVertexAttribI4ui:gs,emscripten_glVertexAttribI4uiv:vs,emscripten_glVertexAttribIPointer:ys,emscripten_glVertexAttribPointer:bs,emscripten_glViewport:_s,emscripten_glWaitSync:ws,emscripten_memcpy_big:Es,emscripten_resize_heap:Ms,fd_close:As,fd_seek:Ps,fd_write:Ts,glActiveTexture:Ss,glAttachShader:ks,glBindBuffer:Cs,glBindBufferRange:Bs,glBindFramebuffer:Ds,glBindRenderbuffer:Fs,glBindSampler:Is,glBindTexture:Rs,glBindVertexArray:Ls,glBlendEquationSeparate:Us,glBlendFuncSeparate:Gs,glBlitFramebuffer:Os,glBufferData:Vs,glBufferSubData:js,glClear:Ns,glClearColor:$s,glClearDepthf:Ws,glClearStencil:qs,glClientWaitSync:zs,glColorMask:Qs,glCompileShader:Xs,glCompressedTexSubImage2D:Ys,glCompressedTexSubImage3D:Hs,glCreateProgram:Ks,glCreateShader:Zs,glCullFace:Js,glDeleteBuffers:ec,glDeleteFramebuffers:tc,glDeleteProgram:rc,glDeleteRenderbuffers:nc,glDeleteSamplers:ic,glDeleteShader:oc,glDeleteSync:ac,glDeleteTextures:uc,glDeleteVertexArrays:sc,glDepthFunc:cc,glDepthMask:fc,glDetachShader:lc,glDisable:dc,glDisableVertexAttribArray:hc,glDrawArrays:mc,glDrawRangeElements:pc,glEnable:gc,glEnableVertexAttribArray:vc,glFenceSync:yc,glFinish:bc,glFlush:_c,glFramebufferRenderbuffer:wc,glFramebufferTexture2D:Ec,glFramebufferTextureLayer:xc,glFrontFace:Mc,glGenBuffers:Ac,glGenFramebuffers:Pc,glGenRenderbuffers:Tc,glGenSamplers:Sc,glGenTextures:kc,glGenVertexArrays:Cc,glGenerateMipmap:Bc,glGetError:Dc,glGetFloatv:Fc,glGetIntegerv:Ic,glGetProgramInfoLog:Rc,glGetProgramiv:Lc,glGetShaderInfoLog:Uc,glGetShaderiv:Gc,glGetString:Oc,glGetStringi:Vc,glGetUniformBlockIndex:jc,glGetUniformLocation:Nc,glGetVertexAttribiv:$c,glHint:Wc,glInvalidateFramebuffer:qc,glInvalidateSubFramebuffer:zc,glIsEnabled:Qc,glLinkProgram:Xc,glMapBufferRange:Yc,glPixelStorei:Hc,glPolygonOffset:Kc,glReadPixels:Zc,glRenderbufferStorage:Jc,glRenderbufferStorageMultisample:ef,glSamplerParameteri:tf,glScissor:rf,glShaderSource:nf,glTexParameteri:of,glTexStorage2D:af,glTexStorage3D:uf,glTexSubImage2D:sf,glTexSubImage3D:cf,glUniform1f:ff,glUniform1i:lf,glUniform4f:df,glUniformBlockBinding:hf,glUnmapBuffer:mf,glUseProgram:pf,glVertexAttrib4f:gf,glVertexAttribI4ui:vf,glVertexAttribIPointer:yf,glVertexAttribPointer:bf,glViewport:_f,glWaitSync:wf,memory:M,pthread_cond_destroy:Ef,pthread_cond_timedwait:xf,pthread_create:Mf,pthread_join:Af,roundf:Pf,setTempRet0:Tf,sysconf:Sf,table:P},Df=Pe();a.asm=Df;var Ff,If=a.___wasm_call_ctors=function(){return a.asm.__wasm_call_ctors.apply(null,arguments)},Rf=a._free=function(){return a.asm.free.apply(null,arguments)},Lf=a._malloc=function(){return a.asm.malloc.apply(null,arguments)},Uf=(a._strstr=function(){return a.asm.strstr.apply(null,arguments)},a.___errno_location=function(){return a.asm.__errno_location.apply(null,arguments)},a._setThrew=function(){return a.asm.setThrew.apply(null,arguments)},a.___getTypeName=function(){return a.asm.__getTypeName.apply(null,arguments)});a.___embind_register_native_and_builtin_types=function(){return a.asm.__embind_register_native_and_builtin_types.apply(null,arguments)},a._emscripten_GetProcAddress=function(){return a.asm.emscripten_GetProcAddress.apply(null,arguments)},a.stackSave=function(){return a.asm.stackSave.apply(null,arguments)},a.stackAlloc=function(){return a.asm.stackAlloc.apply(null,arguments)},a.stackRestore=function(){return a.asm.stackRestore.apply(null,arguments)},a.__growWasmMemory=function(){return a.asm.__growWasmMemory.apply(null,arguments)},a.dynCall_i=function(){return a.asm.dynCall_i.apply(null,arguments)},a.dynCall_vi=function(){return a.asm.dynCall_vi.apply(null,arguments)},a.dynCall_fii=function(){return a.asm.dynCall_fii.apply(null,arguments)},a.dynCall_viif=function(){return a.asm.dynCall_viif.apply(null,arguments)},a.dynCall_dii=function(){return a.asm.dynCall_dii.apply(null,arguments)},a.dynCall_viid=function(){return a.asm.dynCall_viid.apply(null,arguments)},a.dynCall_iii=function(){return a.asm.dynCall_iii.apply(null,arguments)},a.dynCall_viii=function(){return a.asm.dynCall_viii.apply(null,arguments)},a.dynCall_ii=function(){return a.asm.dynCall_ii.apply(null,arguments)},a.dynCall_vii=function(){return a.asm.dynCall_vii.apply(null,arguments)},a.dynCall_iiii=function(){return a.asm.dynCall_iiii.apply(null,arguments)},a.dynCall_viiii=function(){return a.asm.dynCall_viiii.apply(null,arguments)},a.dynCall_iiiii=function(){return a.asm.dynCall_iiiii.apply(null,arguments)},a.dynCall_iiiiii=function(){return a.asm.dynCall_iiiiii.apply(null,arguments)},a.dynCall_viidddddd=function(){return a.asm.dynCall_viidddddd.apply(null,arguments)},a.dynCall_viiidddddd=function(){return a.asm.dynCall_viiidddddd.apply(null,arguments)},a.dynCall_viddddi=function(){return a.asm.dynCall_viddddi.apply(null,arguments)},a.dynCall_viiddddi=function(){return a.asm.dynCall_viiddddi.apply(null,arguments)},a.dynCall_viddd=function(){return a.asm.dynCall_viddd.apply(null,arguments)},a.dynCall_viiddd=function(){return a.asm.dynCall_viiddd.apply(null,arguments)},a.dynCall_viidd=function(){return a.asm.dynCall_viidd.apply(null,arguments)},a.dynCall_viiidd=function(){return a.asm.dynCall_viiidd.apply(null,arguments)},a.dynCall_fi=function(){return a.asm.dynCall_fi.apply(null,arguments)},a.dynCall_viiiii=function(){return a.asm.dynCall_viiiii.apply(null,arguments)},a.dynCall_vifff=function(){return a.asm.dynCall_vifff.apply(null,arguments)},a.dynCall_viifff=function(){return a.asm.dynCall_viifff.apply(null,arguments)},a.dynCall_vif=function(){return a.asm.dynCall_vif.apply(null,arguments)},a.dynCall_iiiiiii=function(){return a.asm.dynCall_iiiiiii.apply(null,arguments)},a.dynCall_viiffff=function(){return a.asm.dynCall_viiffff.apply(null,arguments)},a.dynCall_viiiffff=function(){return a.asm.dynCall_viiiffff.apply(null,arguments)},a.dynCall_viiiiiiii=function(){return a.asm.dynCall_viiiiiiii.apply(null,arguments)},a.dynCall_viiiiiiiii=function(){return a.asm.dynCall_viiiiiiiii.apply(null,arguments)},a.dynCall_viiiiii=function(){return a.asm.dynCall_viiiiii.apply(null,arguments)},a.dynCall_viiiiiii=function(){return a.asm.dynCall_viiiiiii.apply(null,arguments)},a.dynCall_iif=function(){return a.asm.dynCall_iif.apply(null,arguments)},a.dynCall_iiif=function(){return a.asm.dynCall_iiif.apply(null,arguments)},a.dynCall_iiff=function(){return a.asm.dynCall_iiff.apply(null,arguments)},a.dynCall_iiiff=function(){return a.asm.dynCall_iiiff.apply(null,arguments)},a.dynCall_viiif=function(){return a.asm.dynCall_viiif.apply(null,arguments)},a.dynCall_viiff=function(){return a.asm.dynCall_viiff.apply(null,arguments)},a.dynCall_viiiff=function(){return a.asm.dynCall_viiiff.apply(null,arguments)},a.dynCall_fiii=function(){return a.asm.dynCall_fiii.apply(null,arguments)},a.dynCall_iiiiiiii=function(){return a.asm.dynCall_iiiiiiii.apply(null,arguments)},a.dynCall_viff=function(){return a.asm.dynCall_viff.apply(null,arguments)},a.dynCall_viiiiiiiiii=function(){return a.asm.dynCall_viiiiiiiiii.apply(null,arguments)},a.dynCall_viiiiiiiiiii=function(){return a.asm.dynCall_viiiiiiiiiii.apply(null,arguments)},a.dynCall_v=function(){return a.asm.dynCall_v.apply(null,arguments)},a.dynCall_jii=function(){return a.asm.dynCall_jii.apply(null,arguments)},a.dynCall_iiij=function(){return a.asm.dynCall_iiij.apply(null,arguments)},a.dynCall_vij=function(){return a.asm.dynCall_vij.apply(null,arguments)},a.dynCall_jiji=function(){return a.asm.dynCall_jiji.apply(null,arguments)},a.dynCall_iidiiii=function(){return a.asm.dynCall_iidiiii.apply(null,arguments)},a.dynCall_vffff=function(){return a.asm.dynCall_vffff.apply(null,arguments)},a.dynCall_vf=function(){return a.asm.dynCall_vf.apply(null,arguments)},a.dynCall_vff=function(){return a.asm.dynCall_vff.apply(null,arguments)},a.dynCall_vfi=function(){return a.asm.dynCall_vfi.apply(null,arguments)},a.dynCall_viffff=function(){return a.asm.dynCall_viffff.apply(null,arguments)},a.dynCall_viifi=function(){return a.asm.dynCall_viifi.apply(null,arguments)};function Gf(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Of(e){function t(){Ff||(Ff=!0,T||(ie(),oe(),a.onRuntimeInitialized&&a.onRuntimeInitialized(),ae()))}e=e||s,he>0||(ne(),he>0||(a.setStatus?(a.setStatus("Running..."),setTimeout((function(){setTimeout((function(){a.setStatus("")}),1),t()}),1)):t()))}if(a.asm=Df,pe=function e(){Ff||Of(),Ff||(pe=e)},a.run=Of,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);a.preInit.length>0;)a.preInit.pop()();function Vf(t){return("string"==typeof t||t instanceof String)&&(t=e.assets[t]),t.buffer instanceof ArrayBuffer&&(t=e.Buffer(t)),t}function jf(e,t,r){return Math.max(Math.min(r,e),t)}return!0,Of(),e.remainingInitializationTasks=1,e.init=function(t,r){e.onReady=r,e.remainingInitializationTasks+=t.length,e.assets={},"undefined"!=typeof glMatrix&&e.loadMathExtensions(),e.fetch(t,null,(function(t){0==--e.remainingInitializationTasks&&e.onReady&&e.onReady()}))},e.postRun=function(){e.loadClassExtensions(),0==--e.remainingInitializationTasks&&e.onReady&&e.onReady()},e.fetch=function(t,r,n){var i=t.length;t.forEach((function(t){e.assets[t]?(n&&n(t),0==--i&&r&&r()):fetch(t).then((function(e){if(!e.ok)throw new Error(t);return e.arrayBuffer()})).then((function(o){e.assets[t]=new Uint8Array(o),n&&n(t),0==--i&&r&&r()}))}))},e.loadClassExtensions=function(){e.Engine.create=function(t,r){r=Object.assign({majorVersion:2,minorVersion:0,antialias:!1,depth:!0,alpha:!1},r);const n=t.getContext("webgl2",r),i=Jr.registerContext(n,r);return Jr.makeContextCurrent(i),n.getExtension("WEBGL_compressed_texture_s3tc"),n.getExtension("WEBGL_compressed_texture_astc"),n.getExtension("WEBGL_compressed_texture_etc"),e.Engine._create()},e.Engine.prototype.createMaterial=function(e){e=Vf(e);const t=this._createMaterial(e);return e.delete(),t},e.Engine.prototype.createTextureFromKtx=function(t,r){t=Vf(t);const n=e._createTextureFromKtx(t,this,r);return t.delete(),n},e.Engine.prototype.createIblFromKtx=function(t,r){t=Vf(t);const n=e._createIblFromKtx(t,this,r);return t.delete(),n},e.Engine.prototype.createSkyFromKtx=function(t,r){const n=this.createTextureFromKtx(t,r);return e.Skybox.Builder().environment(n).build(this)},e.Engine.prototype.createTextureFromPng=function(t,r){t=Vf(t);const n=e._createTextureFromImageFile(t,this,r);return t.delete(),n},e.Engine.prototype.createTextureFromJpeg=function(t,r){t=Vf(t);const n=e._createTextureFromImageFile(t,this,r);return t.delete(),n},e.Engine.prototype.loadFilamesh=function(t,r,n){t=Vf(t);const i=e._loadFilamesh(this,t,r,n);return t.delete(),i},e.Engine.prototype.createAssetLoader=function(){const t=new e.gltfio$UbershaderLoader(this);return new e.gltfio$AssetLoader(this,t)},e.VertexBuffer.prototype.setBufferAt=function(e,t,r){r=Vf(r),this._setBufferAt(e,t,r),r.delete()},e.IndexBuffer.prototype.setBuffer=function(e,t){t=Vf(t),this._setBuffer(e,t),t.delete()},e.RenderableManager$Builder.prototype.build=e.LightManager$Builder.prototype.build=function(e,t){const r=this._build(e,t);return this.delete(),r},e.RenderTarget$Builder.prototype.build=e.VertexBuffer$Builder.prototype.build=e.IndexBuffer$Builder.prototype.build=e.Texture$Builder.prototype.build=e.IndirectLight$Builder.prototype.build=e.Skybox$Builder.prototype.build=function(e){const t=this._build(e);return this.delete(),t},e.KtxBundle.prototype.getBlob=function(e){const t=this._getBlob(e),r=t.getBytes();return t.delete(),r},e.KtxBundle.prototype.getCubeBlob=function(e){const t=this._getCubeBlob(e),r=t.getBytes();return t.delete(),r},e.Texture.prototype.setImage=function(e,t,r){this._setImage(e,t,r),r.delete()},e.Texture.prototype.setImageCube=function(e,t,r){this._setImageCube(e,t,r),r.delete()},e.SurfaceOrientation$Builder.prototype.build=function(){const e=this._build();return this.delete(),e},e.gltfio$AssetLoader.prototype.createAssetFromJson=function(e){"string"==typeof e&&e.endsWith(".glb")&&console.error("Please use createAssetFromBinary for glb files."),e=Vf(e);const t=this._createAssetFromJson(e);return e.delete(),t},e.gltfio$AssetLoader.prototype.createAssetFromBinary=function(e){"string"==typeof e&&e.endsWith(".gltf")&&console.error("Please use createAssetFromJson for gltf files."),e=Vf(e);const t=this._createAssetFromBinary(e);return e.delete(),t},e.gltfio$FilamentAsset.prototype.loadResources=function(t,r,n,i){const o=this,a=this.getEngine(),u=this.getResourceUris(),s=new Set,c={},f=i||30;n=n||document.location;for(var l=0;l<u.size();l++){const e=u.get(l);if(e){const t=""+new URL(e,n);c[t]=e,s.add(t)}}const d=new e.gltfio$ResourceLoader(a),h=function(){const e=function(){d.asyncBeginLoad(o);const e=setInterval(()=>{d.asyncUpdateLoad(),d.asyncGetLoadProgress()>=1&&(clearInterval(e),d.delete())},f)};t?t(e):e()};0!=s.size?e.fetch(Array.from(s),h,(function(e){const t=Vf(e),n=c[e];d.addResourceData(n,t),t.delete(),r&&r(n)})):h()}},e.Buffer=function(t){console.assert(t.buffer instanceof ArrayBuffer),console.assert(t.byteLength>0),e.HEAPU32.buffer==t.buffer&&(t=new Uint8Array(t));const r=t,n=new e.driver$BufferDescriptor(r.byteLength),i=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);return n.getBytes().set(i),n},e.PixelBuffer=function(t,r,n){console.assert(t.buffer instanceof ArrayBuffer),console.assert(t.byteLength>0),e.HEAPU32.buffer==t.buffer&&(t=new Uint8Array(t));const i=t,o=new e.driver$PixelBufferDescriptor(i.byteLength,r,n),a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return o.getBytes().set(a),o},e.CompressedPixelBuffer=function(t,r,n){console.assert(t.buffer instanceof ArrayBuffer),console.assert(t.byteLength>0),n=n||t.byteLength,e.HEAPU32.buffer==t.buffer&&(t=new Uint8Array(t));const i=t,o=new e.driver$PixelBufferDescriptor(i.byteLength,r,n,!0),a=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return o.getBytes().set(a),o},e._loadFilamesh=function(t,r,n,i){i=i||{};const o=new e.MeshReader$MaterialRegistry;for(var a in i)o.set(a,i[a]);n&&o.set("DefaultMaterial",n);const u=e.MeshReader.loadMeshFromBuffer(t,r,o),s=o.keys();for(var c=0;c<s.size();c++){const e=s.get(c),t=o.get(e);i[e]=t}return{renderable:u.renderable(),vertexBuffer:u.vertexBuffer(),indexBuffer:u.indexBuffer()}},e.IcoSphere=function(t){const r=.5257311121191336,n=.8506508083520399;if(this.vertices=new Float32Array([-r,0,+n,+r,0,+n,-r,0,-n,+r,0,-n,0,+n,+r,0,+n,-r,0,-n,+r,0,-n,-r,+n,+r,0,-n,+r,0,+n,-r,0,-n,-r,0]),this.triangles=new Uint16Array([1,4,0,4,9,0,4,5,9,8,5,4,1,8,4,1,10,8,10,3,8,8,3,5,3,2,5,3,7,2,3,10,7,10,6,7,6,11,7,6,0,11,6,1,0,10,1,6,11,0,9,2,11,9,5,2,9,11,2,7]),t)for(;t-- >0;)this.subdivide();const i=this.vertices.length/3,o=e._malloc(this.vertices.length*this.vertices.BYTES_PER_ELEMENT);a.HEAPU8.set(new Uint8Array(this.vertices.buffer),o);const u=new e.SurfaceOrientation$Builder;u.vertexCount(i),u.normals(o,0);const s=u.build();e._free(o);const c=8*i,f=e._malloc(c);s.getQuats(f,i,e.VertexBuffer$AttributeType.SHORT4);const l=a.HEAPU8.subarray(f,f+c).slice().buffer;e._free(f),this.tangents=new Int16Array(l),s.delete()},e.IcoSphere.prototype.subdivide=function(){const e=this.triangles,t=this.vertices,r=e.length/3,n=4*r,i=t.length/3,o=i+3*r,a=new Uint16Array(3*n),u=new Float32Array(3*o);u.set(t);for(var s=0,c=0,f=3*i,l=f+3,d=l+3,h=0;h<r;h++,f+=9,l+=9,d+=9){const r=3*e[s++],n=3*e[s++],i=3*e[s++],o=t.subarray(r,r+3),h=t.subarray(n,n+3),m=t.subarray(i,i+3),p=u.subarray(f,f+3),g=u.subarray(l,l+3),v=u.subarray(d,d+3);vec3.normalize(p,vec3.add(p,o,h)),vec3.normalize(g,vec3.add(g,h,m)),vec3.normalize(v,vec3.add(v,m,o)),a[c++]=r/3,a[c++]=f/3,a[c++]=d/3,a[c++]=f/3,a[c++]=n/3,a[c++]=l/3,a[c++]=d/3,a[c++]=f/3,a[c++]=l/3,a[c++]=i/3,a[c++]=d/3,a[c++]=l/3}this.triangles=a,this.vertices=u},e.packSnorm16=function(e){return Math.round(32767*jf(e,-1,1))},e.loadMathExtensions=function(){vec4.packSnorm16=function(t,r){return t[0]=e.packSnorm16(r[0]),t[1]=e.packSnorm16(r[1]),t[2]=e.packSnorm16(r[2]),t[3]=e.packSnorm16(r[3]),t};const t=mat3.fromRotation;mat3.fromRotation=function(e,r,n){return n?mat3.fromMat4(e,mat4.fromRotation(mat4.create(),r,n)):t(e,r)}},e._createTextureFromKtx=function(t,r,n){const i=(n=n||{}).ktx||new e.KtxBundle(t),o=!!n.srgb;return e.ktx$createTexture(r,i,o)},e._createIblFromKtx=function(t,r,n){const i=(n=n||{}).ktx=new e.KtxBundle(t),o=i.info().glInternalFormat;o!=this.ctx.R11F_G11F_B10F&&o!=this.ctx.RGB16F&&o!=this.ctx.RGB32F&&console.warn("IBL texture format is 0x"+o.toString(16)+" which is not an expected floating-point format. Please use cmgen to generate IBL.");const a=e._createTextureFromKtx(t,r,n),u=i.getMetadata("sh"),s=e.IndirectLight.Builder().reflections(a).build(r);return s.shfloats=u.split(/\s/,27).map(parseFloat),s},e._createTextureFromImageFile=function(t,r,n){const i=e.Texture$Sampler,o=e.Texture$InternalFormat,a=e.PixelDataFormat,u=!!(n=n||{}).srgb,s=!!n.noalpha,c=!!n.nomips,f=e.decodeImage(t,s?3:4);var l,d,h;s?(l=u?o.SRGB8:o.RGB8,d=a.RGB,h=e.PixelDataType.UBYTE):(l=u?o.SRGB8_A8:o.RGBA8,d=a.RGBA,h=e.PixelDataType.UBYTE);const m=e.Texture.Builder().width(f.width).height(f.height).levels(c?1:255).sampler(i.SAMPLER_2D).format(l).build(r),p=e.PixelBuffer(f.data.getBytes(),d,h);return m.setImage(r,0,p),c||m.generateMipmaps(r),m},e.getSupportedFormats=function(){if(e.supportedFormats)return e.supportedFormats;const t={s3tc:!1,astc:!1,etc:!1};var r,n=document.createElement("canvas").getContext("webgl2",{majorVersion:2,minorVersion:0}).getSupportedExtensions(),i=n.length;for(r=0;r<i;r++){var o=n[r];"WEBGL_compressed_texture_s3tc"==o?t.s3tc=!0:"WEBGL_compressed_texture_astc"==o?t.astc=!0:"WEBGL_compressed_texture_etc"==o&&(t.etc=!0)}return e.supportedFormats=t},e.getSupportedFormatSuffix=function(t){t=t.split(" ");var r=e.getSupportedFormats();for(var n in r)if(r[n]&&t.includes(n))return"_"+n;return""},e}("object"==typeof o?o:{});e.exports=o}).call(this,r(5),"/",r(6).Buffer)},function(e,t,r){"use strict";t.__esModule=!0;t.ibl="env/autumn_ground_ibl.ktx.bmp",t.sky="env/autumn_ground_skybox.ktx.bmp",t.nonlitMaterial="materials/nonlit.filamat",t.pbrMaterial="materials/pbr.filamat",t.texMaterial="materials/tex.filamat",t.diffuse="diffuse.jpg",t.specular="specular.jpg",t.normal="normal.jpg",t.mesh="filamesh",t.collision="tracks/collision.png",t.elevation="tracks/height.png"},function(e,t,r){"use strict";t.__esModule=!0;var n=r(0),i=function(){function e(e){this.speed=0,this.accelerating=!1,this.boosted=!1,this.position=n.vec3.copy(n.vec3.create(),e),this.orientation=n.quat.create(),this.matrix=n.mat4.create(),this.temp=n.vec3.create(),this.collisionState={front:!1,left:!1,right:!1}}return e.prototype.getMatrix=function(){return n.mat4.fromRotationTranslation(this.matrix,this.orientation,this.position)},e.prototype.translate=function(e){n.vec3.transformQuat(this.temp,e,this.orientation),n.vec3.add(this.position,this.position,this.temp)},e}();t.default=i},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1),i=r(2),o=r(0),a=r(14),u=r(15),s=r(16),c=r(17),f=r(3),l=[i.sky,i.ibl,i.pbrMaterial,i.nonlitMaterial,i.texMaterial];n.init(l,(function(){o.glMatrix.setMatrixArrayType(Array),window.app=new d}));var d=function(){function e(){this.tick=this.tick.bind(this);var e=document.getElementsByTagName("canvas")[0],t=new f.default(h);this.simulation=new c.default(t),this.audio=new a.default(t),this.display=new s.default(e,t,this.audio.init.bind(this.audio)),this.chasecam=new u.default(this.display.camera,t),this.time=Date.now(),window.requestAnimationFrame(this.tick)}return e.prototype.tick=function(){var e=Date.now(),t=.1*(e-this.time);this.time=e,this.simulation.tick(t),this.chasecam.tick(t),this.display.render(),this.audio.render(),window.requestAnimationFrame(this.tick)},e}(),h=o.vec3.fromValues(-2268,400,-886)},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var s,c=[],f=!1,l=-1;function d(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=u(d);f=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||f||u(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=p,i.addListener=p,i.once=p,i.off=p,i.removeListener=p,i.removeAllListeners=p,i.emit=p,i.prependListener=p,i.prependOnceListener=p,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(8),i=r(9),o=r(10);function a(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=s.prototype:(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,r){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);s.TYPED_ARRAY_SUPPORT?(e=t).__proto__=s.prototype:e=d(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!s.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|m(t,r),i=(e=u(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(s.isBuffer(t)){var r=0|h(t.length);return 0===(e=u(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?u(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=u(e,t<0?0:0|h(t)),!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|h(t.length);e=u(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function m(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(n)return V(e).length;t=(""+t).toLowerCase(),n=!0}}function p(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return S(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var o,a=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var f=-1;for(o=r;o<u;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===s)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(r+s>u&&(r=u-s),o=r;o>=0;o--){for(var l=!0,d=0;d<s;d++)if(c(e,o+d)!==c(t,d)){l=!1;break}if(l)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[r+a]=u}return a}function _(e,t,r,n){return N(V(t,e.length-r),e,r,n)}function w(e,t,r,n){return N(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return w(e,t,r,n)}function x(e,t,r,n){return N(j(t),e,r,n)}function M(e,t,r,n){return N(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function P(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,u,s,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=e[i+1]))&&(s=(31&c)<<6|63&o)>127&&(f=s);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(s=(15&c)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(f=s);break;case 4:o=e[i+1],a=e[i+2],u=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&u)&&(s=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&u)>65535&&s<1114112&&(f=s)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=s,t.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},t.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,r){return c(null,e,t,r)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,r){return function(e,t,r,n){return f(t),t<=0?u(e,t):void 0!==r?"string"==typeof n?u(e,t).fill(r,n):u(e,t).fill(r):u(e,t)}(null,e,t,r)},s.allocUnsafe=function(e){return l(null,e)},s.allocUnsafeSlow=function(e){return l(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},s.byteLength=m,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?P(this,0,e):p.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,r,n,i){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),u=Math.min(o,a),c=this.slice(n,i),f=e.slice(t,r),l=0;l<u;++l)if(c[l]!==f[l]){o=c[l],a=f[l];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return w(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function k(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=O(e[o]);return i}function C(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function B(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,r,n,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function I(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function R(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return o||R(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function U(e,t,r,n,o){return o||R(e,0,r,8),i.write(e,t,r,n,52,8),r+8}s.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=s.prototype;else{var i=t-e;r=new s(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},s.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUInt8=function(e,t){return t||B(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||B(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||B(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||B(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||B(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){t||B(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||B(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||B(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||B(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||B(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||D(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var o=0,a=1,u=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===u&&0!==this[t+o-1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);D(this,e,t,r,i-1,-i)}var o=r-1,a=1,u=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===u&&0!==this[t+o+1]&&(u=1),this[t+o]=(e/a>>0)-u&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return U(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return U(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=s.isBuffer(e)?e:V(new s(e,n).toString()),u=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%u]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function O(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function j(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(7))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],u=n[1],s=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,u)),f=0,l=u>0?a-4:a;for(r=0;r<l;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],s[f++]=t>>16&255,s[f++]=t>>8&255,s[f++]=255&t;2===u&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,s[f++]=255&t);1===u&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,s[f++]=t>>8&255,s[f++]=255&t);return s},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,u=r-i;a<u;a+=16383)o.push(f(e,a,a+16383>u?u:a+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,s=a.length;u<s;++u)n[u]=a[u],i[a.charCodeAt(u)]=u;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var i,o,a=[],u=t;u<r;u+=3)i=(e[u]<<16&16711680)+(e[u+1]<<8&65280)+(255&e[u+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,i){var o,a,u=8*i-n-1,s=(1<<u)-1,c=s>>1,f=-7,l=r?i-1:0,d=r?-1:1,h=e[t+l];for(l+=d,o=h&(1<<-f)-1,h>>=-f,f+=u;f>0;o=256*o+e[t+l],l+=d,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=n;f>0;a=256*a+e[t+l],l+=d,f-=8);if(0===o)o=1-c;else{if(o===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),o-=c}return(h?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,u,s,c=8*o-i-1,f=(1<<c)-1,l=f>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,m=n?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+l>=1?d/s:d*Math.pow(2,1-l))*s>=2&&(a++,s/=2),a+l>=f?(u=0,a=f):a+l>=1?(u=(t*s-1)*Math.pow(2,i),a+=l):(u=t*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;e[r+h]=255&u,h+=m,u/=256,i-=8);for(a=a<<i|u,c+=i;c>0;e[r+h]=255&a,h+=m,a/=256,c-=8);e[r+h-m]|=128*p}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t){e.exports=fs},function(e,t){e.exports=path},function(e,t){if("undefined"==typeof crypto){var r=new Error("Cannot find module 'crypto'");throw r.code="MODULE_NOT_FOUND",r}e.exports=crypto},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1),i=["audio/boost.ogg","audio/crash.ogg","audio/wind.ogg"],o=function(){function e(e){var t=this;this.vehicle=e,this.ready=!1,this.sources={},this.states={},this.hasInteracted=!1,document.addEventListener("keydown",(function(e){t.hasInteracted||(t.hasInteracted=!0,t.load()),77===e.keyCode&&t.context.suspend()})),this.loadTasks=2}return e.prototype.init=function(){n.fetch(i,this.load.bind(this))},e.prototype.render=function(){this.ready&&(this.vehicle.collisionState.left&&this.playOnce("crash"),this.vehicle.collisionState.right&&this.playOnce("crash"),this.vehicle.collisionState.front&&this.playOnce("crash"),this.vehicle.boosted&&this.playOnce("boost",.5),this.vehicle.accelerating?this.play("background"):this.stop("background"))},e.prototype.playOnce=function(e,t){void 0===t&&(t=0);var r=this.context.createBufferSource();r.buffer=this.sources[e].buffer,r.connect(this.context.destination),r.loop=!1,r.start(0,t)},e.prototype.play=function(e){this.states[e]||(this.sources[e].connect(this.context.destination),this.states[e]=!0)},e.prototype.stop=function(e){this.states[e]&&(this.sources[e].disconnect(),this.states[e]=!1)},e.prototype.load=function(){var e=this;if(!(--this.loadTasks>0)){var t={boost:n.assets[i[0]].buffer,crash:n.assets[i[1]].buffer,background:n.assets[i[2]].buffer},r=this.context=new AudioContext,o=Object.keys(t).length,a=function(t,r){e.sources[t]=r,e.states[t]=!1,0==--o&&(e.ready=!0,e.sources.background.start())};r.decodeAudioData(t.boost,(function(e){var t=r.createBufferSource();t.buffer=e,t.connect(r.destination),t.loop=!1,a("boost",t)})),r.decodeAudioData(t.crash,(function(e){var t=r.createBufferSource();t.buffer=e,t.connect(r.destination),t.loop=!1,a("crash",t)})),r.decodeAudioData(t.background,(function(e){var t=r.createBufferSource();t.buffer=e,t.loop=!0,a("background",t)}))}},e}();t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n=r(0),i=function(){function e(e,t){this.camera=e,this.vehicle=t,this.speedOffset=0}return e.prototype.tick=function(e){var t=this.vehicle.speed,r=this.vehicle.orientation,i=this.vehicle.position;this.speedOffset+=(u*t-this.speedOffset)*Math.min(1,.3*e);var c=n.vec3.fromValues(0,1,0);n.vec3.transformQuat(c,c,r);var f=n.vec3.fromValues(0,0,1);n.vec3.transformQuat(f,f,r);var l=n.vec3.copy(n.vec3.create(),i);n.vec3.scale(f,f,a+this.speedOffset),n.vec3.subtract(l,l,f),n.vec3.scale(c,c,o),n.vec3.add(l,l,c);var d=n.vec3.copy(n.vec3.create(),i);n.vec3.set(c,0,1,0),n.vec3.transformQuat(c,c,r),n.vec3.scale(c,c,s),n.vec3.add(d,d,c),this.camera.lookAt(l,d,[0,1,0])},e}();t.default=i;var o=10,a=23,u=10,s=6},function(e,t,r){"use strict";t.__esModule=!0;var n=r(1),i=r(2),o=function(){function e(e,t,r){var o=this;this.canvas=e,this.vehicle=t,this.engine=n.Engine.create(e),this.scene=this.engine.createScene(),this.skybox=this.engine.createSkyFromKtx(i.sky),this.scene.setSkybox(this.skybox),this.indirectLight=this.engine.createIblFromKtx(i.ibl),this.indirectLight.setIntensity(1e5),this.scene.setIndirectLight(this.indirectLight),this.swapChain=this.engine.createSwapChain(),this.renderer=this.engine.createRenderer(),this.camera=this.engine.createCamera(),this.view=this.engine.createView(),this.view.setCamera(this.camera),this.view.setScene(this.scene),this.sampler=new n.TextureSampler(n.MinFilter.LINEAR_MIPMAP_LINEAR,n.MagFilter.LINEAR,n.WrapMode.REPEAT),this.pbrMaterial=this.engine.createMaterial(i.pbrMaterial),this.nonlitMaterial=this.engine.createMaterial(i.nonlitMaterial),this.texMaterial=this.engine.createMaterial(i.texMaterial);var a=function(e){o.scene.addEntity(e)},u=[i.diffuse,i.specular,i.normal,i.mesh],s=u.map((function(e){return"ship/"+e}));n.fetch(s,(function(){var e=o.pbrMaterial.createInstance();o.ship=o.createRenderable("ship",e,1),a(o.ship);for(var t=function(e){var t=u.map((function(t){return e+"/"+t}));n.fetch(t,(function(){var t=o.pbrMaterial.createInstance();a(o.createRenderable(e,t,.1))}))},r=0,i=["scrapers1","scrapers2"];r<i.length;r++){t(i[r])}for(var s=function(e){var t=u.map((function(t){return e+"/"+t}));n.fetch(t,(function(){var t=o.pbrMaterial.createInstance();a(o.createRenderable(e,t,0))}))},c=0,f=["tracks"];c<f.length;c++){s(f[c])}n.fetch(["bonusspeed/filamesh"],(function(){var e=o.nonlitMaterial.createInstance();e.setFloat4Parameter("color",[0,.2,.6,1]);var t=o.engine.loadFilamesh("bonusspeed/filamesh",e,{});a(t.renderable)}));n.fetch(["startbanner/filamesh","startbanner/albedo.jpg"],(function(){var e=o.texMaterial.createInstance(),t=o.engine.createTextureFromJpeg("startbanner/albedo.jpg");e.setTextureParameter("albedo",t,o.sampler);var r=o.engine.loadFilamesh("startbanner/filamesh",e,{});a(r.renderable)}));n.fetch(["startpanels/filamesh","startpanels/albedo.jpg"],(function(){var e=o.texMaterial.createInstance(),t=o.engine.createTextureFromJpeg("startpanels/albedo.jpg");e.setTextureParameter("albedo",t,o.sampler);var r=o.engine.loadFilamesh("startpanels/filamesh",e,{});a(r.renderable)}))}));var c=n.EntityManager.get().create();n.LightManager.Builder(n.LightManager$Type.SUN).color([.98,.92,.89]).castShadows(!0).intensity(11e4).direction([.5,-1,0]).build(this.engine,c),a(c),this.resize=this.resize.bind(this),window.addEventListener("resize",this.resize),this.resize()}return e.prototype.render=function(){if(this.ship){var e=this.engine.getTransformManager(),t=e.getInstance(this.ship);e.setTransform(t,this.vehicle.getMatrix()),t.delete()}this.renderer.render(this.swapChain,this.view)},e.prototype.resize=function(){var e=window.devicePixelRatio,t=this.canvas.width=this.canvas.clientWidth*e,r=this.canvas.height=this.canvas.clientHeight*e;this.view.setViewport([0,0,t,r]);var i=t/r,o=n.Camera$Fov,a=i<1?o.HORIZONTAL:o.VERTICAL;this.camera.setProjectionFov(45,i,1,2e4,a)},e.prototype.createRenderable=function(e,t,r){var n=this.engine.createTextureFromJpeg(e+"/"+i.diffuse),o=this.engine.createTextureFromJpeg(e+"/"+i.specular),a=this.engine.createTextureFromJpeg(e+"/"+i.normal);t.setTextureParameter("diffuse",n,this.sampler),t.setTextureParameter("specular",o,this.sampler),t.setTextureParameter("normal",a,this.sampler),t.setFloatParameter("metallic",1),t.setFloatParameter("reflectance",1),t.setFloatParameter("clearCoat",r),t.setFloatParameter("clearCoatRoughness",0);var u=this.engine.loadFilamesh(e+"/"+i.mesh,t,{}).renderable,s=this.engine.getRenderableManager(),c=s.getInstance(u);return s.setCastShadows(c,!0),s.setReceiveShadows(c,!0),c.delete(),u},e}();t.default=o},function(e,t,r){"use strict";t.__esModule=!0;var n=r(2),i=r(18),o=r(3),a=r(0),u=function(){function e(e){this.simvehicle=new o.default(e.position),this.gfxvehicle=e,this.collision=new i.default(n.collision),this.elevation=new i.default(n.elevation),this.keyState={backward:!1,forward:!1,left:!1,ltrigger:!1,right:!1,rtrigger:!1,use:!1},document.addEventListener("keydown",this.onKeyDown.bind(this)),document.addEventListener("keyup",this.onKeyUp.bind(this)),this.movement=a.vec3.fromValues(0,0,0),this.roll=0,this.drift=0,this.speed=0,this.boost=0,this.yawAngle=0,this.gradient=0,this.gradientTarget=0,this.tilt=0,this.tiltTarget=0,this.repulsionVLeft=a.vec3.fromValues(1,0,0),this.repulsionVRight=a.vec3.fromValues(-1,0,0),this.repulsionForce=a.vec3.create()}return e.prototype.tick=function(e){if(this.collision.ready()&&this.elevation.ready()){a.vec3.copy(this.simvehicle.position,this.gfxvehicle.position),a.vec3.set(this.movement,0,0,0),this.drift=-this.drift*M,this.yawAngle=-this.yawAngle*A*.5;var t,r,n,i,o,u,p,g,b,_=0,E=0;if(this.keyState.left&&(E+=v*e,_-=S),this.keyState.right&&(E-=v*e,_+=S),this.keyState.forward?(this.gfxvehicle.accelerating=!0,this.speed+=d*e):(this.gfxvehicle.accelerating=!1,this.speed-=f*e),this.keyState.ltrigger&&(this.keyState.left?E+=y*e:E+=.5*y*e,this.speed-=h*e,this.drift+=(l-this.drift)*M,this.movement[0]+=this.speed*this.drift*e,this.drift>0&&(this.movement[2]-=this.speed*this.drift*e),_-=.7*S),this.keyState.rtrigger&&(this.keyState.right?E-=y*e:E-=.5*y*e,this.speed-=h*e,this.drift+=(-l-this.drift)*M,this.movement[0]+=this.speed*this.drift*e,this.drift<0&&(this.movement[2]+=this.speed*this.drift*e),_+=.7*S),this.yawAngle+=(E-this.yawAngle)*A,this.speed=Math.max(0,Math.min(this.speed,m)),this.movement[2]+=this.speed*e,t=this.repulsionForce,r=c,n=1e-4,i=t[0],o=t[1],u=t[2],p=r[0],g=r[1],b=r[2],Math.abs(i-p)<=n*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-g)<=n*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(u-b)<=n*Math.max(1,Math.abs(u),Math.abs(b)))a.vec3.copy(this.repulsionForce,c);else{0!==this.repulsionForce[2]&&(this.movement[2]=0),a.vec3.add(this.movement,this.movement,this.repulsionForce);var x=e>1.5?2*w:w;a.vec3.lerp(this.repulsionForce,this.repulsionForce,c,x)}this.boosterCheck(e),this.simvehicle.translate(a.vec3.fromValues(this.movement[0],0,this.movement[2])),this.heightCheck(),this.simvehicle.translate(a.vec3.fromValues(0,this.movement[1],0)),this.collisionCheck();var B=150*this.yawAngle,I=a.quat.fromEuler(a.quat.create(),0,B,0);a.quat.multiply(this.simvehicle.orientation,this.simvehicle.orientation,I);var R=a.mat4.identity(a.mat4.create()),L=(this.gradientTarget-this.gradient)*D;Math.abs(L)>s&&(this.gradient+=L),Math.abs(this.gradient)>s&&a.mat4.rotate(R,R,this.gradient,P);var U=(this.tiltTarget-this.tilt)*F;Math.abs(U)>s&&(this.tilt+=U),Math.abs(this.tilt)>s&&a.mat4.rotate(R,R,this.tilt,T);var G=(_-this.roll)*k;Math.abs(G)>s&&(this.roll+=G),Math.abs(this.roll)>s&&a.mat4.rotate(R,R,this.roll,C),a.mat4.multiply(R,this.simvehicle.getMatrix(),R),a.mat4.getTranslation(this.gfxvehicle.position,R),a.mat4.getRotation(this.gfxvehicle.orientation,R)}},e.prototype.onKeyDown=function(e){var t=this.keyState;switch(e.keyCode){case 38:t.forward=!0;break;case 40:t.backward=!0;break;case 37:t.left=!0;break;case 39:t.right=!0;break;case 81:case 65:t.ltrigger=!0;break;case 68:case 69:t.rtrigger=!0}},e.prototype.onKeyUp=function(e){var t=this.keyState;switch(e.keyCode){case 38:t.forward=!1;break;case 40:t.backward=!1;break;case 37:t.left=!1;break;case 39:t.right=!1;break;case 81:case 65:t.ltrigger=!1;break;case 68:case 69:t.rtrigger=!1}},e.prototype.collisionCheck=function(){this.gfxvehicle.collisionState.left=!1,this.gfxvehicle.collisionState.right=!1,this.gfxvehicle.collisionState.front=!1;var e=this.simvehicle.position,t=this.simvehicle.orientation,r=this.collision.width/2+e[0]*B,n=this.collision.height/2+e[2]*B,i=a.vec3.fromValues(r,0,n),o=this.collision.getPixelBilinear(r,n);if(o.r<255){a.vec3.set(this.repulsionVLeft,1,0,0),a.vec3.set(this.repulsionVRight,-1,0,0),a.vec3.transformQuat(this.repulsionVLeft,this.repulsionVLeft,t),a.vec3.transformQuat(this.repulsionVRight,this.repulsionVRight,t);var u=a.vec3.add(this.repulsionVLeft,this.repulsionVLeft,i),s=a.vec3.add(this.repulsionVRight,this.repulsionVRight,i),c=this.collision.getPixel(Math.round(u[0]),Math.round(u[2])).r,f=this.collision.getPixel(Math.round(s[0]),Math.round(s[2])).r,l=Math.max(.8,Math.min(_,this.speed*b));if(f>c?(this.repulsionForce[0]-=l,this.gfxvehicle.collisionState.left=!0):f<c?(this.repulsionForce[0]+=l,this.gfxvehicle.collisionState.right=!0):(this.repulsionForce[2]-=4*l,this.gfxvehicle.collisionState.front=!0,this.speed=0),f<128&&c<128)this.collision.getPixel(Math.round(i[0]+2),Math.round(i[2]+2)).r<128&&console.log("GAMEOVER");this.speed*=E,this.speed*=1-x*(1-o.r/255),this.boost=0}},e.prototype.boosterCheck=function(e){this.gfxvehicle.boosted=!1;var t=this.simvehicle.position;this.boost-=g*e,this.boost<0&&(this.boost=0);var r=Math.round(this.collision.width/2+t[0]*B),n=Math.round(this.collision.height/2+t[2]*B),i=this.collision.getPixel(r,n);255===i.r&&i.g<127&&i.b<127&&(0===this.boost&&(this.gfxvehicle.boosted=!0),this.boost=p),this.movement[2]+=this.boost*e},e.prototype.heightCheck=function(){var e=this.simvehicle.position,t=this.simvehicle.orientation,r=this.elevation.width/2+e[0]*I,n=this.elevation.height/2+e[2]*I,i=this.elevation.getPixelFBilinear(r,n)/U+R;if(i<16777){var o=i-e[1];this.movement[1]+=o>0?o:o*L}var u=a.vec3.fromValues(0,0,5);a.vec3.transformQuat(u,u,t),a.vec3.add(u,u,e),r=this.elevation.width/2+u[0]*I,n=this.elevation.height/2+u[2]*I;var s=this.elevation.getPixelFBilinear(r,n)/U+R;s<16777&&(this.gradientTarget=-Math.atan2(s-i,5));var c=a.vec3.fromValues(5,0,0);a.vec3.transformQuat(c,c,t),a.vec3.add(c,c,e),r=this.elevation.width/2+c[0]*I,n=this.elevation.height/2+c[2]*I,(s=this.elevation.getPixelFBilinear(r,n)/U+R)>=16777&&(a.vec3.subtract(c,c,e),a.vec3.scale(c,c,-1),a.vec3.add(c,c,e),r=this.elevation.width/2+c[0]*I,n=this.elevation.height/2+c[2]*I,s=this.elevation.getPixelFBilinear(r,n)/U+R),s<16777&&(this.tiltTarget=Math.atan2(s-i,5))},e}();t.default=u;var s=1e-8,c=a.vec3.create(),f=.02,l=.1,d=.02,h=.02,m=7,p=.2*m,g=.01,v=.005,y=.0065,b=.5,_=2.5,w=.1,E=.8,x=.8,M=.35,A=.35,P=a.vec3.fromValues(1,0,0),T=a.vec3.fromValues(0,0,1),S=.6,k=.08,C=a.vec3.fromValues(0,0,1),B=2048/6e3,D=.05,F=.05,I=2048/6e3,R=4,L=.4,U=10},function(e,t,r){"use strict";t.__esModule=!0;var n=function(){function e(e){var t=this;this.image=new Image,this.pixels=null,this.canvas=null,this.image.onload=function(){var e=t.canvas=document.createElement("canvas");t.canvas.width=t.image.width,t.canvas.height=t.image.height;var r=t.canvas.getContext("2d");r.drawImage(t.image,0,0),t.pixels=r.getImageData(0,0,e.width,e.height),t.width=t.pixels.width,t.height=t.pixels.height,t.canvas=null,t.image=null},this.image.src=e}return e.prototype.ready=function(){return null===this.image},e.prototype.getPixel=function(e,t){if(!this.pixels||e<0||t<0||e>=this.pixels.width||t>=this.pixels.height)return{r:0,g:0,b:0,a:0};var r=4*(t*this.pixels.width+e);return{r:this.pixels.data[r],g:this.pixels.data[r+1],b:this.pixels.data[r+2],a:this.pixels.data[r+3]}},e.prototype.getPixelBilinear=function(e,t){var r=Math.floor(e),n=Math.floor(t),i=e-r-.5,o=t-n-.5,a=Math.abs(i),u=Math.abs(o),s=i<0?-1:1,c=o<0?-1:1,f=this.getPixel(r,n),l=this.getPixel(r+s,n),d=this.getPixel(r,n+c),h=this.getPixel(r+s,n+c),m=[(1-a)*f.r+a*l.r,(1-a)*f.g+a*l.g,(1-a)*f.b+a*l.b,(1-a)*f.a+a*l.a],p=[(1-a)*d.r+a*h.r,(1-a)*d.g+a*h.g,(1-a)*d.b+a*h.b,(1-a)*d.a+a*h.a];return{r:(1-u)*m[0]+u*p[0],g:(1-u)*m[1]+u*p[1],b:(1-u)*m[2]+u*p[2],a:(1-u)*m[3]+u*p[3]}},e.prototype.getPixelF=function(e,t){var r=this.getPixel(e,t);return r.r+255*r.g+255*r.b*255},e.prototype.getPixelFBilinear=function(e,t){var r=this.getPixelBilinear(e,t);return r.r+255*r.g+255*r.b*255},e}();t.default=n}]);
//# sourceMappingURL=main.js.map